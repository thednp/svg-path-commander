var SVGPathCommander=function(b){"use strict";var tn=Object.defineProperty,en=(e,t,r)=>t in e?tn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,I=(e,t,r)=>en(e,typeof t!="symbol"?t+"":t,r);const nn={a:1,b:0,c:0,d:1,e:0,f:0,m11:1,m12:0,m13:0,m14:0,m21:0,m22:1,m23:0,m24:0,m31:0,m32:0,m33:1,m34:0,m41:0,m42:0,m43:0,m44:1,is2D:!0,isIdentity:!0},fe=e=>(e instanceof Float64Array||e instanceof Float32Array||Array.isArray(e)&&e.every(t=>typeof t=="number"))&&[6,16].some(t=>e.length===t),ge=e=>e instanceof DOMMatrix||e instanceof T||typeof e=="object"&&Object.keys(nn).every(t=>e&&t in e),ct=e=>{const t=new T,r=Array.from(e);if(!fe(r))throw TypeError(`CSSMatrix: "${r.join(",")}" must be an array with 6/16 numbers.`);if(r.length===16){const[i,n,s,o,c,a,l,m,h,f,g,u,y,A,x,C]=r;t.m11=i,t.a=i,t.m21=c,t.c=c,t.m31=h,t.m41=y,t.e=y,t.m12=n,t.b=n,t.m22=a,t.d=a,t.m32=f,t.m42=A,t.f=A,t.m13=s,t.m23=l,t.m33=g,t.m43=x,t.m14=o,t.m24=m,t.m34=u,t.m44=C}else if(r.length===6){const[i,n,s,o,c,a]=r;t.m11=i,t.a=i,t.m12=n,t.b=n,t.m21=s,t.c=s,t.m22=o,t.d=o,t.m41=c,t.e=c,t.m42=a,t.f=a}return t},ye=e=>{if(ge(e))return ct([e.m11,e.m12,e.m13,e.m14,e.m21,e.m22,e.m23,e.m24,e.m31,e.m32,e.m33,e.m34,e.m41,e.m42,e.m43,e.m44]);throw TypeError(`CSSMatrix: "${JSON.stringify(e)}" is not a DOMMatrix / CSSMatrix / JSON compatible object.`)},de=e=>{if(typeof e!="string")throw TypeError(`CSSMatrix: "${JSON.stringify(e)}" is not a string.`);const t=String(e).replace(/\s/g,"");let r=new T;const i=`CSSMatrix: invalid transform string "${e}"`;return t.split(")").filter(n=>n).forEach(n=>{const[s,o]=n.split("(");if(!o)throw TypeError(i);const c=o.split(",").map(u=>u.includes("rad")?parseFloat(u)*(180/Math.PI):parseFloat(u)),[a,l,m,h]=c,f=[a,l,m],g=[a,l,m,h];if(s==="perspective"&&a&&[l,m].every(u=>u===void 0))r.m34=-1/a;else if(s.includes("matrix")&&[6,16].includes(c.length)&&c.every(u=>!Number.isNaN(+u))){const u=c.map(y=>Math.abs(y)<1e-6?0:y);r=r.multiply(ct(u))}else if(s==="translate3d"&&f.every(u=>!Number.isNaN(+u)))r=r.translate(a,l,m);else if(s==="translate"&&a&&m===void 0)r=r.translate(a,l||0,0);else if(s==="rotate3d"&&g.every(u=>!Number.isNaN(+u))&&h)r=r.rotateAxisAngle(a,l,m,h);else if(s==="rotate"&&a&&[l,m].every(u=>u===void 0))r=r.rotate(0,0,a);else if(s==="scale3d"&&f.every(u=>!Number.isNaN(+u))&&f.some(u=>u!==1))r=r.scale(a,l,m);else if(s==="scale"&&!Number.isNaN(a)&&(a!==1||l!==1)&&m===void 0){const u=Number.isNaN(+l)?a:l;r=r.scale(a,u,1)}else if(s==="skew"&&(a||!Number.isNaN(a)&&l)&&m===void 0)r=r.skew(a,l||0);else if(["translate","rotate","scale","skew"].some(u=>s.includes(u))&&/[XYZ]/.test(s)&&a&&[l,m].every(u=>u===void 0))if(s==="skewX"||s==="skewY")r=r[s](a);else{const u=s.replace(/[XYZ]/,""),y=s.replace(u,""),A=["X","Y","Z"].indexOf(y),x=u==="scale"?1:0,C=[A===0?a:x,A===1?a:x,A===2?a:x];r=r[u](...C)}else throw TypeError(i)}),r},kt=(e,t)=>t?[e.a,e.b,e.c,e.d,e.e,e.f]:[e.m11,e.m12,e.m13,e.m14,e.m21,e.m22,e.m23,e.m24,e.m31,e.m32,e.m33,e.m34,e.m41,e.m42,e.m43,e.m44],be=(e,t,r)=>{const i=new T;return i.m41=e,i.e=e,i.m42=t,i.f=t,i.m43=r,i},pe=(e,t,r)=>{const i=new T,n=Math.PI/180,s=e*n,o=t*n,c=r*n,a=Math.cos(s),l=-Math.sin(s),m=Math.cos(o),h=-Math.sin(o),f=Math.cos(c),g=-Math.sin(c),u=m*f,y=-m*g;i.m11=u,i.a=u,i.m12=y,i.b=y,i.m13=h;const A=l*h*f+a*g;i.m21=A,i.c=A;const x=a*f-l*h*g;return i.m22=x,i.d=x,i.m23=-l*m,i.m31=l*g-a*h*f,i.m32=l*f+a*h*g,i.m33=a*m,i},Ae=(e,t,r,i)=>{const n=new T,s=Math.sqrt(e*e+t*t+r*r);if(s===0)return n;const o=e/s,c=t/s,a=r/s,l=i*(Math.PI/360),m=Math.sin(l),h=Math.cos(l),f=m*m,g=o*o,u=c*c,y=a*a,A=1-2*(u+y)*f;n.m11=A,n.a=A;const x=2*(o*c*f+a*m*h);n.m12=x,n.b=x,n.m13=2*(o*a*f-c*m*h);const C=2*(c*o*f-a*m*h);n.m21=C,n.c=C;const d=1-2*(y+g)*f;return n.m22=d,n.d=d,n.m23=2*(c*a*f+o*m*h),n.m31=2*(a*o*f+c*m*h),n.m32=2*(a*c*f-o*m*h),n.m33=1-2*(g+u)*f,n},xe=(e,t,r)=>{const i=new T;return i.m11=e,i.a=e,i.m22=t,i.d=t,i.m33=r,i},Ct=(e,t)=>{const r=new T;if(e){const i=e*Math.PI/180,n=Math.tan(i);r.m21=n,r.c=n}if(t){const i=t*Math.PI/180,n=Math.tan(i);r.m12=n,r.b=n}return r},Ce=e=>Ct(e,0),Me=e=>Ct(0,e),B=(e,t)=>{const r=t.m11*e.m11+t.m12*e.m21+t.m13*e.m31+t.m14*e.m41,i=t.m11*e.m12+t.m12*e.m22+t.m13*e.m32+t.m14*e.m42,n=t.m11*e.m13+t.m12*e.m23+t.m13*e.m33+t.m14*e.m43,s=t.m11*e.m14+t.m12*e.m24+t.m13*e.m34+t.m14*e.m44,o=t.m21*e.m11+t.m22*e.m21+t.m23*e.m31+t.m24*e.m41,c=t.m21*e.m12+t.m22*e.m22+t.m23*e.m32+t.m24*e.m42,a=t.m21*e.m13+t.m22*e.m23+t.m23*e.m33+t.m24*e.m43,l=t.m21*e.m14+t.m22*e.m24+t.m23*e.m34+t.m24*e.m44,m=t.m31*e.m11+t.m32*e.m21+t.m33*e.m31+t.m34*e.m41,h=t.m31*e.m12+t.m32*e.m22+t.m33*e.m32+t.m34*e.m42,f=t.m31*e.m13+t.m32*e.m23+t.m33*e.m33+t.m34*e.m43,g=t.m31*e.m14+t.m32*e.m24+t.m33*e.m34+t.m34*e.m44,u=t.m41*e.m11+t.m42*e.m21+t.m43*e.m31+t.m44*e.m41,y=t.m41*e.m12+t.m42*e.m22+t.m43*e.m32+t.m44*e.m42,A=t.m41*e.m13+t.m42*e.m23+t.m43*e.m33+t.m44*e.m43,x=t.m41*e.m14+t.m42*e.m24+t.m43*e.m34+t.m44*e.m44;return ct([r,i,n,s,o,c,a,l,m,h,f,g,u,y,A,x])};class T{constructor(t){return this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this.m11=1,this.m12=0,this.m13=0,this.m14=0,this.m21=0,this.m22=1,this.m23=0,this.m24=0,this.m31=0,this.m32=0,this.m33=1,this.m34=0,this.m41=0,this.m42=0,this.m43=0,this.m44=1,t?this.setMatrixValue(t):this}get isIdentity(){return this.m11===1&&this.m12===0&&this.m13===0&&this.m14===0&&this.m21===0&&this.m22===1&&this.m23===0&&this.m24===0&&this.m31===0&&this.m32===0&&this.m33===1&&this.m34===0&&this.m41===0&&this.m42===0&&this.m43===0&&this.m44===1}get is2D(){return this.m31===0&&this.m32===0&&this.m33===1&&this.m34===0&&this.m43===0&&this.m44===1}setMatrixValue(t){return typeof t=="string"&&t.length&&t!=="none"?de(t):Array.isArray(t)||t instanceof Float64Array||t instanceof Float32Array?ct(t):typeof t=="object"?ye(t):this}toFloat32Array(t){return Float32Array.from(kt(this,t))}toFloat64Array(t){return Float64Array.from(kt(this,t))}toString(){const{is2D:t}=this,r=this.toFloat64Array(t).join(", ");return`${t?"matrix":"matrix3d"}(${r})`}toJSON(){const{is2D:t,isIdentity:r}=this;return{...this,is2D:t,isIdentity:r}}multiply(t){return B(this,t)}translate(t,r,i){const n=t;let s=r,o=i;return typeof s>"u"&&(s=0),typeof o>"u"&&(o=0),B(this,be(n,s,o))}scale(t,r,i){const n=t;let s=r,o=i;return typeof s>"u"&&(s=t),typeof o>"u"&&(o=1),B(this,xe(n,s,o))}rotate(t,r,i){let n=t,s=r||0,o=i||0;return typeof t=="number"&&typeof r>"u"&&typeof i>"u"&&(o=n,n=0,s=0),B(this,pe(n,s,o))}rotateAxisAngle(t,r,i,n){if([t,r,i,n].some(s=>Number.isNaN(+s)))throw new TypeError("CSSMatrix: expecting 4 values");return B(this,Ae(t,r,i,n))}skewX(t){return B(this,Ce(t))}skewY(t){return B(this,Me(t))}skew(t,r){return B(this,Ct(t,r))}transformPoint(t){const r=this.m11*t.x+this.m21*t.y+this.m31*t.z+this.m41*t.w,i=this.m12*t.x+this.m22*t.y+this.m32*t.z+this.m42*t.w,n=this.m13*t.x+this.m23*t.y+this.m33*t.z+this.m43*t.w,s=this.m14*t.x+this.m24*t.y+this.m34*t.z+this.m44*t.w;return t instanceof DOMPoint?new DOMPoint(r,i,n,s):{x:r,y:i,z:n,w:s}}}I(T,"Translate",be),I(T,"Rotate",pe),I(T,"RotateAxisAngle",Ae),I(T,"Scale",xe),I(T,"SkewX",Ce),I(T,"SkewY",Me),I(T,"Skew",Ct),I(T,"Multiply",B),I(T,"fromArray",ct),I(T,"fromMatrix",ye),I(T,"fromString",de),I(T,"toArray",kt),I(T,"isCompatibleArray",fe),I(T,"isCompatibleObject",ge);const D=(e,t,r)=>{const[i,n]=e,[s,o]=t;return[i+(s-i)*r,n+(o-n)*r]},lt=(e,t)=>Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])),mt=(e,t,r,i)=>lt([e,t],[r,i]),Vt=(e,t,r,i,n)=>{let s={x:e,y:t};if(typeof n=="number"){const o=lt([e,t],[r,i]);if(n<=0)s={x:e,y:t};else if(n>=o)s={x:r,y:i};else{const[c,a]=D([e,t],[r,i],n/o);s={x:c,y:a}}}return s},It=(e,t,r,i)=>{const{min:n,max:s}=Math;return[n(e,r),n(t,i),s(e,r),s(t,i)]},Pe=Object.freeze(Object.defineProperty({__proto__:null,getLineBBox:It,getLineLength:mt,getPointAtLineLength:Vt},Symbol.toStringTag,{value:"Module"})),Rt=(e,t,r)=>{const i=r/2,n=Math.sin(i),s=Math.cos(i),o=e**2*n**2,c=t**2*s**2,a=Math.sqrt(o+c)*r;return Math.abs(a)},U=(e,t,r,i,n,s)=>{const{sin:o,cos:c}=Math,a=c(n),l=o(n),m=r*c(s),h=i*o(s);return[e+a*m-l*h,t+l*m+a*h]},Et=(e,t)=>{const{x:r,y:i}=e,{x:n,y:s}=t,o=r*n+i*s,c=Math.sqrt((r**2+i**2)*(n**2+s**2));return(r*s-i*n<0?-1:1)*Math.acos(o/c)},Mt=(e,t,r,i,n,s,o,c,a)=>{const{abs:l,sin:m,cos:h,sqrt:f,PI:g}=Math;let u=l(r),y=l(i);const x=(n%360+360)%360*(g/180);if(e===c&&t===a)return{rx:u,ry:y,startAngle:0,endAngle:0,center:{x:c,y:a}};if(u===0||y===0)return{rx:u,ry:y,startAngle:0,endAngle:0,center:{x:(c+e)/2,y:(a+t)/2}};const C=(e-c)/2,d=(t-a)/2,p={x:h(x)*C+m(x)*d,y:-m(x)*C+h(x)*d},M=p.x**2/u**2+p.y**2/y**2;M>1&&(u*=f(M),y*=f(M));const S=u**2*y**2-u**2*p.y**2-y**2*p.x**2,q=u**2*p.y**2+y**2*p.x**2;let j=S/q;j=j<0?0:j;const v=(s!==o?1:-1)*f(j),N={x:v*(u*p.y/y),y:v*(-(y*p.x)/u)},Q={x:h(x)*N.x-m(x)*N.y+(e+c)/2,y:m(x)*N.x+h(x)*N.y+(t+a)/2},Y={x:(p.x-N.x)/u,y:(p.y-N.y)/y},$=Et({x:1,y:0},Y),P={x:(-p.x-N.x)/u,y:(-p.y-N.y)/y};let k=Et(Y,P);!o&&k>0?k-=2*g:o&&k<0&&(k+=2*g),k%=2*g;const Z=$+k;return{center:Q,startAngle:$,endAngle:Z,rx:u,ry:y}},Ot=(e,t,r,i,n,s,o,c,a)=>{const{rx:l,ry:m,startAngle:h,endAngle:f}=Mt(e,t,r,i,n,s,o,c,a);return Rt(l,m,f-h)},Se=(e,t,r,i,n,s,o,c,a,l)=>{let m={x:e,y:t};const{center:h,rx:f,ry:g,startAngle:u,endAngle:y}=Mt(e,t,r,i,n,s,o,c,a);if(typeof l=="number"){const A=Rt(f,g,y-u);if(l<=0)m={x:e,y:t};else if(l>=A)m={x:c,y:a};else{if(e===c&&t===a)return{x:c,y:a};if(f===0||g===0)return Vt(e,t,c,a,l);const{PI:x,cos:C,sin:d}=Math,p=y-u,S=(n%360+360)%360*(x/180),q=u+p*(l/A),j=f*C(q),v=g*d(q);m={x:C(S)*j-d(S)*v+h.x,y:d(S)*j+C(S)*v+h.y}}}return m},Te=(e,t,r,i,n,s,o,c,a)=>{const{center:l,rx:m,ry:h,startAngle:f,endAngle:g}=Mt(e,t,r,i,n,s,o,c,a),u=g-f,{min:y,max:A,tan:x,atan2:C,PI:d}=Math,{x:p,y:M}=l,S=n*d/180,q=x(S),j=C(-h*q,m),v=j,N=j+d,Q=C(h,m*q),Y=Q+d,$=[c],P=[a];let k=y(e,c),Z=A(e,c),O=y(t,a),G=A(t,a);const at=g-u*1e-5,tt=U(p,M,m,h,S,at),L=g-u*.99999,V=U(p,M,m,h,S,L);if(tt[0]>Z||V[0]>Z){const z=U(p,M,m,h,S,v);$.push(z[0]),P.push(z[1])}if(tt[0]<k||V[0]<k){const z=U(p,M,m,h,S,N);$.push(z[0]),P.push(z[1])}if(tt[1]<O||V[1]<O){const z=U(p,M,m,h,S,Y);$.push(z[0]),P.push(z[1])}if(tt[1]>G||V[1]>G){const z=U(p,M,m,h,S,Q);$.push(z[0]),P.push(z[1])}return k=y.apply([],$),O=y.apply([],P),Z=A.apply([],$),G=A.apply([],P),[k,O,Z,G]},Ne=Object.freeze(Object.defineProperty({__proto__:null,angleBetween:Et,arcLength:Rt,arcPoint:U,getArcBBox:Te,getArcLength:Ot,getArcProps:Mt,getPointAtArcLength:Se},Symbol.toStringTag,{value:"Module"})),_t=[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],we=[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],Le=e=>{const t=[];for(let r=e,i=r.length,n=i-1;i>1;i-=1,n-=1){const s=[];for(let o=0;o<n;o+=1)s.push({x:n*(r[o+1].x-r[o].x),y:n*(r[o+1].y-r[o].y),t:0});t.push(s),r=s}return t},ve=(e,t)=>{if(t===0)return e[0].t=0,e[0];const r=e.length-1;if(t===1)return e[r].t=1,e[r];const i=1-t;let n=e;if(r===0)return e[0].t=t,e[0];if(r===1)return{x:i*n[0].x+t*n[1].x,y:i*n[0].y+t*n[1].y,t};const s=i*i,o=t*t;let c=0,a=0,l=0,m=0;return r===2?(n=[n[0],n[1],n[2],{x:0,y:0}],c=s,a=i*t*2,l=o):r===3&&(c=s*i,a=s*t*3,l=i*o*3,m=t*o),{x:c*n[0].x+a*n[1].x+l*n[2].x+m*n[3].x,y:c*n[0].y+a*n[1].y+l*n[2].y+m*n[3].y,t}},ze=(e,t)=>{const r=e(t),i=r.x*r.x+r.y*r.y;return Math.sqrt(i)},qe=e=>{const r=_t.length;let i=0;for(let n=0,s;n<r;n++)s=.5*_t[n]+.5,i+=we[n]*ze(e,s);return .5*i},ut=e=>{const t=[];for(let i=0,n=e.length,s=2;i<n;i+=s)t.push({x:e[i],y:e[i+1]});const r=Le(t);return qe(i=>ve(r[0],i))},je=1e-8,Pt=([e,t,r])=>{const i=Math.min(e,r),n=Math.max(e,r);if(t>=e?r>=t:r<=t)return[i,n];const s=(e*r-t*t)/(e-2*t+r);return s<i?[s,n]:[i,s]},Dt=([e,t,r,i])=>{const n=e-3*t+3*r-i;if(Math.abs(n)<je)return e===i&&e===t?[e,i]:Pt([e,-.5*e+1.5*t,e-3*t+3*r]);const s=-e*r+e*i-t*r-t*i+t*t+r*r;if(s<=0)return[Math.min(e,i),Math.max(e,i)];const o=Math.sqrt(s);let c=Math.min(e,i),a=Math.max(e,i);const l=e-2*t+r;for(let m=(l+o)/n,h=1;h<=2;m=(l-o)/n,h++)if(m>0&&m<1){const f=e*(1-m)*(1-m)*(1-m)+t*3*(1-m)*(1-m)*m+r*3*(1-m)*m*m+i*m*m*m;f<c&&(c=f),f>a&&(a=f)}return[c,a]},$e=Object.freeze(Object.defineProperty({__proto__:null,CBEZIER_MINMAX_EPSILON:je,Cvalues:we,Tvalues:_t,bezierLength:qe,calculateBezier:ze,computeBezier:ve,deriveBezier:Le,getBezierLength:ut,minmaxC:Dt,minmaxQ:Pt},Symbol.toStringTag,{value:"Module"})),ke=([e,t,r,i,n,s,o,c],a)=>{const l=1-a;return{x:l**3*e+3*l**2*a*r+3*l*a**2*n+a**3*o,y:l**3*t+3*l**2*a*i+3*l*a**2*s+a**3*c}},St=(e,t,r,i,n,s,o,c)=>ut([e,t,r,i,n,s,o,c]),Ve=(e,t,r,i,n,s,o,c,a)=>{const l=typeof a=="number";let m={x:e,y:t};if(l){const h=ut([e,t,r,i,n,s,o,c]);a<=0||(a>=h?m={x:o,y:c}:m=ke([e,t,r,i,n,s,o,c],a/h))}return m},Qt=(e,t,r,i,n,s,o,c)=>{const a=Dt([e,r,n,o]),l=Dt([t,i,s,c]);return[a[0],l[0],a[1],l[1]]},Ie=Object.freeze(Object.defineProperty({__proto__:null,getCubicBBox:Qt,getCubicLength:St,getPointAtCubicLength:Ve,getPointAtCubicSegmentLength:ke},Symbol.toStringTag,{value:"Module"})),Re=([e,t,r,i,n,s],o)=>{const c=1-o;return{x:c**2*e+2*c*o*r+o**2*n,y:c**2*t+2*c*o*i+o**2*s}},Tt=(e,t,r,i,n,s)=>ut([e,t,r,i,n,s]),Ee=(e,t,r,i,n,s,o)=>{const c=typeof o=="number";let a={x:e,y:t};if(c){const l=ut([e,t,r,i,n,s]);o<=0||(o>=l?a={x:n,y:s}:a=Re([e,t,r,i,n,s],o/l))}return a},Zt=(e,t,r,i,n,s)=>{const o=Pt([e,r,n]),c=Pt([t,i,s]);return[o[0],c[0],o[1],c[1]]},Oe=Object.freeze(Object.defineProperty({__proto__:null,getPointAtQuadLength:Ee,getPointAtQuadSegmentLength:Re,getQuadBBox:Zt,getQuadLength:Tt},Symbol.toStringTag,{value:"Module"})),_e=Object.freeze(Object.defineProperty({__proto__:null,polygonArea:e=>{const t=e.length;let r=-1,i,n=e[t-1],s=0;for(;++r<t;)i=n,n=e[r],s+=i[1]*n[0]-i[0]*n[1];return s/2},polygonLength:e=>e.reduce((t,r,i)=>i?t+lt(e[i-1],r):0,0)},Symbol.toStringTag,{value:"Module"})),et=(e,t,r)=>{const{sin:i,cos:n}=Math,s=e*n(r)-t*i(r),o=e*i(r)+t*n(r);return{x:s,y:o}},w=(e,t)=>{const r=t>=1?10**t:1;return t>0?Math.round(e*r)/r:Math.round(e)},J={origin:[0,0,0],round:4},K={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},Nt=e=>{let t=e.pathValue[e.segmentStart],r=t.toLowerCase();const{data:i}=e;for(;i.length>=K[r]&&(r==="m"&&i.length>2?(e.segments.push([t].concat(i.splice(0,2))),r="l",t=t==="m"?"l":"L"):e.segments.push([t].concat(i.splice(0,K[r]))),!!K[r]););},_="SVGPathCommander Error",Bt=e=>{const{index:t,pathValue:r}=e,i=r.charCodeAt(t);if(i===48){e.param=0,e.index+=1;return}if(i===49){e.param=1,e.index+=1;return}e.err=`${_}: invalid Arc flag "${r[t]}", expecting 0 or 1 at index ${t}`},H=e=>e>=48&&e<=57,F="Invalid path value",Ht=e=>{const{max:t,pathValue:r,index:i}=e;let n=i,s=!1,o=!1,c=!1,a=!1,l;if(n>=t){e.err=`${_}: ${F} at index ${n}, "pathValue" is missing param`;return}if(l=r.charCodeAt(n),(l===43||l===45)&&(n+=1,l=r.charCodeAt(n)),!H(l)&&l!==46){e.err=`${_}: ${F} at index ${n}, "${r[n]}" is not a number`;return}if(l!==46){if(s=l===48,n+=1,l=r.charCodeAt(n),s&&n<t&&l&&H(l)){e.err=`${_}: ${F} at index ${i}, "${r[i]}" illegal number`;return}for(;n<t&&H(r.charCodeAt(n));)n+=1,o=!0;l=r.charCodeAt(n)}if(l===46){for(a=!0,n+=1;H(r.charCodeAt(n));)n+=1,c=!0;l=r.charCodeAt(n)}if(l===101||l===69){if(a&&!o&&!c){e.err=`${_}: ${F} at index ${n}, "${r[n]}" invalid float exponent`;return}if(n+=1,l=r.charCodeAt(n),(l===43||l===45)&&(n+=1),n<t&&H(r.charCodeAt(n)))for(;n<t&&H(r.charCodeAt(n));)n+=1;else{e.err=`${_}: ${F} at index ${n}, "${r[n]}" invalid integer exponent`;return}}e.index=n,e.param=+e.pathValue.slice(i,n)},Ft=e=>[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279,10,13,8232,8233,32,9,11,12,160].includes(e),W=e=>{const{pathValue:t,max:r}=e;for(;e.index<r&&Ft(t.charCodeAt(e.index));)e.index+=1},Gt=e=>{switch(e|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}},Ut=e=>H(e)||e===43||e===45||e===46,Jt=e=>(e|32)===97,Kt=e=>{switch(e|32){case 109:case 77:return!0;default:return!1}},wt=e=>{var a;const{max:t,pathValue:r,index:i,segments:n}=e,s=r.charCodeAt(i),o=K[r[i].toLowerCase()];if(e.segmentStart=i,!Gt(s)){e.err=`${_}: ${F} "${r[i]}" is not a path command at index ${i}`;return}const c=n[n.length-1];if(!Kt(s)&&((a=c==null?void 0:c[0])==null?void 0:a.toLocaleLowerCase())==="z"){e.err=`${_}: ${F} "${r[i]}" is not a MoveTo path command at index ${i}`;return}if(e.index+=1,W(e),e.data=[],!o){Nt(e);return}for(;;){for(let l=o;l>0;l-=1){if(Jt(s)&&(l===3||l===4)?Bt(e):Ht(e),e.err.length)return;e.data.push(e.param),W(e),e.index<t&&r.charCodeAt(e.index)===44&&(e.index+=1,W(e))}if(e.index>=e.max||!Ut(r.charCodeAt(e.index)))break}Nt(e)};class Lt{constructor(t){this.segments=[],this.pathValue=t,this.max=t.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}}const R=e=>{if(typeof e!="string")return e.slice(0);const t=new Lt(e);for(W(t);t.index<t.max&&!t.err.length;)wt(t);if(!t.err.length)t.segments.length&&(t.segments[0][0]="M");else throw TypeError(t.err);return t.segments},nt=(e,t,r,i)=>{const[n]=e,s=n.toUpperCase();if(t===0||s===n)return e;if(s==="A")return[s,e[1],e[2],e[3],e[4],e[5],e[6]+r,e[7]+i];if(s==="V")return[s,e[1]+i];if(s==="H")return[s,e[1]+r];if(s==="L")return[s,e[1]+r,e[2]+i];{const c=[],a=e.length;for(let l=1;l<a;l+=1)c.push(e[l]+(l%2?r:i));return[s].concat(c)}},E=(e,t)=>{let r=e.length,i,n="M",s="M",o=!1,c=0,a=0,l=0,m=0,h=0;for(let f=0;f<r;f+=1){i=e[f],[n]=i,h=i.length,s=n.toUpperCase(),o=s!==n;const g=t(i,f,c,a);if(g===!1)break;s==="Z"?(c=l,a=m):s==="H"?c=i[1]+(o?c:0):s==="V"?a=i[1]+(o?a:0):(c=i[h-2]+(o?c:0),a=i[h-1]+(o?a:0),s==="M"&&(l=c,m=a)),g&&(e[f]=g,g[0]==="C"&&(r=e.length))}return e},ht=e=>{const t=R(e);return E(t,nt)},vt=(e,t,r,i)=>{const[n]=e,s=n.toLowerCase();if(t===0||n===s)return e;if(s==="a")return[s,e[1],e[2],e[3],e[4],e[5],e[6]-r,e[7]-i];if(s==="v")return[s,e[1]-i];if(s==="h")return[s,e[1]-r];if(s==="l")return[s,e[1]-r,e[2]-i];{const c=[],a=e.length;for(let l=1;l<a;l+=1)c.push(e[l]-(l%2?r:i));return[s].concat(c)}},Wt=e=>{const t=R(e);return E(t,vt)},ft=(e,t,r,i,n,s,o,c,a,l)=>{let m=e,h=t,f=r,g=i,u=c,y=a;const A=Math.PI*120/180,x=Math.PI/180*(+n||0);let C=[],d,p,M,S,q;if(l)[p,M,S,q]=l;else{d=et(m,h,-x),m=d.x,h=d.y,d=et(u,y,-x),u=d.x,y=d.y;const L=(m-u)/2,V=(h-y)/2;let z=L*L/(f*f)+V*V/(g*g);z>1&&(z=Math.sqrt(z),f*=z,g*=z);const ue=f*f,he=g*g,Ye=(s===o?-1:1)*Math.sqrt(Math.abs((ue*he-ue*V*V-he*L*L)/(ue*V*V+he*L*L)));S=Ye*f*V/g+(m+u)/2,q=Ye*-g*L/f+(h+y)/2,p=Math.asin(((h-q)/g*10**9>>0)/10**9),M=Math.asin(((y-q)/g*10**9>>0)/10**9),p=m<S?Math.PI-p:p,M=u<S?Math.PI-M:M,p<0&&(p=Math.PI*2+p),M<0&&(M=Math.PI*2+M),o&&p>M&&(p-=Math.PI*2),!o&&M>p&&(M-=Math.PI*2)}let j=M-p;if(Math.abs(j)>A){const L=M,V=u,z=y;M=p+A*(o&&M>p?1:-1),u=S+f*Math.cos(M),y=q+g*Math.sin(M),C=ft(u,y,f,g,n,0,o,V,z,[M,L,S,q])}j=M-p;const v=Math.cos(p),N=Math.sin(p),Q=Math.cos(M),Y=Math.sin(M),$=Math.tan(j/4),P=4/3*f*$,k=4/3*g*$,Z=[m,h],O=[m+P*N,h-k*v],G=[u+P*Y,y-k*Q],at=[u,y];if(O[0]=2*Z[0]-O[0],O[1]=2*Z[1]-O[1],l)return[O[0],O[1],G[0],G[1],at[0],at[1]].concat(C);C=[O[0],O[1],G[0],G[1],at[0],at[1]].concat(C);const tt=[];for(let L=0,V=C.length;L<V;L+=1)tt[L]=L%2?et(C[L-1],C[L],x).y:et(C[L],C[L+1],x).x;return tt},Xt=(e,t,r,i,n,s)=>{const o=.3333333333333333,c=2/3;return[o*e+c*r,o*t+c*i,o*n+c*r,o*s+c*i,n,s]},zt=(e,t,r,i)=>{const n=D([e,t],[r,i],.3333333333333333),s=D([e,t],[r,i],2/3);return[n[0],n[1],s[0],s[1],r,i]},Yt=(e,t)=>{const[r]=e,i=e.slice(1).map(Number),[n,s]=i,{x1:o,y1:c,x:a,y:l}=t;return"TQ".includes(r)||(t.qx=null,t.qy=null),r==="M"?(t.x=n,t.y=s,e):r==="A"?["C"].concat(ft(o,c,i[0],i[1],i[2],i[3],i[4],i[5],i[6])):r==="Q"?(t.qx=n,t.qy=s,["C"].concat(Xt(o,c,i[0],i[1],i[2],i[3]))):r==="L"?["C"].concat(zt(o,c,n,s)):r==="Z"?["C"].concat(zt(o,c,a,l)):e},gt=(e,t)=>{const[r]=e,i=r.toUpperCase(),n=r!==i,{x1:s,y1:o,x2:c,y2:a,x:l,y:m}=t,h=e.slice(1);let f=h.map((g,u)=>g+(n?u%2?m:l:0));if("TQ".includes(i)||(t.qx=null,t.qy=null),i==="A")return f=h.slice(0,-2).concat(h[5]+(n?l:0),h[6]+(n?m:0)),["A"].concat(f);if(i==="H")return["L",e[1]+(n?l:0),o];if(i==="V")return["L",s,e[1]+(n?m:0)];if(i==="L")return["L",e[1]+(n?l:0),e[2]+(n?m:0)];if(i==="M")return["M",e[1]+(n?l:0),e[2]+(n?m:0)];if(i==="C")return["C"].concat(f);if(i==="S"){const g=s*2-c,u=o*2-a;return t.x1=g,t.y1=u,["C",g,u].concat(f)}else if(i==="T"){const g=s*2-(t.qx?t.qx:0),u=o*2-(t.qy?t.qy:0);return t.qx=g,t.qy=u,["Q",g,u].concat(f)}else if(i==="Q"){const[g,u]=f;return t.qx=g,t.qy=u,["Q"].concat(f)}else if(i==="Z")return["Z"];return e},rt={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},yt=e=>{const t={...rt},r=R(e);return E(r,(i,n,s,o)=>{t.x=s,t.y=o;const c=gt(i,t);let a=Yt(c,t);a[0]==="C"&&a.length>7&&(r.splice(n+1,0,["C"].concat(a.slice(7))),a=a.slice(0,7));const m=a.length;return t.x1=+a[m-2],t.y1=+a[m-1],t.x2=+a[m-4]||t.x1,t.y2=+a[m-3]||t.y1,a})},qt=(e,t)=>{const r=e.length;let{round:i}=J,n=e[0],s="";i=t==="off"||typeof t=="number"&&t>=0?t:typeof i=="number"&&i>=0?i:"off";for(let o=0;o<r;o+=1){n=e[o];const[c]=n,a=n.slice(1);if(s+=c,i==="off")s+=a.join(" ");else{let l=0;const m=a.length;for(;l<m;)s+=w(a[l],i),l!==m-1&&(s+=" "),l+=1}}return s},te=e=>{if(!e)return{x:0,y:0,width:0,height:0,x2:0,y2:0,cx:0,cy:0,cz:0};const t=R(e);let r="M",i=0,n=0;const{max:s,min:o}=Math;let c=1/0,a=1/0,l=-1/0,m=-1/0,h=0,f=0,g=0,u=0,y=0,A=0,x=0,C=0,d=0,p=0;E(t,(q,j,v,N)=>{[r]=q;const Q=r.toUpperCase(),$=Q!==r?nt(q,j,v,N):q.slice(0),P=Q==="V"?["L",v,$[1]]:Q==="H"?["L",$[1],N]:$;if([r]=P,"TQ".includes(Q)||(d=0,p=0),r==="M")[,i,n]=P,h=i,f=n,g=i,u=n;else if(r==="L")[h,f,g,u]=It(v,N,P[1],P[2]);else if(r==="A")[h,f,g,u]=Te(v,N,P[1],P[2],P[3],P[4],P[5],P[6],P[7]);else if(r==="S"){const k=y*2-x,Z=A*2-C;[h,f,g,u]=Qt(v,N,k,Z,P[1],P[2],P[3],P[4])}else r==="C"?[h,f,g,u]=Qt(v,N,P[1],P[2],P[3],P[4],P[5],P[6]):r==="T"?(d=y*2-d,p=A*2-p,[h,f,g,u]=Zt(v,N,d,p,P[1],P[2])):r==="Q"?(d=P[1],p=P[2],[h,f,g,u]=Zt(v,N,P[1],P[2],P[3],P[4])):r==="Z"&&([h,f,g,u]=It(v,N,i,n));c=o(h,c),a=o(f,a),l=s(g,l),m=s(u,m),[y,A]=r==="Z"?[i,n]:P.slice(-2),[x,C]=r==="C"?[P[3],P[4]]:r==="S"?[P[1],P[2]]:[y,A]});const M=l-c,S=m-a;return{width:M,height:S,x:c,y:a,x2:l,y2:m,cx:c+M/2,cy:a+S/2,cz:Math.max(M,S)+Math.min(M,S)/2}},X=e=>{const t=R(e);let r=0,i=0,n=0,s=0,o=0,c=0,a="M",l=0,m=0,h=0;return E(t,(f,g,u,y)=>{[a]=f;const A=a.toUpperCase(),C=A!==a?nt(f,g,u,y):f.slice(0),d=A==="V"?["L",u,C[1]]:A==="H"?["L",C[1],y]:C;if([a]=d,"TQ".includes(A)||(o=0,c=0),a==="M")[,l,m]=d;else if(a==="L")h+=mt(u,y,d[1],d[2]);else if(a==="A")h+=Ot(u,y,d[1],d[2],d[3],d[4],d[5],d[6],d[7]);else if(a==="S"){const p=r*2-n,M=i*2-s;h+=St(u,y,p,M,d[1],d[2],d[3],d[4])}else a==="C"?h+=St(u,y,d[1],d[2],d[3],d[4],d[5],d[6]):a==="T"?(o=r*2-o,c=i*2-c,h+=Tt(u,y,o,c,d[1],d[2])):a==="Q"?(o=d[1],c=d[2],h+=Tt(u,y,d[1],d[2],d[3],d[4])):a==="Z"&&(h+=mt(u,y,l,m));[r,i]=a==="Z"?[l,m]:d.slice(-2),[n,s]=a==="C"?[d[3],d[4]]:a==="S"?[d[1],d[2]]:[r,i]}),h},dt=1e-5,it=e=>{const t=R(e),r={...rt};return E(t,(i,n,s,o)=>{r.x=s,r.y=o;const c=gt(i,r),a=c.length;return r.x1=+c[a-2],r.y1=+c[a-1],r.x2=+c[a-4]||r.x1,r.y2=+c[a-3]||r.y1,c})},st=(e,t)=>{const r=it(e);let i=!1,n=[],s="M",o=0,c=0,[a,l]=r[0].slice(1);const m=typeof t=="number";let h={x:a,y:l},f=0,g=h,u=0;return!m||t<dt?h:(E(r,(y,A,x,C)=>{if([s]=y,i=s==="M",n=i?n:[x,C].concat(y.slice(1)),i?([,a,l]=y,h={x:a,y:l},f=0):s==="L"?(h=Vt(n[0],n[1],n[2],n[3],t-u),f=mt(n[0],n[1],n[2],n[3])):s==="A"?(h=Se(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],t-u),f=Ot(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])):s==="C"?(h=Ve(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],t-u),f=St(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7])):s==="Q"?(h=Ee(n[0],n[1],n[2],n[3],n[4],n[5],t-u),f=Tt(n[0],n[1],n[2],n[3],n[4],n[5])):s==="Z"&&(n=[x,C,a,l],h={x:a,y:l},f=mt(n[0],n[1],n[2],n[3])),[o,c]=n.slice(-2),u<t)g=h;else return!1;u+=f}),t>u-dt?{x:o,y:c}:g)},jt=(e,t)=>{const r=R(e);let i=r.slice(0),n=X(i),s=i.length-1,o=0,c=0,a=r[0];if(s<=0||!t||!Number.isFinite(t))return{segment:a,index:0,length:c,lengthAtSegment:o};if(t>=n)return i=r.slice(0,-1),o=X(i),c=n-o,a=r[s],{segment:a,index:s,length:c,lengthAtSegment:o};const l=[];for(;s>0;)a=i[s],i=i.slice(0,-1),o=X(i),c=n-o,n=o,l.push({segment:a,index:s,length:c,lengthAtSegment:o}),s-=1;return l.find(({lengthAtSegment:m})=>m<=t)},bt=(e,t)=>{const r=R(e),i=it(r),n=X(i),s=p=>{const M=p.x-t.x,S=p.y-t.y;return M*M+S*S};let o=8,c,a={x:0,y:0},l=0,m=0,h=1/0;for(let p=0;p<=n;p+=o)c=st(i,p),l=s(c),l<h&&(a=c,m=p,h=l);o/=2;let f,g,u=0,y=0,A=0,x=0;for(;o>1e-6&&(u=m-o,f=st(i,u),A=s(f),y=m+o,g=st(i,y),x=s(g),u>=0&&A<h?(a=f,m=u,h=A):y<=n&&x<h?(a=g,m=y,h=x):o/=2,!(o<1e-5)););const C=jt(r,m),d=Math.sqrt(h);return{closest:a,distance:d,segment:C}},De=(e,t)=>bt(e,t).closest,rn=(e,t,r,i,n,s,o,c)=>3*((c-t)*(r+n)-(o-e)*(i+s)+i*(e-n)-r*(t-s)+c*(n+e/3)-o*(s+t/3))/20,ee=e=>{let t=0,r=0,i=0;return yt(e).map(n=>{switch(n[0]){case"M":return[,t,r]=n,0;default:return i=rn(t,r,n[1],n[2],n[3],n[4],n[5],n[6]),[t,r]=n.slice(-2),i}}).reduce((n,s)=>n+s,0)},Qe=e=>ee(yt(e))>=0,Ze=(e,t)=>jt(e,t).segment,Be=(e,t)=>bt(e,t).segment,pt=e=>Array.isArray(e)&&e.every(t=>{const r=t[0].toLowerCase();return K[r]===t.length-1&&"achlmqstvz".includes(r)&&t.slice(1).every(Number.isFinite)})&&e.length>0,ne=e=>pt(e)&&e.every(([t])=>t===t.toUpperCase()),re=e=>ne(e)&&e.every(([t])=>"ACLMQZ".includes(t)),He=e=>re(e)&&e.every(([t])=>"MC".includes(t)),Fe=(e,t)=>{const{distance:r}=bt(e,t);return Math.abs(r)<dt},Ge=e=>pt(e)&&e.slice(1).every(([t])=>t===t.toLowerCase()),ie=e=>{if(typeof e!="string"||!e.length)return!1;const t=new Lt(e);for(W(t);t.index<t.max&&!t.err.length;)wt(t);return!t.err.length&&"mM".includes(t.segments[0][0])},ot={line:["x1","y1","x2","y2"],circle:["cx","cy","r"],ellipse:["cx","cy","rx","ry"],rect:["width","height","x","y","rx","ry"],polygon:["points"],polyline:["points"],glyph:["d"]},Ue=e=>e!=null&&typeof e=="object"&&e.nodeType===1,sn=e=>{let{x1:t,y1:r,x2:i,y2:n}=e;return[t,r,i,n]=[t,r,i,n].map(s=>+s),[["M",t,r],["L",i,n]]},on=e=>{const t=[],r=(e.points||"").trim().split(/[\s|,]/).map(n=>+n);let i=0;for(;i<r.length;)t.push([i?"L":"M",r[i],r[i+1]]),i+=2;return e.type==="polygon"?[...t,["z"]]:t},an=e=>{let{cx:t,cy:r,r:i}=e;return[t,r,i]=[t,r,i].map(n=>+n),[["M",t-i,r],["a",i,i,0,1,0,2*i,0],["a",i,i,0,1,0,-2*i,0]]},cn=e=>{let{cx:t,cy:r}=e,i=e.rx||0,n=e.ry||i;return[t,r,i,n]=[t,r,i,n].map(s=>+s),[["M",t-i,r],["a",i,n,0,1,0,2*i,0],["a",i,n,0,1,0,-2*i,0]]},ln=e=>{const t=+e.x||0,r=+e.y||0,i=+e.width,n=+e.height;let s=+(e.rx||0),o=+(e.ry||s);return s||o?(s*2>i&&(s-=(s*2-i)/2),o*2>n&&(o-=(o*2-n)/2),[["M",t+s,r],["h",i-s*2],["s",s,0,s,o],["v",n-o*2],["s",0,o,-s,o],["h",-i+s*2],["s",-s,0,-s,-o],["v",-n+o*2],["s",0,-o,s,-o]]):[["M",t,r],["h",i],["v",n],["H",t],["Z"]]},se=e=>{const t=Object.keys(ot),r=Ue(e),i=r?e.tagName:null;if(i&&[...t,"path"].every(a=>i!==a))throw TypeError(`${_}: "${i}" is not SVGElement`);const n=r?i:e.type,s=ot[n],o={type:n};r?s.forEach(a=>{o[a]=e.getAttribute(a)}):Object.assign(o,e);let c=[];return n==="circle"?c=an(o):n==="ellipse"?c=cn(o):["polyline","polygon"].includes(n)?c=on(o):n==="rect"?c=ln(o):n==="line"?c=sn(o):["glyph","path"].includes(n)&&(c=R(r?e.getAttribute("d")||"":e.d||"")),pt(c)&&c.length?c:!1},Je=(e,t,r)=>{const i=r||document,n=Object.keys(ot),s=Ue(e),o=s?e.tagName:null;if(o==="path")throw TypeError(`${_}: "${o}" is already SVGPathElement`);if(o&&n.every(u=>o!==u))throw TypeError(`${_}: "${o}" is not SVGElement`);const c=i.createElementNS("http://www.w3.org/2000/svg","path"),a=s?o:e.type,l=ot[a],m={type:a},h=J.round,f=se(e),g=f&&f.length?qt(f,h):"";return s?(l.forEach(u=>{m[u]=e.getAttribute(u)}),Object.values(e.attributes).forEach(({name:u,value:y})=>{l.includes(u)||c.setAttribute(u,y)})):(Object.assign(m,e),Object.keys(m).forEach(u=>{!l.includes(u)&&u!=="type"&&c.setAttribute(u.replace(/[A-Z]/g,y=>`-${y.toLowerCase()}`),m[u])})),ie(g)?(c.setAttribute("d",g),t&&s&&(e.before(c,e),e.remove()),c):!1},oe=(e,t,r,i)=>{const[n]=e,{round:s}=J,o=s,c=t.slice(1),{x1:a,y1:l,x2:m,y2:h,x:f,y:g}=r,[u,y]=c.slice(-2),A=e;if("TQ".includes(n)||(r.qx=null,r.qy=null),n==="L"){if(w(f,o)===w(u,o))return["V",y];if(w(g,o)===w(y,o))return["H",u]}else if(n==="C"){const[x,C]=c;if(r.x1=x,r.y1=C,"CS".includes(i)&&(w(x,o)===w(a*2-m,o)&&w(C,o)===w(l*2-h,o)||w(a,o)===w(m*2-f,o)&&w(l,o)===w(h*2-g,o)))return["S",c[2],c[3],c[4],c[5]]}else if(n==="Q"){const[x,C]=c;if(r.qx=x,r.qy=C,"QT".includes(i)&&w(x,o)===w(a*2-m,o)&&w(C,o)===w(l*2-h,o))return["T",c[2],c[3]]}return A},At=(e,t)=>{const r=e.slice(1).map(i=>w(i,t));return[e[0]].concat(r)},ae=(e,t)=>{const r=ht(e),i=typeof t=="number"&&t>=0?t:2,n={...rt},s=[];let o="M",c="Z";return E(r,(a,l,m,h)=>{n.x=m,n.y=h;const f=gt(a,n);let g=a;if([o]=a,s[l]=o,l){c=s[l-1];const y=oe(a,f,n,c),A=At(y,i),x=A.join(""),C=vt(y,l,m,h),d=At(C,i),p=d.join("");g=x.length<p.length?A:d}const u=f.length;return n.x1=+f[u-2],n.y1=+f[u-1],n.x2=+f[u-4]||n.x1,n.y2=+f[u-3]||n.y1,g})},xt=e=>{const t=ht(e),r=it(t),i=t.length,n=t[i-1][0]==="Z",s=E(t,(o,c)=>{const a=r[c],l=c&&t[c-1],m=l&&l[0],h=t[c+1],f=h&&h[0],[g]=o,[u,y]=r[c?c-1:i-1].slice(-2);let A=o;switch(g){case"M":A=n?["Z"]:[g,u,y];break;case"A":A=[g,o[1],o[2],o[3],o[4],o[5]===1?0:1,u,y];break;case"C":h&&f==="S"?A=["S",o[1],o[2],u,y]:A=[g,o[3],o[4],o[1],o[2],u,y];break;case"S":m&&"CS".includes(m)&&(!h||f!=="S")?A=["C",a[3],a[4],a[1],a[2],u,y]:A=[g,a[1],a[2],u,y];break;case"Q":h&&f==="T"?A=["T",u,y]:A=[g,o[1],o[2],u,y];break;case"T":m&&"QT".includes(m)&&(!h||f!=="T")?A=["Q",a[1],a[2],u,y]:A=[g,u,y];break;case"Z":A=["M",u,y];break;case"H":A=[g,u];break;case"V":A=[g,y];break;default:A=[g].concat(o.slice(1,-2),u,y)}return A});return n?s.reverse():[s[0]].concat(s.slice(1).reverse())},ce=e=>{const t=[];let r,i=-1,n=0,s=0,o=0,c=0;const a={...rt};return e.forEach(l=>{const[m]=l,h=m.toUpperCase(),f=m.toLowerCase(),g=m===f,u=l.slice(1);h==="M"?(i+=1,[n,s]=u,n+=g?a.x:0,s+=g?a.y:0,o=n,c=s,r=[g?[h,o,c]:l]):(h==="Z"?(n=o,s=c):h==="H"?([,n]=l,n+=g?a.x:0):h==="V"?([,s]=l,s+=g?a.y:0):([n,s]=l.slice(-2),n+=g?a.x:0,s+=g?a.y:0),r.push(l)),a.x=n,a.y=s,t[i]=r}),t},le=e=>{let t=new T;const{origin:r}=e,[i,n]=r,{translate:s}=e,{rotate:o}=e,{skew:c}=e,{scale:a}=e;return Array.isArray(s)&&s.length>=2&&s.every(l=>!Number.isNaN(+l))&&s.some(l=>l!==0)?t=t.translate(...s):typeof s=="number"&&!Number.isNaN(s)&&(t=t.translate(s)),(o||c||a)&&(t=t.translate(i,n),Array.isArray(o)&&o.length>=2&&o.every(l=>!Number.isNaN(+l))&&o.some(l=>l!==0)?t=t.rotate(...o):typeof o=="number"&&!Number.isNaN(o)&&(t=t.rotate(o)),Array.isArray(c)&&c.length===2&&c.every(l=>!Number.isNaN(+l))&&c.some(l=>l!==0)?(t=c[0]?t.skewX(c[0]):t,t=c[1]?t.skewY(c[1]):t):typeof c=="number"&&!Number.isNaN(c)&&(t=t.skewX(c)),Array.isArray(a)&&a.length>=2&&a.every(l=>!Number.isNaN(+l))&&a.some(l=>l!==1)?t=t.scale(...a):typeof a=="number"&&!Number.isNaN(a)&&(t=t.scale(a)),t=t.translate(-i,-n)),t},mn=(e,t)=>{let r=T.Translate(t[0],t[1],t[2]);return[,,,r.m44]=t,r=e.multiply(r),[r.m41,r.m42,r.m43,r.m44]},$t=(e,t,r)=>{const[i,n,s]=r,[o,c,a]=mn(e,[t[0],t[1],0,1]),l=o-i,m=c-n,h=a-s;return[l*(Math.abs(s)/Math.abs(h)||1)+i,m*(Math.abs(s)/Math.abs(h)||1)+n]},me=(e,t)=>{let r=0,i=0,n=0,s=0,o=0,c=0,a="M";const l=R(e),m=t&&Object.keys(t);if(!t||m&&!m.length)return l.slice(0);t.origin||Object.assign(t,{origin:J.origin});const h=t.origin,f=le(t);return f.isIdentity?l.slice(0):E(l,(g,u,y,A)=>{[a]=g;const x=a.toUpperCase(),d=x!==a?nt(g,u,y,A):g.slice(0);let p=x==="A"?["C"].concat(ft(y,A,d[1],d[2],d[3],d[4],d[5],d[6],d[7])):x==="V"?["L",y,d[1]]:x==="H"?["L",d[1],A]:d;a=p[0];const M=a==="C"&&p.length>7,S=M?p.slice(0,7):p.slice(0);if(M&&(l.splice(u+1,0,["C"].concat(p.slice(7))),p=S),a==="L")[n,s]=$t(f,[p[1],p[2]],h),r!==n&&i!==s?p=["L",n,s]:i===s?p=["H",n]:r===n&&(p=["V",s]);else for(o=1,c=p.length;o<c;o+=2)[n,s]=$t(f,[+p[o],+p[o+1]],h),p[o]=n,p[o+1]=s;return r=n,i=s,p})},Ke=e=>{const t=e.slice(1).map((r,i,n)=>i?n[i-1].slice(-2).concat(r.slice(1)):e[0].slice(1).concat(r.slice(1))).map(r=>r.map((i,n)=>r[r.length-n-2*(1-n%2)])).reverse();return[["M"].concat(t[0].slice(0,2))].concat(t.map(r=>["C"].concat(r.slice(2))))},We=(e,t)=>{let{round:r}=J;return r=t==="off"||typeof t=="number"&&t>=0?t:typeof r=="number"&&r>=0?r:"off",r==="off"?e.slice(0):E(e,i=>At(i,r))},Xe=(e,t=.5)=>{const r=t,i=e.slice(0,2),n=e.slice(2,4),s=e.slice(4,6),o=e.slice(6,8),c=D(i,n,r),a=D(n,s,r),l=D(s,o,r),m=D(c,a,r),h=D(a,l,r),f=D(m,h,r);return[["C",c[0],c[1],m[0],m[1],f[0],f[1]],["C",h[0],h[1],l[0],l[1],o[0],o[1]]]};class un{constructor(t,r){const i=r||{},n=typeof t>"u";if(n||!t.length)throw TypeError(`${_}: "pathValue" is ${n?"undefined":"empty"}`);this.segments=R(t);const{round:s,origin:o}=i;let c;Number.isInteger(s)||s==="off"?c=s:c=J.round;let a=J.origin;if(Array.isArray(o)&&o.length>=2){const[l,m,h]=o.map(Number);a=[Number.isNaN(l)?0:l,Number.isNaN(m)?0:m,Number.isNaN(h)?0:h]}return this.round=c,this.origin=a,this}get bbox(){return te(this.segments)}get length(){return X(this.segments)}getBBox(){return this.bbox}getTotalLength(){return this.length}getPointAtLength(t){return st(this.segments,t)}toAbsolute(){const{segments:t}=this;return this.segments=ht(t),this}toRelative(){const{segments:t}=this;return this.segments=Wt(t),this}toCurve(){const{segments:t}=this;return this.segments=yt(t),this}reverse(t){const{segments:r}=this,i=ce(r),n=i.length>1?i:!1,s=n?n.map((c,a)=>t?a?xt(c):c.slice(0):xt(c)):r.slice(0);let o=[];return n?o=s.flat(1):o=t?r:xt(r),this.segments=o.slice(0),this}normalize(){const{segments:t}=this;return this.segments=it(t),this}optimize(){const{segments:t}=this,r=this.round==="off"?2:this.round;return this.segments=ae(t,r),this}transform(t){if(!t||typeof t!="object"||typeof t=="object"&&!["translate","rotate","skew","scale"].some(a=>a in t))return this;const{segments:r,origin:[i,n,s]}=this,o={};for(const[a,l]of Object.entries(t))a==="skew"&&Array.isArray(l)||(a==="rotate"||a==="translate"||a==="origin"||a==="scale")&&Array.isArray(l)?o[a]=l.map(Number):a!=="origin"&&typeof Number(l)=="number"&&(o[a]=Number(l));const{origin:c}=o;if(Array.isArray(c)&&c.length>=2){const[a,l,m]=c.map(Number);o.origin=[Number.isNaN(a)?i:a,Number.isNaN(l)?n:l,m||s]}else o.origin=[i,n,s];return this.segments=me(r,o),this}flipX(){const{cx:t,cy:r}=this.bbox;return this.transform({rotate:[0,180,0],origin:[t,r,0]}),this}flipY(){const{cx:t,cy:r}=this.bbox;return this.transform({rotate:[180,0,0],origin:[t,r,0]}),this}toString(){return qt(this.segments,this.round)}dispose(){Object.keys(this).forEach(t=>delete this[t])}static get CSSMatrix(){return T}static get arcTools(){return Ne}static get bezierTools(){return $e}static get cubicTools(){return Ie}static get lineTools(){return Pe}static get polygonTools(){return _e}static get quadTools(){return Oe}static get pathToAbsolute(){return ht}static get pathToRelative(){return Wt}static get pathToCurve(){return yt}static get pathToString(){return qt}static get distanceSquareRoot(){return lt}static get midPoint(){return D}static get rotateVector(){return et}static get roundTo(){return w}static get parsePathString(){return R}static get finalizeSegment(){return Nt}static get invalidPathValue(){return F}static get isArcCommand(){return Jt}static get isDigit(){return H}static get isDigitStart(){return Ut}static get isMoveCommand(){return Kt}static get isPathCommand(){return Gt}static get isSpace(){return Ft}static get paramsCount(){return K}static get paramsParser(){return rt}static get pathParser(){return Lt}static get scanFlag(){return Bt}static get scanParam(){return Ht}static get scanSegment(){return wt}static get skipSpaces(){return W}static get distanceEpsilon(){return dt}static get getClosestPoint(){return De}static get getDrawDirection(){return Qe}static get getPathArea(){return ee}static get getPathBBox(){return te}static get getPointAtLength(){return st}static get getPropertiesAtLength(){return jt}static get getPropertiesAtPoint(){return bt}static get getSegmentAtLength(){return Ze}static get getSegmentOfPoint(){return Be}static get getTotalLength(){return X}static get isAbsoluteArray(){return ne}static get isCurveArray(){return He}static get isNormalizedArray(){return re}static get isPathArray(){return pt}static get isPointInStroke(){return Fe}static get isRelativeArray(){return Ge}static get isValidPath(){return ie}static get shapeParams(){return ot}static get shapeToPath(){return Je}static get shapeToPathArray(){return se}static get absolutizeSegment(){return nt}static get arcToCubic(){return ft}static get getSVGMatrix(){return le}static get iterate(){return E}static get lineToCubic(){return zt}static get normalizePath(){return it}static get normalizeSegment(){return gt}static get optimizePath(){return ae}static get projection2d(){return $t}static get quadToCubic(){return Xt}static get relativizeSegment(){return vt}static get reverseCurve(){return Ke}static get reversePath(){return xt}static get roundPath(){return We}static get roundSegment(){return At}static get segmentToCubic(){return Yt}static get shortenSegment(){return oe}static get splitCubic(){return Xe}static get splitPath(){return ce}static get transformPath(){return me}}return b.CSSMatrix=T,b.absolutizeSegment=nt,b.arcToCubic=ft,b.arcTools=Ne,b.bezierTools=$e,b.cubicTools=Ie,b.default=un,b.distanceEpsilon=dt,b.distanceSquareRoot=lt,b.finalizeSegment=Nt,b.getClosestPoint=De,b.getDrawDirection=Qe,b.getPathArea=ee,b.getPathBBox=te,b.getPointAtLength=st,b.getPropertiesAtLength=jt,b.getPropertiesAtPoint=bt,b.getSVGMatrix=le,b.getSegmentAtLength=Ze,b.getSegmentOfPoint=Be,b.getTotalLength=X,b.invalidPathValue=F,b.isAbsoluteArray=ne,b.isArcCommand=Jt,b.isCurveArray=He,b.isDigit=H,b.isDigitStart=Ut,b.isMoveCommand=Kt,b.isNormalizedArray=re,b.isPathArray=pt,b.isPathCommand=Gt,b.isPointInStroke=Fe,b.isRelativeArray=Ge,b.isSpace=Ft,b.isValidPath=ie,b.iterate=E,b.lineToCubic=zt,b.lineTools=Pe,b.midPoint=D,b.normalizePath=it,b.normalizeSegment=gt,b.optimizePath=ae,b.paramsCount=K,b.paramsParser=rt,b.parsePathString=R,b.pathParser=Lt,b.pathToAbsolute=ht,b.pathToCurve=yt,b.pathToRelative=Wt,b.pathToString=qt,b.polygonTools=_e,b.projection2d=$t,b.quadToCubic=Xt,b.quadTools=Oe,b.relativizeSegment=vt,b.reverseCurve=Ke,b.reversePath=xt,b.rotateVector=et,b.roundPath=We,b.roundSegment=At,b.roundTo=w,b.scanFlag=Bt,b.scanParam=Ht,b.scanSegment=wt,b.segmentToCubic=Yt,b.shapeParams=ot,b.shapeToPath=Je,b.shapeToPathArray=se,b.shortenSegment=oe,b.skipSpaces=W,b.splitCubic=Xe,b.splitPath=ce,b.transformPath=me,Object.defineProperties(b,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}}),b}({});
//# sourceMappingURL=svg-path-commander.js.map
