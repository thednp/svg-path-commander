var SVGPathCommander=function(b){"use strict";var Rt=Object.defineProperty,jt=(t,e,r)=>e in t?Rt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,E=(t,e,r)=>jt(t,typeof e!="symbol"?e+"":e,r);const Qt={a:1,b:0,c:0,d:1,e:0,f:0,m11:1,m12:0,m13:0,m14:0,m21:0,m22:1,m23:0,m24:0,m31:0,m32:0,m33:1,m34:0,m41:0,m42:0,m43:0,m44:1,is2D:!0,isIdentity:!0},Ge=t=>(t instanceof Float64Array||t instanceof Float32Array||Array.isArray(t)&&t.every(e=>typeof e=="number"))&&[6,16].some(e=>t.length===e),Ue=t=>t instanceof DOMMatrix||t instanceof N||typeof t=="object"&&Object.keys(Qt).every(e=>t&&e in t),ne=t=>{const e=new N,r=Array.from(t);if(!Ge(r))throw TypeError(`CSSMatrix: "${r.join(",")}" must be an array with 6/16 numbers.`);if(r.length===16){const[s,n,i,o,a,c,l,m,h,f,y,u,g,A,M,p]=r;e.m11=s,e.a=s,e.m21=a,e.c=a,e.m31=h,e.m41=g,e.e=g,e.m12=n,e.b=n,e.m22=c,e.d=c,e.m32=f,e.m42=A,e.f=A,e.m13=i,e.m23=l,e.m33=y,e.m43=M,e.m14=o,e.m24=m,e.m34=u,e.m44=p}else if(r.length===6){const[s,n,i,o,a,c]=r;e.m11=s,e.a=s,e.m12=n,e.b=n,e.m21=i,e.c=i,e.m22=o,e.d=o,e.m41=a,e.e=a,e.m42=c,e.f=c}return e},_e=t=>{if(Ue(t))return ne([t.m11,t.m12,t.m13,t.m14,t.m21,t.m22,t.m23,t.m24,t.m31,t.m32,t.m33,t.m34,t.m41,t.m42,t.m43,t.m44]);throw TypeError(`CSSMatrix: "${JSON.stringify(t)}" is not a DOMMatrix / CSSMatrix / JSON compatible object.`)},Je=t=>{if(typeof t!="string")throw TypeError(`CSSMatrix: "${JSON.stringify(t)}" is not a string.`);const e=String(t).replace(/\s/g,"");let r=new N;const s=`CSSMatrix: invalid transform string "${t}"`;return e.split(")").filter(n=>n).forEach(n=>{const[i,o]=n.split("(");if(!o)throw TypeError(s);const a=o.split(",").map(u=>u.includes("rad")?parseFloat(u)*(180/Math.PI):parseFloat(u)),[c,l,m,h]=a,f=[c,l,m],y=[c,l,m,h];if(i==="perspective"&&c&&[l,m].every(u=>u===void 0))r.m34=-1/c;else if(i.includes("matrix")&&[6,16].includes(a.length)&&a.every(u=>!Number.isNaN(+u))){const u=a.map(g=>Math.abs(g)<1e-6?0:g);r=r.multiply(ne(u))}else if(i==="translate3d"&&f.every(u=>!Number.isNaN(+u)))r=r.translate(c,l,m);else if(i==="translate"&&c&&m===void 0)r=r.translate(c,l||0,0);else if(i==="rotate3d"&&y.every(u=>!Number.isNaN(+u))&&h)r=r.rotateAxisAngle(c,l,m,h);else if(i==="rotate"&&c&&[l,m].every(u=>u===void 0))r=r.rotate(0,0,c);else if(i==="scale3d"&&f.every(u=>!Number.isNaN(+u))&&f.some(u=>u!==1))r=r.scale(c,l,m);else if(i==="scale"&&!Number.isNaN(c)&&(c!==1||l!==1)&&m===void 0){const u=Number.isNaN(+l)?c:l;r=r.scale(c,u,1)}else if(i==="skew"&&(c||!Number.isNaN(c)&&l)&&m===void 0)r=r.skew(c,l||0);else if(["translate","rotate","scale","skew"].some(u=>i.includes(u))&&/[XYZ]/.test(i)&&c&&[l,m].every(u=>u===void 0))if(i==="skewX"||i==="skewY")r=r[i](c);else{const u=i.replace(/[XYZ]/,""),g=i.replace(u,""),A=["X","Y","Z"].indexOf(g),M=u==="scale"?1:0,p=[A===0?c:M,A===1?c:M,A===2?c:M];r=r[u](...p)}else throw TypeError(s)}),r},we=(t,e)=>e?[t.a,t.b,t.c,t.d,t.e,t.f]:[t.m11,t.m12,t.m13,t.m14,t.m21,t.m22,t.m23,t.m24,t.m31,t.m32,t.m33,t.m34,t.m41,t.m42,t.m43,t.m44],Ke=(t,e,r)=>{const s=new N;return s.m41=t,s.e=t,s.m42=e,s.f=e,s.m43=r,s},We=(t,e,r)=>{const s=new N,n=Math.PI/180,i=t*n,o=e*n,a=r*n,c=Math.cos(i),l=-Math.sin(i),m=Math.cos(o),h=-Math.sin(o),f=Math.cos(a),y=-Math.sin(a),u=m*f,g=-m*y;s.m11=u,s.a=u,s.m12=g,s.b=g,s.m13=h;const A=l*h*f+c*y;s.m21=A,s.c=A;const M=c*f-l*h*y;return s.m22=M,s.d=M,s.m23=-l*m,s.m31=l*y-c*h*f,s.m32=l*f+c*h*y,s.m33=c*m,s},Xe=(t,e,r,s)=>{const n=new N,i=Math.sqrt(t*t+e*e+r*r);if(i===0)return n;const o=t/i,a=e/i,c=r/i,l=s*(Math.PI/360),m=Math.sin(l),h=Math.cos(l),f=m*m,y=o*o,u=a*a,g=c*c,A=1-2*(u+g)*f;n.m11=A,n.a=A;const M=2*(o*a*f+c*m*h);n.m12=M,n.b=M,n.m13=2*(o*c*f-a*m*h);const p=2*(a*o*f-c*m*h);n.m21=p,n.c=p;const d=1-2*(g+y)*f;return n.m22=d,n.d=d,n.m23=2*(a*c*f+o*m*h),n.m31=2*(c*o*f+a*m*h),n.m32=2*(c*a*f-o*m*h),n.m33=1-2*(y+u)*f,n},Ye=(t,e,r)=>{const s=new N;return s.m11=t,s.a=t,s.m22=e,s.d=e,s.m33=r,s},ue=(t,e)=>{const r=new N;if(t){const s=t*Math.PI/180,n=Math.tan(s);r.m21=n,r.c=n}if(e){const s=e*Math.PI/180,n=Math.tan(s);r.m12=n,r.b=n}return r},et=t=>ue(t,0),tt=t=>ue(0,t),H=(t,e)=>{const r=e.m11*t.m11+e.m12*t.m21+e.m13*t.m31+e.m14*t.m41,s=e.m11*t.m12+e.m12*t.m22+e.m13*t.m32+e.m14*t.m42,n=e.m11*t.m13+e.m12*t.m23+e.m13*t.m33+e.m14*t.m43,i=e.m11*t.m14+e.m12*t.m24+e.m13*t.m34+e.m14*t.m44,o=e.m21*t.m11+e.m22*t.m21+e.m23*t.m31+e.m24*t.m41,a=e.m21*t.m12+e.m22*t.m22+e.m23*t.m32+e.m24*t.m42,c=e.m21*t.m13+e.m22*t.m23+e.m23*t.m33+e.m24*t.m43,l=e.m21*t.m14+e.m22*t.m24+e.m23*t.m34+e.m24*t.m44,m=e.m31*t.m11+e.m32*t.m21+e.m33*t.m31+e.m34*t.m41,h=e.m31*t.m12+e.m32*t.m22+e.m33*t.m32+e.m34*t.m42,f=e.m31*t.m13+e.m32*t.m23+e.m33*t.m33+e.m34*t.m43,y=e.m31*t.m14+e.m32*t.m24+e.m33*t.m34+e.m34*t.m44,u=e.m41*t.m11+e.m42*t.m21+e.m43*t.m31+e.m44*t.m41,g=e.m41*t.m12+e.m42*t.m22+e.m43*t.m32+e.m44*t.m42,A=e.m41*t.m13+e.m42*t.m23+e.m43*t.m33+e.m44*t.m43,M=e.m41*t.m14+e.m42*t.m24+e.m43*t.m34+e.m44*t.m44;return ne([r,s,n,i,o,a,c,l,m,h,f,y,u,g,A,M])};class N{constructor(e){return this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this.m11=1,this.m12=0,this.m13=0,this.m14=0,this.m21=0,this.m22=1,this.m23=0,this.m24=0,this.m31=0,this.m32=0,this.m33=1,this.m34=0,this.m41=0,this.m42=0,this.m43=0,this.m44=1,e?this.setMatrixValue(e):this}get isIdentity(){return this.m11===1&&this.m12===0&&this.m13===0&&this.m14===0&&this.m21===0&&this.m22===1&&this.m23===0&&this.m24===0&&this.m31===0&&this.m32===0&&this.m33===1&&this.m34===0&&this.m41===0&&this.m42===0&&this.m43===0&&this.m44===1}get is2D(){return this.m31===0&&this.m32===0&&this.m33===1&&this.m34===0&&this.m43===0&&this.m44===1}setMatrixValue(e){return typeof e=="string"&&e.length&&e!=="none"?Je(e):Array.isArray(e)||e instanceof Float64Array||e instanceof Float32Array?ne(e):typeof e=="object"?_e(e):this}toFloat32Array(e){return Float32Array.from(we(this,e))}toFloat64Array(e){return Float64Array.from(we(this,e))}toString(){const{is2D:e}=this,r=this.toFloat64Array(e).join(", ");return`${e?"matrix":"matrix3d"}(${r})`}toJSON(){const{is2D:e,isIdentity:r}=this;return{...this,is2D:e,isIdentity:r}}multiply(e){return H(this,e)}translate(e,r,s){const n=e;let i=r,o=s;return typeof i>"u"&&(i=0),typeof o>"u"&&(o=0),H(this,Ke(n,i,o))}scale(e,r,s){const n=e;let i=r,o=s;return typeof i>"u"&&(i=e),typeof o>"u"&&(o=1),H(this,Ye(n,i,o))}rotate(e,r,s){let n=e,i=r||0,o=s||0;return typeof e=="number"&&typeof r>"u"&&typeof s>"u"&&(o=n,n=0,i=0),H(this,We(n,i,o))}rotateAxisAngle(e,r,s,n){if([e,r,s,n].some(i=>Number.isNaN(+i)))throw new TypeError("CSSMatrix: expecting 4 values");return H(this,Xe(e,r,s,n))}skewX(e){return H(this,et(e))}skewY(e){return H(this,tt(e))}skew(e,r){return H(this,ue(e,r))}transformPoint(e){const r=this.m11*e.x+this.m21*e.y+this.m31*e.z+this.m41*e.w,s=this.m12*e.x+this.m22*e.y+this.m32*e.z+this.m42*e.w,n=this.m13*e.x+this.m23*e.y+this.m33*e.z+this.m43*e.w,i=this.m14*e.x+this.m24*e.y+this.m34*e.z+this.m44*e.w;return e instanceof DOMPoint?new DOMPoint(r,s,n,i):{x:r,y:s,z:n,w:i}}}E(N,"Translate",Ke),E(N,"Rotate",We),E(N,"RotateAxisAngle",Xe),E(N,"Scale",Ye),E(N,"SkewX",et),E(N,"SkewY",tt),E(N,"Skew",ue),E(N,"Multiply",H),E(N,"fromArray",ne),E(N,"fromMatrix",_e),E(N,"fromString",Je),E(N,"toArray",we),E(N,"isCompatibleArray",Ge),E(N,"isCompatibleObject",Ue);const B=(t,e,r)=>{const[s,n]=t,[i,o]=e;return[s+(i-s)*r,n+(o-n)*r]},he=(t,e)=>Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])),re=(t,e,r,s)=>he([t,e],[r,s]),Le=(t,e,r,s,n)=>{let i={x:t,y:e};if(typeof n=="number"){const o=he([t,e],[r,s]);if(n<=0)i={x:t,y:e};else if(n>=o)i={x:r,y:s};else{const[a,c]=B([t,e],[r,s],n/o);i={x:a,y:c}}}return i},Te=(t,e,r,s)=>{const{min:n,max:i}=Math;return[n(t,r),n(e,s),i(t,r),i(e,s)]},Zt={getLineBBox:Te,getLineLength:re,getPointAtLineLength:Le},ve=(t,e,r)=>{const s=r/2,n=Math.sin(s),i=Math.cos(s),o=t**2*n**2,a=e**2*i**2,c=Math.sqrt(o+a)*r;return Math.abs(c)},_=(t,e,r,s,n,i)=>{const{sin:o,cos:a}=Math,c=a(n),l=o(n),m=r*a(i),h=s*o(i);return[t+c*m-l*h,e+l*m+c*h]},$e=(t,e)=>{const{x:r,y:s}=t,{x:n,y:i}=e,o=r*n+s*i,a=Math.sqrt((r**2+s**2)*(n**2+i**2));return(r*i-s*n<0?-1:1)*Math.acos(o/a)},fe=(t,e,r,s,n,i,o,a,c)=>{const{abs:l,sin:m,cos:h,sqrt:f,PI:y}=Math;let u=l(r),g=l(s);const M=(n%360+360)%360*(y/180);if(t===a&&e===c)return{rx:u,ry:g,startAngle:0,endAngle:0,center:{x:a,y:c}};if(u===0||g===0)return{rx:u,ry:g,startAngle:0,endAngle:0,center:{x:(a+t)/2,y:(c+e)/2}};const p=(t-a)/2,d=(e-c)/2,x={x:h(M)*p+m(M)*d,y:-m(M)*p+h(M)*d},C=x.x**2/u**2+x.y**2/g**2;C>1&&(u*=f(C),g*=f(C));const S=u**2*g**2-u**2*x.y**2-g**2*x.x**2,q=u**2*x.y**2+g**2*x.x**2;let z=S/q;z=z<0?0:z;const v=(i!==o?1:-1)*f(z),w={x:v*(u*x.y/g),y:v*(-(g*x.x)/u)},D={x:h(M)*w.x-m(M)*w.y+(t+a)/2,y:m(M)*w.x+h(M)*w.y+(e+c)/2},K={x:(x.x-w.x)/u,y:(x.y-w.y)/g},k=$e({x:1,y:0},K),P={x:(-x.x-w.x)/u,y:(-x.y-w.y)/g};let I=$e(K,P);!o&&I>0?I-=2*y:o&&I<0&&(I+=2*y),I%=2*y;const O=k+I;return{center:D,startAngle:k,endAngle:O,rx:u,ry:g}},qe=(t,e,r,s,n,i,o,a,c)=>{const{rx:l,ry:m,startAngle:h,endAngle:f}=fe(t,e,r,s,n,i,o,a,c);return ve(l,m,f-h)},nt=(t,e,r,s,n,i,o,a,c,l)=>{let m={x:t,y:e};const{center:h,rx:f,ry:y,startAngle:u,endAngle:g}=fe(t,e,r,s,n,i,o,a,c);if(typeof l=="number"){const A=ve(f,y,g-u);if(l<=0)m={x:t,y:e};else if(l>=A)m={x:a,y:c};else{if(t===a&&e===c)return{x:a,y:c};if(f===0||y===0)return Le(t,e,a,c,l);const{PI:M,cos:p,sin:d}=Math,x=g-u,S=(n%360+360)%360*(M/180),q=u+x*(l/A),z=f*p(q),v=y*d(q);m={x:p(S)*z-d(S)*v+h.x,y:d(S)*z+p(S)*v+h.y}}}return m},rt=(t,e,r,s,n,i,o,a,c)=>{const{center:l,rx:m,ry:h,startAngle:f,endAngle:y}=fe(t,e,r,s,n,i,o,a,c),u=y-f,{min:g,max:A,tan:M,atan2:p,PI:d}=Math,{x,y:C}=l,S=n*d/180,q=M(S),z=p(-h*q,m),v=z,w=z+d,D=p(h,m*q),K=D+d,k=[a],P=[c];let I=g(t,a),O=A(t,a),R=g(e,c),F=A(e,c);const te=y-u*1e-5,W=_(x,C,m,h,S,te),L=y-u*.99999,V=_(x,C,m,h,S,L);if(W[0]>O||V[0]>O){const $=_(x,C,m,h,S,v);k.push($[0]),P.push($[1])}if(W[0]<I||V[0]<I){const $=_(x,C,m,h,S,w);k.push($[0]),P.push($[1])}if(W[1]<R||V[1]<R){const $=_(x,C,m,h,S,K);k.push($[0]),P.push($[1])}if(W[1]>F||V[1]>F){const $=_(x,C,m,h,S,D);k.push($[0]),P.push($[1])}return I=g.apply([],k),R=g.apply([],P),O=A.apply([],k),F=A.apply([],P),[I,R,O,F]},Dt={angleBetween:$e,arcLength:ve,arcPoint:_,getArcBBox:rt,getArcLength:qe,getArcProps:fe,getPointAtArcLength:nt},ze=[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],st=[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],it=t=>{const e=[];for(let r=t,s=r.length,n=s-1;s>1;s-=1,n-=1){const i=[];for(let o=0;o<n;o+=1)i.push({x:n*(r[o+1].x-r[o].x),y:n*(r[o+1].y-r[o].y),t:0});e.push(i),r=i}return e},ot=(t,e)=>{if(e===0)return t[0].t=0,t[0];const r=t.length-1;if(e===1)return t[r].t=1,t[r];const s=1-e;let n=t;if(r===0)return t[0].t=e,t[0];if(r===1)return{x:s*n[0].x+e*n[1].x,y:s*n[0].y+e*n[1].y,t:e};const i=s*s,o=e*e;let a=0,c=0,l=0,m=0;return r===2?(n=[n[0],n[1],n[2],{x:0,y:0}],a=i,c=s*e*2,l=o):r===3&&(a=i*s,c=i*e*3,l=s*o*3,m=e*o),{x:a*n[0].x+c*n[1].x+l*n[2].x+m*n[3].x,y:a*n[0].y+c*n[1].y+l*n[2].y+m*n[3].y,t:e}},ct=(t,e)=>{const r=t(e),s=r.x*r.x+r.y*r.y;return Math.sqrt(s)},at=t=>{const r=ze.length;let s=0;for(let n=0,i;n<r;n++)i=.5*ze[n]+.5,s+=st[n]*ct(t,i);return .5*s},se=t=>{const e=[];for(let s=0,n=t.length,i=2;s<n;s+=i)e.push({x:t[s],y:t[s+1]});const r=it(e);return at(s=>ot(r[0],s))},lt=1e-8,ye=([t,e,r])=>{const s=Math.min(t,r),n=Math.max(t,r);if(e>=t?r>=e:r<=e)return[s,n];const i=(t*r-e*e)/(t-2*e+r);return i<s?[i,n]:[s,i]},ke=([t,e,r,s])=>{const n=t-3*e+3*r-s;if(Math.abs(n)<lt)return t===s&&t===e?[t,s]:ye([t,-.5*t+1.5*e,t-3*e+3*r]);const i=-t*r+t*s-e*r-e*s+e*e+r*r;if(i<=0)return[Math.min(t,s),Math.max(t,s)];const o=Math.sqrt(i);let a=Math.min(t,s),c=Math.max(t,s);const l=t-2*e+r;for(let m=(l+o)/n,h=1;h<=2;m=(l-o)/n,h++)if(m>0&&m<1){const f=t*(1-m)*(1-m)*(1-m)+e*3*(1-m)*(1-m)*m+r*3*(1-m)*m*m+s*m*m*m;f<a&&(a=f),f>c&&(c=f)}return[a,c]},Ot={bezierLength:at,calculateBezier:ct,CBEZIER_MINMAX_EPSILON:lt,computeBezier:ot,Cvalues:st,deriveBezier:it,getBezierLength:se,minmaxC:ke,minmaxQ:ye,Tvalues:ze},mt=([t,e,r,s,n,i,o,a],c)=>{const l=1-c;return{x:l**3*t+3*l**2*c*r+3*l*c**2*n+c**3*o,y:l**3*e+3*l**2*c*s+3*l*c**2*i+c**3*a}},ge=(t,e,r,s,n,i,o,a)=>se([t,e,r,s,n,i,o,a]),ut=(t,e,r,s,n,i,o,a,c)=>{const l=typeof c=="number";let m={x:t,y:e};if(l){const h=se([t,e,r,s,n,i,o,a]);c<=0||(c>=h?m={x:o,y:a}:m=mt([t,e,r,s,n,i,o,a],c/h))}return m},Ie=(t,e,r,s,n,i,o,a)=>{const c=ke([t,r,n,o]),l=ke([e,s,i,a]);return[c[0],l[0],c[1],l[1]]},Bt={getCubicBBox:Ie,getCubicLength:ge,getPointAtCubicLength:ut,getPointAtCubicSegmentLength:mt},ht=([t,e,r,s,n,i],o)=>{const a=1-o;return{x:a**2*t+2*a*o*r+o**2*n,y:a**2*e+2*a*o*s+o**2*i}},de=(t,e,r,s,n,i)=>se([t,e,r,s,n,i]),ft=(t,e,r,s,n,i,o)=>{const a=typeof o=="number";let c={x:t,y:e};if(a){const l=se([t,e,r,s,n,i]);o<=0||(o>=l?c={x:n,y:i}:c=ht([t,e,r,s,n,i],o/l))}return c},Ve=(t,e,r,s,n,i)=>{const o=ye([t,r,n]),a=ye([e,s,i]);return[o[0],a[0],o[1],a[1]]},Ht={getPointAtQuadLength:ft,getPointAtQuadSegmentLength:ht,getQuadBBox:Ve,getQuadLength:de},Ft={polygonArea:t=>{const e=t.length;let r=-1,s,n=t[e-1],i=0;for(;++r<e;)s=n,n=t[r],i+=s[1]*n[0]-s[0]*n[1];return i/2},polygonLength:t=>t.reduce((e,r,s)=>s?e+he(t[s-1],r):0,0)},ie=(t,e,r)=>{const{sin:s,cos:n}=Math,i=t*n(r)-e*s(r),o=t*s(r)+e*n(r);return{x:i,y:o}},T=(t,e)=>{const r=e>=1?10**e:1;return e>0?Math.round(t*r)/r:Math.round(t)},J={origin:[0,0,0],round:4},X={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},Ee=t=>{let e=t.pathValue[t.segmentStart],r=e.toLowerCase();const{data:s}=t;for(;s.length>=X[r]&&(r==="m"&&s.length>2?(t.segments.push([e].concat(s.splice(0,2))),r="l",e=e==="m"?"l":"L"):t.segments.push([e].concat(s.splice(0,X[r]))),!!X[r]););},j="SVGPathCommander Error",yt=t=>{const{index:e,pathValue:r}=t,s=r.charCodeAt(e);if(s===48){t.param=0,t.index+=1;return}if(s===49){t.param=1,t.index+=1;return}t.err=`${j}: invalid Arc flag "${r[e]}", expecting 0 or 1 at index ${e}`},G=t=>t>=48&&t<=57,U="Invalid path value",gt=t=>{const{max:e,pathValue:r,index:s}=t;let n=s,i=!1,o=!1,a=!1,c=!1,l;if(n>=e){t.err=`${j}: ${U} at index ${n}, "pathValue" is missing param`;return}if(l=r.charCodeAt(n),(l===43||l===45)&&(n+=1,l=r.charCodeAt(n)),!G(l)&&l!==46){t.err=`${j}: ${U} at index ${n}, "${r[n]}" is not a number`;return}if(l!==46){if(i=l===48,n+=1,l=r.charCodeAt(n),i&&n<e&&l&&G(l)){t.err=`${j}: ${U} at index ${s}, "${r[s]}" illegal number`;return}for(;n<e&&G(r.charCodeAt(n));)n+=1,o=!0;l=r.charCodeAt(n)}if(l===46){for(c=!0,n+=1;G(r.charCodeAt(n));)n+=1,a=!0;l=r.charCodeAt(n)}if(l===101||l===69){if(c&&!o&&!a){t.err=`${j}: ${U} at index ${n}, "${r[n]}" invalid float exponent`;return}if(n+=1,l=r.charCodeAt(n),(l===43||l===45)&&(n+=1),n<e&&G(r.charCodeAt(n)))for(;n<e&&G(r.charCodeAt(n));)n+=1;else{t.err=`${j}: ${U} at index ${n}, "${r[n]}" invalid integer exponent`;return}}t.index=n,t.param=+t.pathValue.slice(s,n)},dt=t=>[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279,10,13,8232,8233,32,9,11,12,160].includes(t),Y=t=>{const{pathValue:e,max:r}=t;for(;t.index<r&&dt(e.charCodeAt(t.index));)t.index+=1},bt=t=>{switch(t|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}},xt=t=>G(t)||t===43||t===45||t===46,At=t=>(t|32)===97,Mt=t=>{switch(t|32){case 109:case 77:return!0;default:return!1}},Re=t=>{var c;const{max:e,pathValue:r,index:s,segments:n}=t,i=r.charCodeAt(s),o=X[r[s].toLowerCase()];if(t.segmentStart=s,!bt(i)){t.err=`${j}: ${U} "${r[s]}" is not a path command at index ${s}`;return}const a=n[n.length-1];if(!Mt(i)&&((c=a==null?void 0:a[0])==null?void 0:c.toLocaleLowerCase())==="z"){t.err=`${j}: ${U} "${r[s]}" is not a MoveTo path command at index ${s}`;return}if(t.index+=1,Y(t),t.data=[],!o){Ee(t);return}for(;;){for(let l=o;l>0;l-=1){if(At(i)&&(l===3||l===4)?yt(t):gt(t),t.err.length)return;t.data.push(t.param),Y(t),t.index<e&&r.charCodeAt(t.index)===44&&(t.index+=1,Y(t))}if(t.index>=t.max||!xt(r.charCodeAt(t.index)))break}Ee(t)};class je{constructor(e){this.segments=[],this.pathValue=e,this.max=e.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}}const Q=t=>{if(typeof t!="string")return t.slice(0);const e=new je(t);for(Y(e);e.index<e.max&&!e.err.length;)Re(e);if(!e.err.length)e.segments.length&&(e.segments[0][0]="M");else throw TypeError(e.err);return e.segments},oe=(t,e,r,s)=>{const[n]=t,i=n.toUpperCase();if(e===0||i===n)return t;if(i==="A")return[i,t[1],t[2],t[3],t[4],t[5],t[6]+r,t[7]+s];if(i==="V")return[i,t[1]+s];if(i==="H")return[i,t[1]+r];if(i==="L")return[i,t[1]+r,t[2]+s];{const a=[],c=t.length;for(let l=1;l<c;l+=1)a.push(t[l]+(l%2?r:s));return[i].concat(a)}},Z=(t,e)=>{let r=t.length,s,n="M",i="M",o=!1,a=0,c=0,l=0,m=0,h=0;for(let f=0;f<r;f+=1){s=t[f],[n]=s,h=s.length,i=n.toUpperCase(),o=i!==n;const y=e(s,f,a,c);if(y===!1)break;i==="Z"?(a=l,c=m):i==="H"?a=s[1]+(o?a:0):i==="V"?c=s[1]+(o?c:0):(a=s[h-2]+(o?a:0),c=s[h-1]+(o?c:0),i==="M"&&(l=a,m=c)),y&&(t[f]=y,y[0]==="C"&&(r=t.length))}return t},be=t=>{const e=Q(t);return Z(e,oe)},Qe=(t,e,r,s)=>{const[n]=t,i=n.toLowerCase();if(e===0||n===i)return t;if(i==="a")return[i,t[1],t[2],t[3],t[4],t[5],t[6]-r,t[7]-s];if(i==="v")return[i,t[1]-s];if(i==="h")return[i,t[1]-r];if(i==="l")return[i,t[1]-r,t[2]-s];{const a=[],c=t.length;for(let l=1;l<c;l+=1)a.push(t[l]-(l%2?r:s));return[i].concat(a)}},pt=t=>{const e=Q(t);return Z(e,Qe)},xe=(t,e,r,s,n,i,o,a,c,l)=>{let m=t,h=e,f=r,y=s,u=a,g=c;const A=Math.PI*120/180,M=Math.PI/180*(+n||0);let p=[],d,x,C,S,q;if(l)[x,C,S,q]=l;else{d=ie(m,h,-M),m=d.x,h=d.y,d=ie(u,g,-M),u=d.x,g=d.y;const L=(m-u)/2,V=(h-g)/2;let $=L*L/(f*f)+V*V/(y*y);$>1&&($=Math.sqrt($),f*=$,y*=$);const He=f*f,Fe=y*y,Et=(i===o?-1:1)*Math.sqrt(Math.abs((He*Fe-He*V*V-Fe*L*L)/(He*V*V+Fe*L*L)));S=Et*f*V/y+(m+u)/2,q=Et*-y*L/f+(h+g)/2,x=Math.asin(((h-q)/y*10**9>>0)/10**9),C=Math.asin(((g-q)/y*10**9>>0)/10**9),x=m<S?Math.PI-x:x,C=u<S?Math.PI-C:C,x<0&&(x=Math.PI*2+x),C<0&&(C=Math.PI*2+C),o&&x>C&&(x-=Math.PI*2),!o&&C>x&&(C-=Math.PI*2)}let z=C-x;if(Math.abs(z)>A){const L=C,V=u,$=g;C=x+A*(o&&C>x?1:-1),u=S+f*Math.cos(C),g=q+y*Math.sin(C),p=xe(u,g,f,y,n,0,o,V,$,[C,L,S,q])}z=C-x;const v=Math.cos(x),w=Math.sin(x),D=Math.cos(C),K=Math.sin(C),k=Math.tan(z/4),P=4/3*f*k,I=4/3*y*k,O=[m,h],R=[m+P*w,h-I*v],F=[u+P*K,g-I*D],te=[u,g];if(R[0]=2*O[0]-R[0],R[1]=2*O[1]-R[1],l)return[R[0],R[1],F[0],F[1],te[0],te[1]].concat(p);p=[R[0],R[1],F[0],F[1],te[0],te[1]].concat(p);const W=[];for(let L=0,V=p.length;L<V;L+=1)W[L]=L%2?ie(p[L-1],p[L],M).y:ie(p[L],p[L+1],M).x;return W},Ct=(t,e,r,s,n,i)=>{const o=.3333333333333333,a=2/3;return[o*t+a*r,o*e+a*s,o*n+a*r,o*i+a*s,n,i]},Ze=(t,e,r,s)=>{const n=B([t,e],[r,s],.3333333333333333),i=B([t,e],[r,s],2/3);return[n[0],n[1],i[0],i[1],r,s]},Pt=(t,e)=>{const[r]=t,s=t.slice(1).map(Number),[n,i]=s,{x1:o,y1:a,x:c,y:l}=e;return"TQ".includes(r)||(e.qx=null,e.qy=null),r==="M"?(e.x=n,e.y=i,t):r==="A"?["C"].concat(xe(o,a,s[0],s[1],s[2],s[3],s[4],s[5],s[6])):r==="Q"?(e.qx=n,e.qy=i,["C"].concat(Ct(o,a,s[0],s[1],s[2],s[3]))):r==="L"?["C"].concat(Ze(o,a,n,i)):r==="Z"?["C"].concat(Ze(o,a,c,l)):t},Ae=(t,e)=>{const[r]=t,s=r.toUpperCase(),n=r!==s,{x1:i,y1:o,x2:a,y2:c,x:l,y:m}=e,h=t.slice(1);let f=h.map((y,u)=>y+(n?u%2?m:l:0));if("TQ".includes(s)||(e.qx=null,e.qy=null),s==="A")return f=h.slice(0,-2).concat(h[5]+(n?l:0),h[6]+(n?m:0)),["A"].concat(f);if(s==="H")return["L",t[1]+(n?l:0),o];if(s==="V")return["L",i,t[1]+(n?m:0)];if(s==="L")return["L",t[1]+(n?l:0),t[2]+(n?m:0)];if(s==="M")return["M",t[1]+(n?l:0),t[2]+(n?m:0)];if(s==="C")return["C"].concat(f);if(s==="S"){const y=i*2-a,u=o*2-c;return e.x1=y,e.y1=u,["C",y,u].concat(f)}else if(s==="T"){const y=i*2-(e.qx?e.qx:0),u=o*2-(e.qy?e.qy:0);return e.qx=y,e.qy=u,["Q",y,u].concat(f)}else if(s==="Q"){const[y,u]=f;return e.qx=y,e.qy=u,["Q"].concat(f)}else if(s==="Z")return["Z"];return t},ce={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},Me=t=>{const e={...ce},r=Q(t);return Z(r,(s,n,i,o)=>{e.x=i,e.y=o;const a=Ae(s,e);let c=Pt(a,e);c[0]==="C"&&c.length>7&&(r.splice(n+1,0,["C"].concat(c.slice(7))),c=c.slice(0,7));const m=c.length;return e.x1=+c[m-2],e.y1=+c[m-1],e.x2=+c[m-4]||e.x1,e.y2=+c[m-3]||e.y1,c})},De=(t,e)=>{const r=t.length;let{round:s}=J,n=t[0],i="";s=e==="off"||typeof e=="number"&&e>=0?e:typeof s=="number"&&s>=0?s:"off";for(let o=0;o<r;o+=1){n=t[o];const[a]=n,c=n.slice(1);if(i+=a,s==="off")i+=c.join(" ");else{let l=0;const m=c.length;for(;l<m;)i+=T(c[l],s),l!==m-1&&(i+=" "),l+=1}}return i},St=t=>{if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0,cx:0,cy:0,cz:0};const e=Q(t);let r="M",s=0,n=0;const{max:i,min:o}=Math;let a=1/0,c=1/0,l=-1/0,m=-1/0,h=0,f=0,y=0,u=0,g=0,A=0,M=0,p=0,d=0,x=0;Z(e,(q,z,v,w)=>{[r]=q;const D=r.toUpperCase(),k=D!==r?oe(q,z,v,w):q.slice(0),P=D==="V"?["L",v,k[1]]:D==="H"?["L",k[1],w]:k;if([r]=P,"TQ".includes(D)||(d=0,x=0),r==="M")[,s,n]=P,h=s,f=n,y=s,u=n;else if(r==="L")[h,f,y,u]=Te(v,w,P[1],P[2]);else if(r==="A")[h,f,y,u]=rt(v,w,P[1],P[2],P[3],P[4],P[5],P[6],P[7]);else if(r==="S"){const I=g*2-M,O=A*2-p;[h,f,y,u]=Ie(v,w,I,O,P[1],P[2],P[3],P[4])}else r==="C"?[h,f,y,u]=Ie(v,w,P[1],P[2],P[3],P[4],P[5],P[6]):r==="T"?(d=g*2-d,x=A*2-x,[h,f,y,u]=Ve(v,w,d,x,P[1],P[2])):r==="Q"?(d=P[1],x=P[2],[h,f,y,u]=Ve(v,w,P[1],P[2],P[3],P[4])):r==="Z"&&([h,f,y,u]=Te(v,w,s,n));a=o(h,a),c=o(f,c),l=i(y,l),m=i(u,m),[g,A]=r==="Z"?[s,n]:P.slice(-2),[M,p]=r==="C"?[P[3],P[4]]:r==="S"?[P[1],P[2]]:[g,A]});const C=l-a,S=m-c;return{width:C,height:S,x:a,y:c,x2:l,y2:m,cx:a+C/2,cy:c+S/2,cz:Math.max(C,S)+Math.min(C,S)/2}},ee=t=>{const e=Q(t);let r=0,s=0,n=0,i=0,o=0,a=0,c="M",l=0,m=0,h=0;return Z(e,(f,y,u,g)=>{[c]=f;const A=c.toUpperCase(),p=A!==c?oe(f,y,u,g):f.slice(0),d=A==="V"?["L",u,p[1]]:A==="H"?["L",p[1],g]:p;if([c]=d,"TQ".includes(A)||(o=0,a=0),c==="M")[,l,m]=d;else if(c==="L")h+=re(u,g,d[1],d[2]);else if(c==="A")h+=qe(u,g,d[1],d[2],d[3],d[4],d[5],d[6],d[7]);else if(c==="S"){const x=r*2-n,C=s*2-i;h+=ge(u,g,x,C,d[1],d[2],d[3],d[4])}else c==="C"?h+=ge(u,g,d[1],d[2],d[3],d[4],d[5],d[6]):c==="T"?(o=r*2-o,a=s*2-a,h+=de(u,g,o,a,d[1],d[2])):c==="Q"?(o=d[1],a=d[2],h+=de(u,g,d[1],d[2],d[3],d[4])):c==="Z"&&(h+=re(u,g,l,m));[r,s]=c==="Z"?[l,m]:d.slice(-2),[n,i]=c==="C"?[d[3],d[4]]:c==="S"?[d[1],d[2]]:[r,s]}),h},pe=1e-5,ae=t=>{const e=Q(t),r={...ce};return Z(e,(s,n,i,o)=>{r.x=i,r.y=o;const a=Ae(s,r),c=a.length;return r.x1=+a[c-2],r.y1=+a[c-1],r.x2=+a[c-4]||r.x1,r.y2=+a[c-3]||r.y1,a})},le=(t,e)=>{const r=ae(t);let s=!1,n=[],i="M",o=0,a=0,[c,l]=r[0].slice(1);const m=typeof e=="number";let h={x:c,y:l},f=0,y=h,u=0;return!m||e<pe?h:(Z(r,(g,A,M,p)=>{if([i]=g,s=i==="M",n=s?n:[M,p].concat(g.slice(1)),s?([,c,l]=g,h={x:c,y:l},f=0):i==="L"?(h=Le(n[0],n[1],n[2],n[3],e-u),f=re(n[0],n[1],n[2],n[3])):i==="A"?(h=nt(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],e-u),f=qe(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])):i==="C"?(h=ut(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],e-u),f=ge(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7])):i==="Q"?(h=ft(n[0],n[1],n[2],n[3],n[4],n[5],e-u),f=de(n[0],n[1],n[2],n[3],n[4],n[5])):i==="Z"&&(n=[M,p,c,l],h={x:c,y:l},f=re(n[0],n[1],n[2],n[3])),[o,a]=n.slice(-2),u<e)y=h;else return!1;u+=f}),e>u-pe?{x:o,y:a}:y)},Oe=(t,e)=>{const r=Q(t);let s=r.slice(0),n=ee(s),i=s.length-1,o=0,a=0,c=r[0];if(i<=0||!e||!Number.isFinite(e))return{segment:c,index:0,length:a,lengthAtSegment:o};if(e>=n)return s=r.slice(0,-1),o=ee(s),a=n-o,c=r[i],{segment:c,index:i,length:a,lengthAtSegment:o};const l=[];for(;i>0;)c=s[i],s=s.slice(0,-1),o=ee(s),a=n-o,n=o,l.push({segment:c,index:i,length:a,lengthAtSegment:o}),i-=1;return l.find(({lengthAtSegment:m})=>m<=e)},Ce=(t,e)=>{const r=Q(t),s=ae(r),n=ee(s),i=x=>{const C=x.x-e.x,S=x.y-e.y;return C*C+S*S};let o=8,a,c={x:0,y:0},l=0,m=0,h=1/0;for(let x=0;x<=n;x+=o)a=le(s,x),l=i(a),l<h&&(c=a,m=x,h=l);o/=2;let f,y,u=0,g=0,A=0,M=0;for(;o>1e-6&&(u=m-o,f=le(s,u),A=i(f),g=m+o,y=le(s,g),M=i(y),u>=0&&A<h?(c=f,m=u,h=A):g<=n&&M<h?(c=y,m=g,h=M):o/=2,!(o<1e-5)););const p=Oe(r,m),d=Math.sqrt(h);return{closest:c,distance:d,segment:p}},Gt=(t,e)=>Ce(t,e).closest,Ut=(t,e,r,s,n,i,o,a)=>3*((a-e)*(r+n)-(o-t)*(s+i)+s*(t-n)-r*(e-i)+a*(n+t/3)-o*(i+e/3))/20,Nt=t=>{let e=0,r=0,s=0;return Me(t).map(n=>{switch(n[0]){case"M":return[,e,r]=n,0;default:return s=Ut(e,r,n[1],n[2],n[3],n[4],n[5],n[6]),[e,r]=n.slice(-2),s}}).reduce((n,i)=>n+i,0)},_t=t=>Nt(Me(t))>=0,Jt=(t,e)=>Oe(t,e).segment,Kt=(t,e)=>Ce(t,e).segment,Pe=t=>Array.isArray(t)&&t.every(e=>{const r=e[0].toLowerCase();return X[r]===e.length-1&&"achlmqstvz".includes(r)&&e.slice(1).every(Number.isFinite)})&&t.length>0,wt=t=>Pe(t)&&t.every(([e])=>e===e.toUpperCase()),Lt=t=>wt(t)&&t.every(([e])=>"ACLMQZ".includes(e)),Wt=t=>Lt(t)&&t.every(([e])=>"MC".includes(e)),Xt=(t,e)=>{const{distance:r}=Ce(t,e);return Math.abs(r)<pe},Yt=t=>Pe(t)&&t.slice(1).every(([e])=>e===e.toLowerCase()),Tt=t=>{if(typeof t!="string"||!t.length)return!1;const e=new je(t);for(Y(e);e.index<e.max&&!e.err.length;)Re(e);return!e.err.length&&"mM".includes(e.segments[0][0])},me={line:["x1","y1","x2","y2"],circle:["cx","cy","r"],ellipse:["cx","cy","rx","ry"],rect:["width","height","x","y","rx","ry"],polygon:["points"],polyline:["points"],glyph:["d"]},vt=t=>t!=null&&typeof t=="object"&&t.nodeType===1,en=t=>{let{x1:e,y1:r,x2:s,y2:n}=t;return[e,r,s,n]=[e,r,s,n].map(i=>+i),[["M",e,r],["L",s,n]]},tn=t=>{const e=[],r=(t.points||"").trim().split(/[\s|,]/).map(n=>+n);let s=0;for(;s<r.length;)e.push([s?"L":"M",r[s],r[s+1]]),s+=2;return t.type==="polygon"?[...e,["z"]]:e},nn=t=>{let{cx:e,cy:r,r:s}=t;return[e,r,s]=[e,r,s].map(n=>+n),[["M",e-s,r],["a",s,s,0,1,0,2*s,0],["a",s,s,0,1,0,-2*s,0]]},rn=t=>{let{cx:e,cy:r}=t,s=t.rx||0,n=t.ry||s;return[e,r,s,n]=[e,r,s,n].map(i=>+i),[["M",e-s,r],["a",s,n,0,1,0,2*s,0],["a",s,n,0,1,0,-2*s,0]]},sn=t=>{const e=+t.x||0,r=+t.y||0,s=+t.width,n=+t.height;let i=+(t.rx||0),o=+(t.ry||i);return i||o?(i*2>s&&(i-=(i*2-s)/2),o*2>n&&(o-=(o*2-n)/2),[["M",e+i,r],["h",s-i*2],["s",i,0,i,o],["v",n-o*2],["s",0,o,-i,o],["h",-s+i*2],["s",-i,0,-i,-o],["v",-n+o*2],["s",0,-o,i,-o]]):[["M",e,r],["h",s],["v",n],["H",e],["Z"]]},$t=t=>{const e=Object.keys(me),r=vt(t),s=r?t.tagName:null;if(s&&[...e,"path"].every(c=>s!==c))throw TypeError(`${j}: "${s}" is not SVGElement`);const n=r?s:t.type,i=me[n],o={type:n};r?i.forEach(c=>{o[c]=t.getAttribute(c)}):Object.assign(o,t);let a=[];return n==="circle"?a=nn(o):n==="ellipse"?a=rn(o):["polyline","polygon"].includes(n)?a=tn(o):n==="rect"?a=sn(o):n==="line"?a=en(o):["glyph","path"].includes(n)&&(a=Q(r?t.getAttribute("d")||"":t.d||"")),Pe(a)&&a.length?a:!1},on=(t,e,r)=>{const s=r||document,n=Object.keys(me),i=vt(t),o=i?t.tagName:null;if(o==="path")throw TypeError(`${j}: "${o}" is already SVGPathElement`);if(o&&n.every(u=>o!==u))throw TypeError(`${j}: "${o}" is not SVGElement`);const a=s.createElementNS("http://www.w3.org/2000/svg","path"),c=i?o:t.type,l=me[c],m={type:c},h=J.round,f=$t(t),y=f&&f.length?De(f,h):"";return i?(l.forEach(u=>{m[u]=t.getAttribute(u)}),Object.values(t.attributes).forEach(({name:u,value:g})=>{l.includes(u)||a.setAttribute(u,g)})):(Object.assign(m,t),Object.keys(m).forEach(u=>{!l.includes(u)&&u!=="type"&&a.setAttribute(u.replace(/[A-Z]/g,g=>`-${g.toLowerCase()}`),m[u])})),Tt(y)?(a.setAttribute("d",y),e&&i&&(t.before(a,t),t.remove()),a):!1},qt=(t,e,r,s)=>{const[n]=t,{round:i}=J,o=i,a=e.slice(1),{x1:c,y1:l,x2:m,y2:h,x:f,y}=r,[u,g]=a.slice(-2),A=t;if("TQ".includes(n)||(r.qx=null,r.qy=null),n==="L"){if(T(f,o)===T(u,o))return["V",g];if(T(y,o)===T(g,o))return["H",u]}else if(n==="C"){const[M,p]=a;if(r.x1=M,r.y1=p,"CS".includes(s)&&(T(M,o)===T(c*2-m,o)&&T(p,o)===T(l*2-h,o)||T(c,o)===T(m*2-f,o)&&T(l,o)===T(h*2-y,o)))return["S",a[2],a[3],a[4],a[5]]}else if(n==="Q"){const[M,p]=a;if(r.qx=M,r.qy=p,"QT".includes(s)&&T(M,o)===T(c*2-m,o)&&T(p,o)===T(l*2-h,o))return["T",a[2],a[3]]}return A},Se=(t,e)=>{const r=t.slice(1).map(s=>T(s,e));return[t[0]].concat(r)},zt=(t,e)=>{const r=be(t),s=typeof e=="number"&&e>=0?e:2,n={...ce},i=[];let o="M",a="Z";return Z(r,(c,l,m,h)=>{n.x=m,n.y=h;const f=Ae(c,n);let y=c;if([o]=c,i[l]=o,l){a=i[l-1];const g=qt(c,f,n,a),A=Se(g,s),M=A.join(""),p=Qe(g,l,m,h),d=Se(p,s),x=d.join("");y=M.length<x.length?A:d}const u=f.length;return n.x1=+f[u-2],n.y1=+f[u-1],n.x2=+f[u-4]||n.x1,n.y2=+f[u-3]||n.y1,y})},Ne=t=>{const e=be(t),r=ae(e),s=e.length,n=e[s-1][0]==="Z",i=Z(e,(o,a)=>{const c=r[a],l=a&&e[a-1],m=l&&l[0],h=e[a+1],f=h&&h[0],[y]=o,[u,g]=r[a?a-1:s-1].slice(-2);let A=o;switch(y){case"M":A=n?["Z"]:[y,u,g];break;case"A":A=[y,o[1],o[2],o[3],o[4],o[5]===1?0:1,u,g];break;case"C":h&&f==="S"?A=["S",o[1],o[2],u,g]:A=[y,o[3],o[4],o[1],o[2],u,g];break;case"S":m&&"CS".includes(m)&&(!h||f!=="S")?A=["C",c[3],c[4],c[1],c[2],u,g]:A=[y,c[1],c[2],u,g];break;case"Q":h&&f==="T"?A=["T",u,g]:A=[y,o[1],o[2],u,g];break;case"T":m&&"QT".includes(m)&&(!h||f!=="T")?A=["Q",c[1],c[2],u,g]:A=[y,u,g];break;case"Z":A=["M",u,g];break;case"H":A=[y,u];break;case"V":A=[y,g];break;default:A=[y].concat(o.slice(1,-2),u,g)}return A});return n?i.reverse():[i[0]].concat(i.slice(1).reverse())},kt=t=>{const e=[];let r,s=-1,n=0,i=0,o=0,a=0;const c={...ce};return t.forEach(l=>{const[m]=l,h=m.toUpperCase(),f=m.toLowerCase(),y=m===f,u=l.slice(1);h==="M"?(s+=1,[n,i]=u,n+=y?c.x:0,i+=y?c.y:0,o=n,a=i,r=[y?[h,o,a]:l]):(h==="Z"?(n=o,i=a):h==="H"?([,n]=l,n+=y?c.x:0):h==="V"?([,i]=l,i+=y?c.y:0):([n,i]=l.slice(-2),n+=y?c.x:0,i+=y?c.y:0),r.push(l)),c.x=n,c.y=i,e[s]=r}),e},It=t=>{let e=new N;const{origin:r}=t,[s,n]=r,{translate:i}=t,{rotate:o}=t,{skew:a}=t,{scale:c}=t;return Array.isArray(i)&&i.length>=2&&i.every(l=>!Number.isNaN(+l))&&i.some(l=>l!==0)?e=e.translate(...i):typeof i=="number"&&!Number.isNaN(i)&&(e=e.translate(i)),(o||a||c)&&(e=e.translate(s,n),Array.isArray(o)&&o.length>=2&&o.every(l=>!Number.isNaN(+l))&&o.some(l=>l!==0)?e=e.rotate(...o):typeof o=="number"&&!Number.isNaN(o)&&(e=e.rotate(o)),Array.isArray(a)&&a.length===2&&a.every(l=>!Number.isNaN(+l))&&a.some(l=>l!==0)?(e=a[0]?e.skewX(a[0]):e,e=a[1]?e.skewY(a[1]):e):typeof a=="number"&&!Number.isNaN(a)&&(e=e.skewX(a)),Array.isArray(c)&&c.length>=2&&c.every(l=>!Number.isNaN(+l))&&c.some(l=>l!==1)?e=e.scale(...c):typeof c=="number"&&!Number.isNaN(c)&&(e=e.scale(c)),e=e.translate(-s,-n)),e},cn=(t,e)=>{let r=N.Translate(e[0],e[1],e[2]);return[,,,r.m44]=e,r=t.multiply(r),[r.m41,r.m42,r.m43,r.m44]},Be=(t,e,r)=>{const[s,n,i]=r,[o,a,c]=cn(t,[e[0],e[1],0,1]),l=o-s,m=a-n,h=c-i;return[l*(Math.abs(i)/Math.abs(h)||1)+s,m*(Math.abs(i)/Math.abs(h)||1)+n]},Vt=(t,e)=>{let r=0,s=0,n=0,i=0,o=0,a=0,c="M";const l=Q(t),m=e&&Object.keys(e);if(!e||m&&!m.length)return l.slice(0);e.origin||Object.assign(e,{origin:J.origin});const h=e.origin,f=It(e);return f.isIdentity?l.slice(0):Z(l,(y,u,g,A)=>{[c]=y;const M=c.toUpperCase(),d=M!==c?oe(y,u,g,A):y.slice(0);let x=M==="A"?["C"].concat(xe(g,A,d[1],d[2],d[3],d[4],d[5],d[6],d[7])):M==="V"?["L",g,d[1]]:M==="H"?["L",d[1],A]:d;c=x[0];const C=c==="C"&&x.length>7,S=C?x.slice(0,7):x.slice(0);if(C&&(l.splice(u+1,0,["C"].concat(x.slice(7))),x=S),c==="L")[n,i]=Be(f,[x[1],x[2]],h),r!==n&&s!==i?x=["L",n,i]:s===i?x=["H",n]:r===n&&(x=["V",i]);else for(o=1,a=x.length;o<a;o+=2)[n,i]=Be(f,[+x[o],+x[o+1]],h),x[o]=n,x[o+1]=i;return r=n,s=i,x})},an=t=>{const e=t.slice(1).map((r,s,n)=>s?n[s-1].slice(-2).concat(r.slice(1)):t[0].slice(1).concat(r.slice(1))).map(r=>r.map((s,n)=>r[r.length-n-2*(1-n%2)])).reverse();return[["M"].concat(e[0].slice(0,2))].concat(e.map(r=>["C"].concat(r.slice(2))))},ln=(t,e)=>{let{round:r}=J;return r=e==="off"||typeof e=="number"&&e>=0?e:typeof r=="number"&&r>=0?r:"off",r==="off"?t.slice(0):Z(t,s=>Se(s,r))},mn=(t,e=.5)=>{const r=e,s=t.slice(0,2),n=t.slice(2,4),i=t.slice(4,6),o=t.slice(6,8),a=B(s,n,r),c=B(n,i,r),l=B(i,o,r),m=B(a,c,r),h=B(c,l,r),f=B(m,h,r);return[["C",a[0],a[1],m[0],m[1],f[0],f[1]],["C",h[0],h[1],l[0],l[1],o[0],o[1]]]};class un{constructor(e,r){const s=r||{},n=typeof e>"u";if(n||!e.length)throw TypeError(`${j}: "pathValue" is ${n?"undefined":"empty"}`);this.segments=Q(e);const{round:i,origin:o}=s;let a;Number.isInteger(i)||i==="off"?a=i:a=J.round;let c=J.origin;if(Array.isArray(o)&&o.length>=2){const[l,m,h]=o.map(Number);c=[Number.isNaN(l)?0:l,Number.isNaN(m)?0:m,Number.isNaN(h)?0:h]}return this.round=a,this.origin=c,this}get bbox(){return St(this.segments)}get length(){return ee(this.segments)}getBBox(){return this.bbox}getTotalLength(){return this.length}getPointAtLength(e){return le(this.segments,e)}toAbsolute(){const{segments:e}=this;return this.segments=be(e),this}toRelative(){const{segments:e}=this;return this.segments=pt(e),this}toCurve(){const{segments:e}=this;return this.segments=Me(e),this}reverse(e){const{segments:r}=this,s=kt(r),n=s.length>1?s:!1,i=n?n.map((a,c)=>e?c?Ne(a):a.slice(0):Ne(a)):r.slice(0);let o=[];return n?o=i.flat(1):o=e?r:Ne(r),this.segments=o.slice(0),this}normalize(){const{segments:e}=this;return this.segments=ae(e),this}optimize(){const{segments:e}=this,r=this.round==="off"?2:this.round;return this.segments=zt(e,r),this}transform(e){if(!e||typeof e!="object"||typeof e=="object"&&!["translate","rotate","skew","scale"].some(c=>c in e))return this;const{segments:r,origin:[s,n,i]}=this,o={};for(const[c,l]of Object.entries(e))c==="skew"&&Array.isArray(l)||(c==="rotate"||c==="translate"||c==="origin"||c==="scale")&&Array.isArray(l)?o[c]=l.map(Number):c!=="origin"&&typeof Number(l)=="number"&&(o[c]=Number(l));const{origin:a}=o;if(Array.isArray(a)&&a.length>=2){const[c,l,m]=a.map(Number);o.origin=[Number.isNaN(c)?s:c,Number.isNaN(l)?n:l,m||i]}else o.origin=[s,n,i];return this.segments=Vt(r,o),this}flipX(){const{cx:e,cy:r}=this.bbox;return this.transform({rotate:[0,180,0],origin:[e,r,0]}),this}flipY(){const{cx:e,cy:r}=this.bbox;return this.transform({rotate:[180,0,0],origin:[e,r,0]}),this}toString(){return De(this.segments,this.round)}dispose(){Object.keys(this).forEach(e=>delete this[e])}}return b.CSSMatrix=N,b.absolutizeSegment=oe,b.arcToCubic=xe,b.arcTools=Dt,b.bezierTools=Ot,b.cubicTools=Bt,b.default=un,b.distanceEpsilon=pe,b.distanceSquareRoot=he,b.finalizeSegment=Ee,b.getClosestPoint=Gt,b.getDrawDirection=_t,b.getPathArea=Nt,b.getPathBBox=St,b.getPointAtLength=le,b.getPropertiesAtLength=Oe,b.getPropertiesAtPoint=Ce,b.getSVGMatrix=It,b.getSegmentAtLength=Jt,b.getSegmentOfPoint=Kt,b.getTotalLength=ee,b.invalidPathValue=U,b.isAbsoluteArray=wt,b.isArcCommand=At,b.isCurveArray=Wt,b.isDigit=G,b.isDigitStart=xt,b.isMoveCommand=Mt,b.isNormalizedArray=Lt,b.isPathArray=Pe,b.isPathCommand=bt,b.isPointInStroke=Xt,b.isRelativeArray=Yt,b.isSpace=dt,b.isValidPath=Tt,b.iterate=Z,b.lineToCubic=Ze,b.lineTools=Zt,b.midPoint=B,b.normalizePath=ae,b.normalizeSegment=Ae,b.optimizePath=zt,b.paramsCount=X,b.paramsParser=ce,b.parsePathString=Q,b.pathParser=je,b.pathToAbsolute=be,b.pathToCurve=Me,b.pathToRelative=pt,b.pathToString=De,b.polygonTools=Ft,b.projection2d=Be,b.quadToCubic=Ct,b.quadTools=Ht,b.relativizeSegment=Qe,b.reverseCurve=an,b.reversePath=Ne,b.rotateVector=ie,b.roundPath=ln,b.roundSegment=Se,b.roundTo=T,b.scanFlag=yt,b.scanParam=gt,b.scanSegment=Re,b.segmentToCubic=Pt,b.shapeParams=me,b.shapeToPath=on,b.shapeToPathArray=$t,b.shortenSegment=qt,b.skipSpaces=Y,b.splitCubic=mn,b.splitPath=kt,b.transformPath=Vt,Object.defineProperties(b,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}}),b}({});
//# sourceMappingURL=svg-path-commander.js.map
