import mn from"@thednp/dommatrix";var It=(t,e,n)=>{let[o,r]=t,[s,a]=e;return[o+(s-o)*n,r+(a-r)*n]},E=It;var Bt=(t,e)=>Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])),oe=Bt;var ae=(t,e,n,o)=>oe([t,e],[n,o]),xe=(t,e,n,o,r)=>{let s={x:t,y:e};if(typeof r=="number"){let a=oe([t,e],[n,o]);if(r<=0)s={x:t,y:e};else if(r>=a)s={x:n,y:o};else{let[m,i]=E([t,e],[n,o],r/a);s={x:m,y:i}}}return s},ze=(t,e,n,o)=>{let{min:r,max:s}=Math;return[r(t,n),r(e,o),s(t,n),s(e,o)]},ft={getLineBBox:ze,getLineLength:ae,getPointAtLineLength:xe};var et=(t,e,n)=>{let o=n/2,r=Math.sin(o),s=Math.cos(o),a=t**2*r**2,m=e**2*s**2,i=Math.sqrt(a+m)*n;return Math.abs(i)},se=(t,e,n,o,r,s)=>{let{sin:a,cos:m}=Math,i=m(r),u=a(r),c=n*m(s),l=o*a(s);return[t+i*c-u*l,e+u*c+i*l]},Ye=(t,e)=>{let{x:n,y:o}=t,{x:r,y:s}=e,a=n*r+o*s,m=Math.sqrt((n**2+o**2)*(r**2+s**2));return(n*s-o*r<0?-1:1)*Math.acos(a/m)},we=(t,e,n,o,r,s,a,m,i)=>{let{abs:u,sin:c,cos:l,sqrt:f,PI:g}=Math,p=u(n),h=u(o),x=(r%360+360)%360*(g/180);if(t===m&&e===i)return{rx:p,ry:h,startAngle:0,endAngle:0,center:{x:m,y:i}};if(p===0||h===0)return{rx:p,ry:h,startAngle:0,endAngle:0,center:{x:(m+t)/2,y:(i+e)/2}};let A=(t-m)/2,y=(e-i)/2,b={x:l(x)*A+c(x)*y,y:-c(x)*A+l(x)*y},d=b.x**2/p**2+b.y**2/h**2;d>1&&(p*=f(d),h*=f(d));let C=p**2*h**2-p**2*b.y**2-h**2*b.x**2,V=p**2*b.y**2+h**2*b.x**2,k=C/V;k=k<0?0:k;let z=(s!==a?1:-1)*f(k),v={x:z*(p*b.y/h),y:z*(-(h*b.x)/p)},B={x:l(x)*v.x-c(x)*v.y+(t+m)/2,y:c(x)*v.x+l(x)*v.y+(e+i)/2},re={x:(b.x-v.x)/p,y:(b.y-v.y)/h},q=Ye({x:1,y:0},re),S={x:(-b.x-v.x)/p,y:(-b.y-v.y)/h},D=Ye(re,S);!a&&D>0?D-=2*g:a&&D<0&&(D+=2*g),D%=2*g;let j=q+D;return{center:B,startAngle:q,endAngle:j,rx:p,ry:h}},Ae=(t,e,n,o,r,s,a,m,i)=>{let{rx:u,ry:c,startAngle:l,endAngle:f}=we(t,e,n,o,r,s,a,m,i);return et(u,c,f-l)},tt=(t,e,n,o,r,s,a,m,i,u)=>{let c={x:t,y:e},{center:l,rx:f,ry:g,startAngle:p,endAngle:h}=we(t,e,n,o,r,s,a,m,i);if(typeof u=="number"){let P=et(f,g,h-p);if(u<=0)c={x:t,y:e};else if(u>=P)c={x:m,y:i};else{if(t===m&&e===i)return{x:m,y:i};if(f===0||g===0)return xe(t,e,m,i,u);let{PI:x,cos:A,sin:y}=Math,b=h-p,C=(r%360+360)%360*(x/180),V=p+b*(u/P),k=f*A(V),z=g*y(V);c={x:A(C)*k-y(C)*z+l.x,y:y(C)*k+A(C)*z+l.y}}}return c},rt=(t,e,n,o,r,s,a,m,i)=>{let{center:u,rx:c,ry:l,startAngle:f,endAngle:g}=we(t,e,n,o,r,s,a,m,i),p=g-f,{min:h,max:P,tan:x,atan2:A,PI:y}=Math,{x:b,y:d}=u,C=r*y/180,V=x(C),k=A(-l*V,c),z=k,v=k+y,B=A(l,c*V),re=B+y,q=[m],S=[i],D=h(t,m),j=P(t,m),O=h(e,i),F=P(e,i),ge=g-p*1e-5,ne=se(b,d,c,l,C,ge),N=g-p*.99999,Q=se(b,d,c,l,C,N);if(ne[0]>j||Q[0]>j){let w=se(b,d,c,l,C,z);q.push(w[0]),S.push(w[1])}if(ne[0]<D||Q[0]<D){let w=se(b,d,c,l,C,v);q.push(w[0]),S.push(w[1])}if(ne[1]<O||Q[1]<O){let w=se(b,d,c,l,C,re);q.push(w[0]),S.push(w[1])}if(ne[1]>F||Q[1]>F){let w=se(b,d,c,l,C,B);q.push(w[0]),S.push(w[1])}return D=h.apply([],q),O=h.apply([],S),j=P.apply([],q),F=P.apply([],S),[D,O,j,F]},gt={angleBetween:Ye,arcLength:et,arcPoint:se,getArcBBox:rt,getArcLength:Ae,getArcProps:we,getPointAtArcLength:tt};var nt=[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],ht=[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],bt=t=>{let e=[];for(let n=t,o=n.length,r=o-1;o>1;o-=1,r-=1){let s=[];for(let a=0;a<r;a+=1)s.push({x:r*(n[a+1].x-n[a].x),y:r*(n[a+1].y-n[a].y),t:0});e.push(s),n=s}return e},yt=(t,e)=>{if(e===0)return t[0].t=0,t[0];let n=t.length-1;if(e===1)return t[n].t=1,t[n];let o=1-e,r=t;if(n===0)return t[0].t=e,t[0];if(n===1)return{x:o*r[0].x+e*r[1].x,y:o*r[0].y+e*r[1].y,t:e};let s=o*o,a=e*e,m=0,i=0,u=0,c=0;return n===2?(r=[r[0],r[1],r[2],{x:0,y:0}],m=s,i=o*e*2,u=a):n===3&&(m=s*o,i=s*e*3,u=o*a*3,c=e*a),{x:m*r[0].x+i*r[1].x+u*r[2].x+c*r[3].x,y:m*r[0].y+i*r[1].y+u*r[2].y+c*r[3].y,t:e}},Pt=(t,e)=>{let n=t(e),o=n.x*n.x+n.y*n.y;return Math.sqrt(o)},dt=t=>{let n=nt.length,o=0;for(let r=0,s;r<n;r++)s=.5*nt[r]+.5,o+=ht[r]*Pt(t,s);return .5*o},ie=t=>{let e=[];for(let o=0,r=t.length,s=2;o<r;o+=s)e.push({x:t[o],y:t[o+1]});let n=bt(e);return dt(o=>yt(n[0],o))},St=1e-8,Ce=([t,e,n])=>{let o=Math.min(t,n),r=Math.max(t,n);if(e>=t?n>=e:n<=e)return[o,r];let s=(t*n-e*e)/(t-2*e+n);return s<o?[s,r]:[o,s]},Ve=([t,e,n,o])=>{let r=t-3*e+3*n-o;if(Math.abs(r)<St)return t===o&&t===e?[t,o]:Ce([t,-.5*t+1.5*e,t-3*e+3*n]);let s=-t*n+t*o-e*n-e*o+e*e+n*n;if(s<=0)return[Math.min(t,o),Math.max(t,o)];let a=Math.sqrt(s),m=Math.min(t,o),i=Math.max(t,o),u=t-2*e+n;for(let c=(u+a)/r,l=1;l<=2;c=(u-a)/r,l++){if(c>0&&c<1){let f=t*(1-c)*(1-c)*(1-c)+e*3*(1-c)*(1-c)*c+n*3*(1-c)*c*c+o*c*c*c;f<m&&(m=f),f>i&&(i=f)}}return[m,i]},xt={bezierLength:dt,calculateBezier:Pt,CBEZIER_MINMAX_EPSILON:St,computeBezier:yt,Cvalues:ht,deriveBezier:bt,getBezierLength:ie,minmaxC:Ve,minmaxQ:Ce,Tvalues:nt};var At=([t,e,n,o,r,s,a,m],i)=>{let u=1-i;return{x:u**3*t+3*u**2*i*n+3*u*i**2*r+i**3*a,y:u**3*e+3*u**2*i*o+3*u*i**2*s+i**3*m}},he=(t,e,n,o,r,s,a,m)=>ie([t,e,n,o,r,s,a,m]),ot=(t,e,n,o,r,s,a,m,i)=>{let u=typeof i=="number",c={x:t,y:e};if(u){let l=ie([t,e,n,o,r,s,a,m]);i<=0||(i>=l?c={x:a,y:m}:c=At([t,e,n,o,r,s,a,m],i/l))}return c},Re=(t,e,n,o,r,s,a,m)=>{let i=Ve([t,n,r,a]),u=Ve([e,o,s,m]);return[i[0],u[0],i[1],u[1]]},Ct={getCubicBBox:Re,getCubicLength:he,getPointAtCubicLength:ot,getPointAtCubicSegmentLength:At};var Tt=([t,e,n,o,r,s],a)=>{let m=1-a;return{x:m**2*t+2*m*a*n+a**2*r,y:m**2*e+2*m*a*o+a**2*s}},be=(t,e,n,o,r,s)=>ie([t,e,n,o,r,s]),at=(t,e,n,o,r,s,a)=>{let m=typeof a=="number",i={x:t,y:e};if(m){let u=ie([t,e,n,o,r,s]);a<=0||(a>=u?i={x:r,y:s}:i=Tt([t,e,n,o,r,s],a/u))}return i},ke=(t,e,n,o,r,s)=>{let a=Ce([t,n,r]),m=Ce([e,o,s]);return[a[0],m[0],a[1],m[1]]},Mt={getPointAtQuadLength:at,getPointAtQuadSegmentLength:Tt,getQuadBBox:ke,getQuadLength:be};var jt=t=>{let e=t.length,n=-1,o,r=t[e-1],s=0;for(;++n<e;)o=r,r=t[n],s+=o[1]*r[0]-o[0]*r[1];return s/2},$t=t=>t.reduce((e,n,o)=>o?e+oe(t[o-1],n):0,0),Lt={polygonArea:jt,polygonLength:$t};var Ht=(t,e,n)=>{let{sin:o,cos:r}=Math,s=t*r(n)-e*o(n),a=t*o(n)+e*r(n);return{x:s,y:a}},me=Ht;var Zt=(t,e)=>{let n=e>=1?10**e:1;return e>0?Math.round(t*n)/n:Math.round(t)},M=Zt;var Gt={origin:[0,0,0],round:4},I=Gt;var _t={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},Z=_t;var Ut=t=>{let e=t.pathValue[t.segmentStart],n=e.toLowerCase(),{data:o}=t;for(;o.length>=Z[n]&&(n==="m"&&o.length>2?(t.segments.push([e].concat(o.splice(0,2))),n="l",e=e==="m"?"l":"L"):t.segments.push([e].concat(o.splice(0,Z[n]))),!!Z[n]););},Te=Ut;var Ft="SVGPathCommander Error",R=Ft;var Kt=t=>{let{index:e,pathValue:n}=t,o=n.charCodeAt(e);if(o===48){t.param=0,t.index+=1;return}if(o===49){t.param=1,t.index+=1;return}t.err=`${R}: invalid Arc flag "${n[e]}", expecting 0 or 1 at index ${e}`},qe=Kt;var Jt=t=>t>=48&&t<=57,$=Jt;var Wt="Invalid path value",H=Wt;var Xt=t=>{let{max:e,pathValue:n,index:o}=t,r=o,s=!1,a=!1,m=!1,i=!1,u;if(r>=e){t.err=`${R}: ${H} at index ${r}, "pathValue" is missing param`;return}if(u=n.charCodeAt(r),(u===43||u===45)&&(r+=1,u=n.charCodeAt(r)),!$(u)&&u!==46){t.err=`${R}: ${H} at index ${r}, "${n[r]}" is not a number`;return}if(u!==46){if(s=u===48,r+=1,u=n.charCodeAt(r),s&&r<e&&u&&$(u)){t.err=`${R}: ${H} at index ${o}, "${n[o]}" illegal number`;return}for(;r<e&&$(n.charCodeAt(r));)r+=1,a=!0;u=n.charCodeAt(r)}if(u===46){for(i=!0,r+=1;$(n.charCodeAt(r));)r+=1,m=!0;u=n.charCodeAt(r)}if(u===101||u===69){if(i&&!a&&!m){t.err=`${R}: ${H} at index ${r}, "${n[r]}" invalid float exponent`;return}if(r+=1,u=n.charCodeAt(r),(u===43||u===45)&&(r+=1),r<e&&$(n.charCodeAt(r)))for(;r<e&&$(n.charCodeAt(r));)r+=1;else{t.err=`${R}: ${H} at index ${r}, "${n[r]}" invalid integer exponent`;return}}t.index=r,t.param=+t.pathValue.slice(o,r)},De=Xt;var Yt=t=>[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279,10,13,8232,8233,32,9,11,12,160].includes(t),Qe=Yt;var er=t=>{let{pathValue:e,max:n}=t;for(;t.index<n&&Qe(e.charCodeAt(t.index));)t.index+=1},G=er;var tr=t=>{switch(t|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}},Ee=tr;var rr=t=>$(t)||t===43||t===45||t===46,Oe=rr;var nr=t=>(t|32)===97,Ie=nr;var or=t=>{switch(t|32){case 109:case 77:return!0;default:return!1}},Be=or;var ar=t=>{let{max:e,pathValue:n,index:o,segments:r}=t,s=n.charCodeAt(o),a=Z[n[o].toLowerCase()];if(t.segmentStart=o,!Ee(s)){t.err=`${R}: ${H} "${n[o]}" is not a path command at index ${o}`;return}let m=r[r.length-1];if(!Be(s)&&m?.[0]?.toLocaleLowerCase()==="z"){t.err=`${R}: ${H} "${n[o]}" is not a MoveTo path command at index ${o}`;return}if(t.index+=1,G(t),t.data=[],!a){Te(t);return}for(;;){for(let i=a;i>0;i-=1){if(Ie(s)&&(i===3||i===4)?qe(t):De(t),t.err.length)return;t.data.push(t.param),G(t),t.index<e&&n.charCodeAt(t.index)===44&&(t.index+=1,G(t))}if(t.index>=t.max||!Oe(n.charCodeAt(t.index)))break}Te(t)},ye=ar;var K=class{constructor(e){this.segments=[],this.pathValue=e,this.max=e.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}};var sr=t=>{if(typeof t!="string")return t.slice(0);let e=new K(t);for(G(e);e.index<e.max&&!e.err.length;)ye(e);if(!e.err.length)e.segments.length&&(e.segments[0][0]="M");else throw TypeError(e.err);return e.segments},L=sr;var ir=(t,e,n,o)=>{let[r]=t,s=r.toUpperCase(),a=s===r;if(e===0||a)return t;if(s==="A")return[s,t[1],t[2],t[3],t[4],t[5],t[6]+n,t[7]+o];if(s==="V")return[s,t[1]+o];if(s==="H")return[s,t[1]+n];if(s==="L")return[s,t[1]+n,t[2]+o];{let m=[],i=t.length;for(let u=1;u<i;u+=1)m.push(t[u]+(u%2?n:o));return[s].concat(m)}},_=ir;var mr=(t,e)=>{let n=t.length,o,r="M",s="M",a=!1,m=0,i=0,u=0,c=0,l=0;for(let f=0;f<n;f+=1){o=t[f],[r]=o,l=o.length,s=r.toUpperCase(),a=s!==r;let g=e(o,f,m,i);if(g===!1)break;s==="Z"?(m=u,i=c):s==="H"?m=o[1]+(a?m:0):s==="V"?i=o[1]+(a?i:0):(m=o[l-2]+(a?m:0),i=o[l-1]+(a?i:0),s==="M"&&(u=m,c=i)),g&&(t[f]=g,g[0]==="C"&&(n=t.length))}return t},T=mr;var ur=t=>{let e=L(t);return T(e,_)},ue=ur;var cr=(t,e,n,o)=>{let[r]=t,s=r.toLowerCase(),a=r===s;if(e===0||a)return t;if(s==="a")return[s,t[1],t[2],t[3],t[4],t[5],t[6]-n,t[7]-o];if(s==="v")return[s,t[1]-o];if(s==="h")return[s,t[1]-n];if(s==="l")return[s,t[1]-n,t[2]-o];{let m=[],i=t.length;for(let u=1;u<i;u+=1)m.push(t[u]-(u%2?n:o));return[s].concat(m)}},Pe=cr;var lr=t=>{let e=L(t);return T(e,Pe)},st=lr;var vt=(t,e,n,o,r,s,a,m,i,u)=>{let c=t,l=e,f=n,g=o,p=m,h=i,P=Math.PI*120/180,x=Math.PI/180*(+r||0),A=[],y,b,d,C,V;if(u)[b,d,C,V]=u;else{y=me(c,l,-x),c=y.x,l=y.y,y=me(p,h,-x),p=y.x,h=y.y;let N=(c-p)/2,Q=(l-h)/2,w=N*N/(f*f)+Q*Q/(g*g);w>1&&(w=Math.sqrt(w),f*=w,g*=w);let We=f*f,Xe=g*g,pt=(s===a?-1:1)*Math.sqrt(Math.abs((We*Xe-We*Q*Q-Xe*N*N)/(We*Q*Q+Xe*N*N)));C=pt*f*Q/g+(c+p)/2,V=pt*-g*N/f+(l+h)/2,b=Math.asin(((l-V)/g*10**9>>0)/10**9),d=Math.asin(((h-V)/g*10**9>>0)/10**9),b=c<C?Math.PI-b:b,d=p<C?Math.PI-d:d,b<0&&(b=Math.PI*2+b),d<0&&(d=Math.PI*2+d),a&&b>d&&(b-=Math.PI*2),!a&&d>b&&(d-=Math.PI*2)}let k=d-b;if(Math.abs(k)>P){let N=d,Q=p,w=h;d=b+P*(a&&d>b?1:-1),p=C+f*Math.cos(d),h=V+g*Math.sin(d),A=vt(p,h,f,g,r,0,a,Q,w,[d,N,C,V])}k=d-b;let z=Math.cos(b),v=Math.sin(b),B=Math.cos(d),re=Math.sin(d),q=Math.tan(k/4),S=4/3*f*q,D=4/3*g*q,j=[c,l],O=[c+S*v,l-D*z],F=[p+S*re,h-D*B],ge=[p,h];if(O[0]=2*j[0]-O[0],O[1]=2*j[1]-O[1],u)return[O[0],O[1],F[0],F[1],ge[0],ge[1]].concat(A);A=[O[0],O[1],F[0],F[1],ge[0],ge[1]].concat(A);let ne=[];for(let N=0,Q=A.length;N<Q;N+=1)ne[N]=N%2?me(A[N-1],A[N],x).y:me(A[N],A[N+1],x).x;return ne},de=vt;var pr=(t,e,n,o,r,s)=>{let a=.3333333333333333,m=2/3;return[a*t+m*n,a*e+m*o,a*r+m*n,a*s+m*o,r,s]},je=pr;var fr=(t,e,n,o)=>{let r=E([t,e],[n,o],.3333333333333333),s=E([t,e],[n,o],2/3);return[r[0],r[1],s[0],s[1],n,o]},Me=fr;var gr=(t,e)=>{let[n]=t,o=t.slice(1).map(Number),[r,s]=o,{x1:a,y1:m,x:i,y:u}=e;return"TQ".includes(n)||(e.qx=null,e.qy=null),n==="M"?(e.x=r,e.y=s,t):n==="A"?["C"].concat(de(a,m,o[0],o[1],o[2],o[3],o[4],o[5],o[6])):n==="Q"?(e.qx=r,e.qy=s,["C"].concat(je(a,m,o[0],o[1],o[2],o[3]))):n==="L"?["C"].concat(Me(a,m,r,s)):n==="Z"?["C"].concat(Me(a,m,i,u)):t},$e=gr;var hr=(t,e)=>{let[n]=t,o=n.toUpperCase(),r=n!==o,{x1:s,y1:a,x2:m,y2:i,x:u,y:c}=e,l=t.slice(1),f=l.map((g,p)=>g+(r?p%2?c:u:0));"TQ".includes(o)||(e.qx=null,e.qy=null);if(o==="A")return f=l.slice(0,-2).concat(l[5]+(r?u:0),l[6]+(r?c:0)),["A"].concat(f);if(o==="H")return["L",t[1]+(r?u:0),a];if(o==="V")return["L",s,t[1]+(r?c:0)];if(o==="L")return["L",t[1]+(r?u:0),t[2]+(r?c:0)];if(o==="M")return["M",t[1]+(r?u:0),t[2]+(r?c:0)];if(o==="C")return["C"].concat(f);if(o==="S"){let g=s*2-m,p=a*2-i;return e.x1=g,e.y1=p,["C",g,p].concat(f)}else if(o==="T"){let g=s*2-(e.qx?e.qx:0),p=a*2-(e.qy?e.qy:0);return e.qx=g,e.qy=p,["Q",g,p].concat(f)}else if(o==="Q"){let[g,p]=f;return e.qx=g,e.qy=p,["Q"].concat(f)}else if(o==="Z")return["Z"];return t},X=hr;var br={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},U=br;var yr=t=>{let e={...U},n=L(t);return T(n,(o,r,s,a)=>{e.x=s,e.y=a;let m=X(o,e),i=$e(m,e);i[0]==="C"&&i.length>7&&(n.splice(r+1,0,["C"].concat(i.slice(7))),i=i.slice(0,7));let c=i.length;return e.x1=+i[c-2],e.y1=+i[c-1],e.x2=+i[c-4]||e.x1,e.y2=+i[c-3]||e.y1,i})},ce=yr;var Pr=(t,e)=>{let n=t.length,{round:o}=I,r=t[0],s="";o=e==="off"||typeof e=="number"&&e>=0?e:typeof o=="number"&&o>=0?o:"off";for(let a=0;a<n;a+=1){r=t[a];let[m]=r,i=r.slice(1);if(s+=m,o==="off")s+=i.join(" ");else{let u=0,c=i.length;for(;u<c;)s+=M(i[u],o),u!==c-1&&(s+=" "),u+=1}}return s},Le=Pr;var dr=t=>{if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0,cx:0,cy:0,cz:0};let e=L(t),n="M",o=0,r=0,{max:s,min:a}=Math,m=1/0,i=1/0,u=-1/0,c=-1/0,l=0,f=0,g=0,p=0,h=0,P=0,x=0,A=0,y=0,b=0;T(e,(V,k,z,v)=>{[n]=V;let B=n.toUpperCase(),q=B!==n?_(V,k,z,v):V.slice(0),S=B==="V"?["L",z,q[1]]:B==="H"?["L",q[1],v]:q;[n]=S,"TQ".includes(B)||(y=0,b=0);if(n==="M")[,o,r]=S,l=o,f=r,g=o,p=r;else if(n==="L")[l,f,g,p]=ze(z,v,S[1],S[2]);else if(n==="A")[l,f,g,p]=rt(z,v,S[1],S[2],S[3],S[4],S[5],S[6],S[7]);else if(n==="S"){let D=h*2-x,j=P*2-A;[l,f,g,p]=Re(z,v,D,j,S[1],S[2],S[3],S[4])}else n==="C"?[l,f,g,p]=Re(z,v,S[1],S[2],S[3],S[4],S[5],S[6]):n==="T"?(y=h*2-y,b=P*2-b,[l,f,g,p]=ke(z,v,y,b,S[1],S[2])):n==="Q"?(y=S[1],b=S[2],[l,f,g,p]=ke(z,v,S[1],S[2],S[3],S[4])):n==="Z"&&([l,f,g,p]=ze(z,v,o,r));m=a(l,m),i=a(f,i),u=s(g,u),c=s(p,c),[h,P]=n==="Z"?[o,r]:S.slice(-2),[x,A]=n==="C"?[S[3],S[4]]:n==="S"?[S[1],S[2]]:[h,P]});let d=u-m,C=c-i;return{width:d,height:C,x:m,y:i,x2:u,y2:c,cx:m+d/2,cy:i+C/2,cz:Math.max(d,C)+Math.min(d,C)/2}},it=dr;var Sr=t=>{let e=L(t),n=0,o=0,r=0,s=0,a=0,m=0,i="M",u=0,c=0,l=0;return T(e,(f,g,p,h)=>{[i]=f;let P=i.toUpperCase(),A=P!==i?_(f,g,p,h):f.slice(0),y=P==="V"?["L",p,A[1]]:P==="H"?["L",A[1],h]:A;[i]=y,"TQ".includes(P)||(a=0,m=0);if(i==="M")[,u,c]=y;else if(i==="L")l+=ae(p,h,y[1],y[2]);else if(i==="A")l+=Ae(p,h,y[1],y[2],y[3],y[4],y[5],y[6],y[7]);else if(i==="S"){let b=n*2-r,d=o*2-s;l+=he(p,h,b,d,y[1],y[2],y[3],y[4])}else i==="C"?l+=he(p,h,y[1],y[2],y[3],y[4],y[5],y[6]):i==="T"?(a=n*2-a,m=o*2-m,l+=be(p,h,a,m,y[1],y[2])):i==="Q"?(a=y[1],m=y[2],l+=be(p,h,y[1],y[2],y[3],y[4])):i==="Z"&&(l+=ae(p,h,u,c));[n,o]=i==="Z"?[u,c]:y.slice(-2),[r,s]=i==="C"?[y[3],y[4]]:i==="S"?[y[1],y[2]]:[n,o]}),l},J=Sr;var le=1e-5;var xr=t=>{let e=L(t),n={...U};return T(e,(o,r,s,a)=>{n.x=s,n.y=a;let m=X(o,n),i=m.length;return n.x1=+m[i-2],n.y1=+m[i-1],n.x2=+m[i-4]||n.x1,n.y2=+m[i-3]||n.y1,m})},W=xr;var Ar=(t,e)=>{let n=W(t),o=!1,r=[],s="M",a=0,m=0,[i,u]=n[0].slice(1),c=typeof e=="number",l={x:i,y:u},f=0,g=l,p=0;return!c||e<le?l:(T(n,(h,P,x,A)=>{[s]=h,o=s==="M",r=o?r:[x,A].concat(h.slice(1));if(o?([,i,u]=h,l={x:i,y:u},f=0):s==="L"?(l=xe(r[0],r[1],r[2],r[3],e-p),f=ae(r[0],r[1],r[2],r[3])):s==="A"?(l=tt(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],e-p),f=Ae(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8])):s==="C"?(l=ot(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],e-p),f=he(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7])):s==="Q"?(l=at(r[0],r[1],r[2],r[3],r[4],r[5],e-p),f=be(r[0],r[1],r[2],r[3],r[4],r[5])):s==="Z"&&(r=[x,A,i,u],l={x:i,y:u},f=ae(r[0],r[1],r[2],r[3])),[a,m]=r.slice(-2),p<e)g=l;else return!1;p+=f}),e>p-le?{x:a,y:m}:g)},pe=Ar;var Cr=(t,e)=>{let n=L(t),o=n.slice(0),r=J(o),s=o.length-1,a=0,m=0,i=n[0];if(s<=0||!e||!Number.isFinite(e))return{segment:i,index:0,length:m,lengthAtSegment:a};if(e>=r)return o=n.slice(0,-1),a=J(o),m=r-a,i=n[s],{segment:i,index:s,length:m,lengthAtSegment:a};let u=[];for(;s>0;)i=o[s],o=o.slice(0,-1),a=J(o),m=r-a,r=a,u.push({segment:i,index:s,length:m,lengthAtSegment:a}),s-=1;return u.find(({lengthAtSegment:c})=>c<=e)},Se=Cr;var Tr=(t,e)=>{let n=L(t),o=W(n),r=J(o),s=b=>{let d=b.x-e.x,C=b.y-e.y;return d*d+C*C},a=8,m,i={x:0,y:0},u=0,c=0,l=1/0;for(let b=0;b<=r;b+=a)m=pe(o,b),u=s(m),u<l&&(i=m,c=b,l=u);a/=2;let f,g,p=0,h=0,P=0,x=0;for(;a>1e-6&&(p=c-a,f=pe(o,p),P=s(f),h=c+a,g=pe(o,h),x=s(g),p>=0&&P<l?(i=f,c=p,l=P):h<=r&&x<l?(i=g,c=h,l=x):a/=2,!(a<1e-5)););let A=Se(n,c),y=Math.sqrt(l);return{closest:i,distance:y,segment:A}},Y=Tr;var Mr=(t,e)=>Y(t,e).closest,Nt=Mr;var Lr=(t,e,n,o,r,s,a,m)=>3*((m-e)*(n+r)-(a-t)*(o+s)+o*(t-r)-n*(e-s)+m*(r+t/3)-a*(s+e/3))/20,vr=t=>{let e=0,n=0,o=0;return ce(t).map(r=>{switch(r[0]){case"M":return[,e,n]=r,0;default:return o=Lr(e,n,r[1],r[2],r[3],r[4],r[5],r[6]),[e,n]=r.slice(-2),o}}).reduce((r,s)=>r+s,0)},He=vr;var Nr=t=>He(ce(t))>=0,zt=Nr;var zr=(t,e)=>Se(t,e).segment,wt=zr;var wr=(t,e)=>Y(t,e).segment,Vt=wr;var Vr=t=>Array.isArray(t)&&t.every(e=>{let n=e[0].toLowerCase();return Z[n]===e.length-1&&"achlmqstvz".includes(n)&&e.slice(1).every(Number.isFinite)})&&t.length>0,ee=Vr;var Rr=t=>ee(t)&&t.every(([e])=>e===e.toUpperCase()),Ze=Rr;var kr=t=>Ze(t)&&t.every(([e])=>"ACLMQZ".includes(e)),Ge=kr;var qr=t=>Ge(t)&&t.every(([e])=>"MC".includes(e)),Rt=qr;var Dr=(t,e)=>{let{distance:n}=Y(t,e);return Math.abs(n)<le},kt=Dr;var Qr=t=>ee(t)&&t.slice(1).every(([e])=>e===e.toLowerCase()),qt=Qr;var Er=t=>{if(typeof t!="string"||!t.length)return!1;let e=new K(t);for(G(e);e.index<e.max&&!e.err.length;)ye(e);return!e.err.length&&"mM".includes(e.segments[0][0])},_e=Er;var Or={line:["x1","y1","x2","y2"],circle:["cx","cy","r"],ellipse:["cx","cy","rx","ry"],rect:["width","height","x","y","rx","ry"],polygon:["points"],polyline:["points"],glyph:["d"]},te=Or;var Ir=t=>t!=null&&typeof t=="object"&&t.nodeType===1,Ue=Ir;var Br=t=>{let{x1:e,y1:n,x2:o,y2:r}=t;return[e,n,o,r]=[e,n,o,r].map(s=>+s),[["M",e,n],["L",o,r]]},jr=t=>{let e=[],n=(t.points||"").trim().split(/[\s|,]/).map(r=>+r),o=0;for(;o<n.length;)e.push([o?"L":"M",n[o],n[o+1]]),o+=2;return t.type==="polygon"?[...e,["z"]]:e},$r=t=>{let{cx:e,cy:n,r:o}=t;return[e,n,o]=[e,n,o].map(r=>+r),[["M",e-o,n],["a",o,o,0,1,0,2*o,0],["a",o,o,0,1,0,-2*o,0]]},Hr=t=>{let{cx:e,cy:n}=t,o=t.rx||0,r=t.ry||o;return[e,n,o,r]=[e,n,o,r].map(s=>+s),[["M",e-o,n],["a",o,r,0,1,0,2*o,0],["a",o,r,0,1,0,-2*o,0]]},Zr=t=>{let e=+t.x||0,n=+t.y||0,o=+t.width,r=+t.height,s=+(t.rx||0),a=+(t.ry||s);if(s||a){s*2>o&&(s-=(s*2-o)/2);return a*2>r&&(a-=(a*2-r)/2),[["M",e+s,n],["h",o-s*2],["s",s,0,s,a],["v",r-a*2],["s",0,a,-s,a],["h",-o+s*2],["s",-s,0,-s,-a],["v",-r+a*2],["s",0,-a,s,-a]]}return[["M",e,n],["h",o],["v",r],["H",e],["Z"]]},Gr=t=>{let e=Object.keys(te),n=Ue(t),o=n?t.tagName:null;if(o&&[...e,"path"].every(i=>o!==i))throw TypeError(`${R}: "${o}" is not SVGElement`);let r=n?o:t.type,s=te[r],a={type:r};n?s.forEach(i=>{a[i]=t.getAttribute(i)}):Object.assign(a,t);let m=[];return r==="circle"?m=$r(a):r==="ellipse"?m=Hr(a):["polyline","polygon"].includes(r)?m=jr(a):r==="rect"?m=Zr(a):r==="line"?m=Br(a):["glyph","path"].includes(r)&&(m=L(n?t.getAttribute("d")||"":t.d||"")),ee(m)&&m.length?m:!1},Fe=Gr;var _r=(t,e,n)=>{let o=n||document,r=Object.keys(te),s=Ue(t),a=s?t.tagName:null;if(a==="path")throw TypeError(`${R}: "${a}" is already SVGPathElement`);if(a&&r.every(p=>a!==p))throw TypeError(`${R}: "${a}" is not SVGElement`);let m=o.createElementNS("http://www.w3.org/2000/svg","path"),i=s?a:t.type,u=te[i],c={type:i},l=I.round,f=Fe(t),g=f&&f.length?Le(f,l):"";return s?(u.forEach(p=>{c[p]=t.getAttribute(p)}),Object.values(t.attributes).forEach(({name:p,value:h})=>{u.includes(p)||m.setAttribute(p,h)})):(Object.assign(c,t),Object.keys(c).forEach(p=>{!u.includes(p)&&p!=="type"&&m.setAttribute(p.replace(/[A-Z]/g,h=>`-${h.toLowerCase()}`),c[p])})),_e(g)?(m.setAttribute("d",g),e&&s&&(t.before(m,t),t.remove()),m):!1},Dt=_r;var Ur=(t,e,n,o)=>{let[r]=t,{round:s}=I,a=typeof s=="number"?s:4,m=e.slice(1),{x1:i,y1:u,x2:c,y2:l,x:f,y:g}=n,[p,h]=m.slice(-2),P=t;if("TQ".includes(r)||(n.qx=null,n.qy=null),r==="L"){if(M(f,a)===M(p,a))return["V",h];if(M(g,a)===M(h,a))return["H",p]}else if(r==="C"){let[x,A]=m;if(n.x1=x,n.y1=A,"CS".includes(o)&&(M(x,a)===M(i*2-c,a)&&M(A,a)===M(u*2-l,a)||M(i,a)===M(c*2-f,a)&&M(u,a)===M(l*2-g,a)))return["S",m[2],m[3],m[4],m[5]]}else if(r==="Q"){let[x,A]=m;if(n.qx=x,n.qy=A,"QT".includes(o)&&M(x,a)===M(i*2-c,a)&&M(A,a)===M(u*2-l,a))return["T",m[2],m[3]]}return P},Ke=Ur;var Fr=(t,e)=>{let n=t.slice(1).map(o=>M(o,e));return[t[0]].concat(n)},fe=Fr;var Kr=(t,e)=>{let n=ue(t),o=typeof e=="number"&&e>=0?e:2,r={...U},s=[],a="M",m="Z";return T(n,(i,u,c,l)=>{r.x=c,r.y=l;let f=X(i,r),g=i;if([a]=i,s[u]=a,u){m=s[u-1];let h=Ke(i,f,r,m),P=fe(h,o),x=P.join(""),A=Pe(h,u,c,l),y=fe(A,o),b=y.join("");g=x.length<b.length?P:y}let p=f.length;return r.x1=+f[p-2],r.y1=+f[p-1],r.x2=+f[p-4]||r.x1,r.y2=+f[p-3]||r.y1,g})},mt=Kr;var Jr=t=>{let e=ue(t),n=W(e),o=e.length,r=e[o-1][0]==="Z",s=T(e,(a,m)=>{let i=n[m],u=m&&e[m-1],c=u&&u[0],l=e[m+1],f=l&&l[0],[g]=a,[p,h]=n[m?m-1:o-1].slice(-2),P=a;switch(g){case"M":P=r?["Z"]:[g,p,h];break;case"A":P=[g,a[1],a[2],a[3],a[4],a[5]===1?0:1,p,h];break;case"C":l&&f==="S"?P=["S",a[1],a[2],p,h]:P=[g,a[3],a[4],a[1],a[2],p,h];break;case"S":c&&"CS".includes(c)&&(!l||f!=="S")?P=["C",i[3],i[4],i[1],i[2],p,h]:P=[g,i[1],i[2],p,h];break;case"Q":l&&f==="T"?P=["T",p,h]:P=[g,a[1],a[2],p,h];break;case"T":c&&"QT".includes(c)&&(!l||f!=="T")?P=["Q",i[1],i[2],p,h]:P=[g,p,h];break;case"Z":P=["M",p,h];break;case"H":P=[g,p];break;case"V":P=[g,h];break;default:P=[g].concat(a.slice(1,-2),p,h)}return P});return r?s.reverse():[s[0]].concat(s.slice(1).reverse())},ve=Jr;var Wr=t=>{let e=[],n,o=-1,r=0,s=0,a=0,m=0,i={...U};return t.forEach(u=>{let[c]=u,l=c.toUpperCase(),f=c.toLowerCase(),g=c===f,p=u.slice(1);l==="M"?(o+=1,[r,s]=p,r+=g?i.x:0,s+=g?i.y:0,a=r,m=s,n=[g?[l,a,m]:u]):(l==="Z"?(r=a,s=m):l==="H"?([,r]=u,r+=g?i.x:0):l==="V"?([,s]=u,s+=g?i.y:0):([r,s]=u.slice(-2),r+=g?i.x:0,s+=g?i.y:0),n.push(u)),i.x=r,i.y=s,e[o]=n}),e},ut=Wr;import Xr from"@thednp/dommatrix";var Yr=t=>{let e=new Xr,{origin:n}=t,[o,r]=n,{translate:s}=t,{rotate:a}=t,{skew:m}=t,{scale:i}=t;return Array.isArray(s)&&s.length>=2&&s.every(u=>!Number.isNaN(+u))&&s.some(u=>u!==0)?e=e.translate(...s):typeof s=="number"&&!Number.isNaN(s)&&(e=e.translate(s)),(a||m||i)&&(e=e.translate(o,r),Array.isArray(a)&&a.length>=2&&a.every(u=>!Number.isNaN(+u))&&a.some(u=>u!==0)?e=e.rotate(...a):typeof a=="number"&&!Number.isNaN(a)&&(e=e.rotate(a)),Array.isArray(m)&&m.length===2&&m.every(u=>!Number.isNaN(+u))&&m.some(u=>u!==0)?(e=m[0]?e.skewX(m[0]):e,e=m[1]?e.skewY(m[1]):e):typeof m=="number"&&!Number.isNaN(m)&&(e=e.skewX(m)),Array.isArray(i)&&i.length>=2&&i.every(u=>!Number.isNaN(+u))&&i.some(u=>u!==1)?e=e.scale(...i):typeof i=="number"&&!Number.isNaN(i)&&(e=e.scale(i)),e=e.translate(-o,-r)),e},Je=Yr;import en from"@thednp/dommatrix";var tn=(t,e)=>{let n=en.Translate(e[0],e[1],e[2]);return[,,,n.m44]=e,n=t.multiply(n),[n.m41,n.m42,n.m43,n.m44]},rn=(t,e,n)=>{let[o,r,s]=n,[a,m,i]=tn(t,[e[0],e[1],0,1]),u=a-o,c=m-r,l=i-s;return[u*(Math.abs(s)/Math.abs(l)||1)+o,c*(Math.abs(s)/Math.abs(l)||1)+r]},Ne=rn;var nn=(t,e)=>{let n=0,o=0,r=0,s=0,a=0,m=0,i="M",u=L(t),c=e&&Object.keys(e);if(!e||c&&!c.length)return u.slice(0);e.origin||Object.assign(e,{origin:I.origin});let l=e.origin,f=Je(e);return f.isIdentity?u.slice(0):T(u,(g,p,h,P)=>{[i]=g;let x=i.toUpperCase(),y=x!==i?_(g,p,h,P):g.slice(0),b=x==="A"?["C"].concat(de(h,P,y[1],y[2],y[3],y[4],y[5],y[6],y[7])):x==="V"?["L",h,y[1]]:x==="H"?["L",y[1],P]:y;i=b[0];let d=i==="C"&&b.length>7,C=d?b.slice(0,7):b.slice(0);if(d&&(u.splice(p+1,0,["C"].concat(b.slice(7))),b=C),i==="L"){[r,s]=Ne(f,[b[1],b[2]],l);n!==r&&o!==s?b=["L",r,s]:o===s?b=["H",r]:n===r&&(b=["V",s])}else for(a=1,m=b.length;a<m;a+=2)[r,s]=Ne(f,[+b[a],+b[a+1]],l),b[a]=r,b[a+1]=s;return n=r,o=s,b})},ct=nn;var on=t=>{let e=t.slice(1).map((n,o,r)=>o?r[o-1].slice(-2).concat(n.slice(1)):t[0].slice(1).concat(n.slice(1))).map(n=>n.map((o,r)=>n[n.length-r-2*(1-r%2)])).reverse();return[["M"].concat(e[0].slice(0,2))].concat(e.map(n=>["C"].concat(n.slice(2))))},Qt=on;var an=(t,e)=>{let{round:n}=I;n=e==="off"||typeof e=="number"&&e>=0?e:typeof n=="number"&&n>=0?n:"off";return n==="off"?t.slice(0):T(t,o=>fe(o,n))},Et=an;var sn=(t,e=.5)=>{let n=e,o=t.slice(0,2),r=t.slice(2,4),s=t.slice(4,6),a=t.slice(6,8),m=E(o,r,n),i=E(r,s,n),u=E(s,a,n),c=E(m,i,n),l=E(i,u,n),f=E(c,l,n);return[["C",m[0],m[1],c[0],c[1],f[0],f[1]],["C",l[0],l[1],u[0],u[1],a[0],a[1]]]},Ot=sn;var lt=class{constructor(e,n){let o=n||{},r=typeof e>"u";if(r||!e.length)throw TypeError(`${R}: "pathValue" is ${r?"undefined":"empty"}`);this.segments=L(e);let{round:s,origin:a}=o,m;Number.isInteger(s)||s==="off"?m=s:m=I.round;let i=I.origin;if(Array.isArray(a)&&a.length>=2){let[u,c,l]=a.map(Number);i=[Number.isNaN(u)?0:u,Number.isNaN(c)?0:c,Number.isNaN(l)?0:l]}return this.round=m,this.origin=i,this}get bbox(){return it(this.segments)}get length(){return J(this.segments)}getBBox(){return this.bbox}getTotalLength(){return this.length}getPointAtLength(e){return pe(this.segments,e)}toAbsolute(){let{segments:e}=this;return this.segments=ue(e),this}toRelative(){let{segments:e}=this;return this.segments=st(e),this}toCurve(){let{segments:e}=this;return this.segments=ce(e),this}reverse(e){let{segments:n}=this,o=ut(n),r=o.length>1?o:!1,s=r?r.map((m,i)=>e?i?ve(m):m.slice(0):ve(m)):n.slice(0),a=[];return r?a=s.flat(1):a=e?n:ve(n),this.segments=a.slice(0),this}normalize(){let{segments:e}=this;return this.segments=W(e),this}optimize(){let{segments:e}=this,n=this.round==="off"?2:this.round;return this.segments=mt(e,n),this}transform(e){if(!e||typeof e!="object"||typeof e=="object"&&!["translate","rotate","skew","scale"].some(i=>i in e))return this;let{segments:n,origin:[o,r,s]}=this,a={};for(let[i,u]of Object.entries(e)){i==="skew"&&Array.isArray(u)||(i==="rotate"||i==="translate"||i==="origin"||i==="scale")&&Array.isArray(u)?a[i]=u.map(Number):i!=="origin"&&typeof Number(u)=="number"&&(a[i]=Number(u))}let{origin:m}=a;if(Array.isArray(m)&&m.length>=2){let[i,u,c]=m.map(Number);a.origin=[Number.isNaN(i)?o:i,Number.isNaN(u)?r:u,c||s]}else a.origin=[o,r,s];return this.segments=ct(n,a),this}flipX(){let{cx:e,cy:n}=this.bbox;return this.transform({rotate:[0,180,0],origin:[e,n,0]}),this}flipY(){let{cx:e,cy:n}=this.bbox;return this.transform({rotate:[180,0,0],origin:[e,n,0]}),this}toString(){return Le(this.segments,this.round)}dispose(){Object.keys(this).forEach(e=>delete this[e])}static get CSSMatrix(){return mn}static get arcTools(){return gt}static get bezierTools(){return xt}static get cubicTools(){return Ct}static get lineTools(){return ft}static get polygonTools(){return Lt}static get quadTools(){return Mt}static get pathToAbsolute(){return ue}static get pathToRelative(){return st}static get pathToCurve(){return ce}static get pathToString(){return Le}static get distanceSquareRoot(){return oe}static get midPoint(){return E}static get rotateVector(){return me}static get roundTo(){return M}static get parsePathString(){return L}static get finalizeSegment(){return Te}static get invalidPathValue(){return H}static get isArcCommand(){return Ie}static get isDigit(){return $}static get isDigitStart(){return Oe}static get isMoveCommand(){return Be}static get isPathCommand(){return Ee}static get isSpace(){return Qe}static get paramsCount(){return Z}static get paramsParser(){return U}static get pathParser(){return K}static get scanFlag(){return qe}static get scanParam(){return De}static get scanSegment(){return ye}static get skipSpaces(){return G}static get distanceEpsilon(){return le}static get getClosestPoint(){return Nt}static get getDrawDirection(){return zt}static get getPathArea(){return He}static get getPathBBox(){return it}static get getPointAtLength(){return pe}static get getPropertiesAtLength(){return Se}static get getPropertiesAtPoint(){return Y}static get getSegmentAtLength(){return wt}static get getSegmentOfPoint(){return Vt}static get getTotalLength(){return J}static get isAbsoluteArray(){return Ze}static get isCurveArray(){return Rt}static get isNormalizedArray(){return Ge}static get isPathArray(){return ee}static get isPointInStroke(){return kt}static get isRelativeArray(){return qt}static get isValidPath(){return _e}static get shapeParams(){return te}static get shapeToPath(){return Dt}static get shapeToPathArray(){return Fe}static get absolutizeSegment(){return _}static get arcToCubic(){return de}static get getSVGMatrix(){return Je}static get iterate(){return T}static get lineToCubic(){return Me}static get normalizePath(){return W}static get normalizeSegment(){return X}static get optimizePath(){return mt}static get projection2d(){return Ne}static get quadToCubic(){return je}static get relativizeSegment(){return Pe}static get reverseCurve(){return Qt}static get reversePath(){return ve}static get roundPath(){return Et}static get roundSegment(){return fe}static get segmentToCubic(){return $e}static get shortenSegment(){return Ke}static get splitCubic(){return Ot}static get splitPath(){return ut}static get transformPath(){return ct}},Sm=lt;export{Sm as default};
//# sourceMappingURL=svg-path-commander.mjs.map