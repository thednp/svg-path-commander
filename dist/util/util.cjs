"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});var zt=Object.defineProperty,qt=(t,e,r)=>e in t?zt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,I=(t,e,r)=>qt(t,typeof e!="symbol"?e+"":e,r);const $t={a:1,b:0,c:0,d:1,e:0,f:0,m11:1,m12:0,m13:0,m14:0,m21:0,m22:1,m23:0,m24:0,m31:0,m32:0,m33:1,m34:0,m41:0,m42:0,m43:0,m44:1,is2D:!0,isIdentity:!0},Be=t=>(t instanceof Float64Array||t instanceof Float32Array||Array.isArray(t)&&t.every(e=>typeof e=="number"))&&[6,16].some(e=>t.length===e),He=t=>t instanceof DOMMatrix||t instanceof S||typeof t=="object"&&Object.keys($t).every(e=>t&&e in t),re=t=>{const e=new S,r=Array.from(t);if(!Be(r))throw TypeError(`CSSMatrix: "${r.join(",")}" must be an array with 6/16 numbers.`);if(r.length===16){const[o,n,s,i,a,c,l,u,h,f,y,m,d,p,b,M]=r;e.m11=o,e.a=o,e.m21=a,e.c=a,e.m31=h,e.m41=d,e.e=d,e.m12=n,e.b=n,e.m22=c,e.d=c,e.m32=f,e.m42=p,e.f=p,e.m13=s,e.m23=l,e.m33=y,e.m43=b,e.m14=i,e.m24=u,e.m34=m,e.m44=M}else if(r.length===6){const[o,n,s,i,a,c]=r;e.m11=o,e.a=o,e.m12=n,e.b=n,e.m21=s,e.c=s,e.m22=i,e.d=i,e.m41=a,e.e=a,e.m42=c,e.f=c}return e},Fe=t=>{if(He(t))return re([t.m11,t.m12,t.m13,t.m14,t.m21,t.m22,t.m23,t.m24,t.m31,t.m32,t.m33,t.m34,t.m41,t.m42,t.m43,t.m44]);throw TypeError(`CSSMatrix: "${JSON.stringify(t)}" is not a DOMMatrix / CSSMatrix / JSON compatible object.`)},Ue=t=>{if(typeof t!="string")throw TypeError(`CSSMatrix: "${JSON.stringify(t)}" is not a string.`);const e=String(t).replace(/\s/g,"");let r=new S;const o=`CSSMatrix: invalid transform string "${t}"`;return e.split(")").filter(n=>n).forEach(n=>{const[s,i]=n.split("(");if(!i)throw TypeError(o);const a=i.split(",").map(m=>m.includes("rad")?parseFloat(m)*(180/Math.PI):parseFloat(m)),[c,l,u,h]=a,f=[c,l,u],y=[c,l,u,h];if(s==="perspective"&&c&&[l,u].every(m=>m===void 0))r.m34=-1/c;else if(s.includes("matrix")&&[6,16].includes(a.length)&&a.every(m=>!Number.isNaN(+m))){const m=a.map(d=>Math.abs(d)<1e-6?0:d);r=r.multiply(re(m))}else if(s==="translate3d"&&f.every(m=>!Number.isNaN(+m)))r=r.translate(c,l,u);else if(s==="translate"&&c&&u===void 0)r=r.translate(c,l||0,0);else if(s==="rotate3d"&&y.every(m=>!Number.isNaN(+m))&&h)r=r.rotateAxisAngle(c,l,u,h);else if(s==="rotate"&&c&&[l,u].every(m=>m===void 0))r=r.rotate(0,0,c);else if(s==="scale3d"&&f.every(m=>!Number.isNaN(+m))&&f.some(m=>m!==1))r=r.scale(c,l,u);else if(s==="scale"&&!Number.isNaN(c)&&(c!==1||l!==1)&&u===void 0){const m=Number.isNaN(+l)?c:l;r=r.scale(c,m,1)}else if(s==="skew"&&(c||!Number.isNaN(c)&&l)&&u===void 0)r=r.skew(c,l||0);else if(["translate","rotate","scale","skew"].some(m=>s.includes(m))&&/[XYZ]/.test(s)&&c&&[l,u].every(m=>m===void 0))if(s==="skewX"||s==="skewY")r=r[s](c);else{const m=s.replace(/[XYZ]/,""),d=s.replace(m,""),p=["X","Y","Z"].indexOf(d),b=m==="scale"?1:0,M=[p===0?c:b,p===1?c:b,p===2?c:b];r=r[m](...M)}else throw TypeError(o)}),r},Se=(t,e)=>e?[t.a,t.b,t.c,t.d,t.e,t.f]:[t.m11,t.m12,t.m13,t.m14,t.m21,t.m22,t.m23,t.m24,t.m31,t.m32,t.m33,t.m34,t.m41,t.m42,t.m43,t.m44],Ge=(t,e,r)=>{const o=new S;return o.m41=t,o.e=t,o.m42=e,o.f=e,o.m43=r,o},Je=(t,e,r)=>{const o=new S,n=Math.PI/180,s=t*n,i=e*n,a=r*n,c=Math.cos(s),l=-Math.sin(s),u=Math.cos(i),h=-Math.sin(i),f=Math.cos(a),y=-Math.sin(a),m=u*f,d=-u*y;o.m11=m,o.a=m,o.m12=d,o.b=d,o.m13=h;const p=l*h*f+c*y;o.m21=p,o.c=p;const b=c*f-l*h*y;return o.m22=b,o.d=b,o.m23=-l*u,o.m31=l*y-c*h*f,o.m32=l*f+c*h*y,o.m33=c*u,o},Ke=(t,e,r,o)=>{const n=new S,s=Math.sqrt(t*t+e*e+r*r);if(s===0)return n;const i=t/s,a=e/s,c=r/s,l=o*(Math.PI/360),u=Math.sin(l),h=Math.cos(l),f=u*u,y=i*i,m=a*a,d=c*c,p=1-2*(m+d)*f;n.m11=p,n.a=p;const b=2*(i*a*f+c*u*h);n.m12=b,n.b=b,n.m13=2*(i*c*f-a*u*h);const M=2*(a*i*f-c*u*h);n.m21=M,n.c=M;const g=1-2*(d+y)*f;return n.m22=g,n.d=g,n.m23=2*(a*c*f+i*u*h),n.m31=2*(c*i*f+a*u*h),n.m32=2*(c*a*f-i*u*h),n.m33=1-2*(y+m)*f,n},We=(t,e,r)=>{const o=new S;return o.m11=t,o.a=t,o.m22=e,o.d=e,o.m33=r,o},ye=(t,e)=>{const r=new S;if(t){const o=t*Math.PI/180,n=Math.tan(o);r.m21=n,r.c=n}if(e){const o=e*Math.PI/180,n=Math.tan(o);r.m12=n,r.b=n}return r},Xe=t=>ye(t,0),Ye=t=>ye(0,t),B=(t,e)=>{const r=e.m11*t.m11+e.m12*t.m21+e.m13*t.m31+e.m14*t.m41,o=e.m11*t.m12+e.m12*t.m22+e.m13*t.m32+e.m14*t.m42,n=e.m11*t.m13+e.m12*t.m23+e.m13*t.m33+e.m14*t.m43,s=e.m11*t.m14+e.m12*t.m24+e.m13*t.m34+e.m14*t.m44,i=e.m21*t.m11+e.m22*t.m21+e.m23*t.m31+e.m24*t.m41,a=e.m21*t.m12+e.m22*t.m22+e.m23*t.m32+e.m24*t.m42,c=e.m21*t.m13+e.m22*t.m23+e.m23*t.m33+e.m24*t.m43,l=e.m21*t.m14+e.m22*t.m24+e.m23*t.m34+e.m24*t.m44,u=e.m31*t.m11+e.m32*t.m21+e.m33*t.m31+e.m34*t.m41,h=e.m31*t.m12+e.m32*t.m22+e.m33*t.m32+e.m34*t.m42,f=e.m31*t.m13+e.m32*t.m23+e.m33*t.m33+e.m34*t.m43,y=e.m31*t.m14+e.m32*t.m24+e.m33*t.m34+e.m34*t.m44,m=e.m41*t.m11+e.m42*t.m21+e.m43*t.m31+e.m44*t.m41,d=e.m41*t.m12+e.m42*t.m22+e.m43*t.m32+e.m44*t.m42,p=e.m41*t.m13+e.m42*t.m23+e.m43*t.m33+e.m44*t.m43,b=e.m41*t.m14+e.m42*t.m24+e.m43*t.m34+e.m44*t.m44;return re([r,o,n,s,i,a,c,l,u,h,f,y,m,d,p,b])};class S{constructor(e){return this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this.m11=1,this.m12=0,this.m13=0,this.m14=0,this.m21=0,this.m22=1,this.m23=0,this.m24=0,this.m31=0,this.m32=0,this.m33=1,this.m34=0,this.m41=0,this.m42=0,this.m43=0,this.m44=1,e?this.setMatrixValue(e):this}get isIdentity(){return this.m11===1&&this.m12===0&&this.m13===0&&this.m14===0&&this.m21===0&&this.m22===1&&this.m23===0&&this.m24===0&&this.m31===0&&this.m32===0&&this.m33===1&&this.m34===0&&this.m41===0&&this.m42===0&&this.m43===0&&this.m44===1}get is2D(){return this.m31===0&&this.m32===0&&this.m33===1&&this.m34===0&&this.m43===0&&this.m44===1}setMatrixValue(e){return typeof e=="string"&&e.length&&e!=="none"?Ue(e):Array.isArray(e)||e instanceof Float64Array||e instanceof Float32Array?re(e):typeof e=="object"?Fe(e):this}toFloat32Array(e){return Float32Array.from(Se(this,e))}toFloat64Array(e){return Float64Array.from(Se(this,e))}toString(){const{is2D:e}=this,r=this.toFloat64Array(e).join(", ");return`${e?"matrix":"matrix3d"}(${r})`}toJSON(){const{is2D:e,isIdentity:r}=this;return{...this,is2D:e,isIdentity:r}}multiply(e){return B(this,e)}translate(e,r,o){const n=e;let s=r,i=o;return typeof s>"u"&&(s=0),typeof i>"u"&&(i=0),B(this,Ge(n,s,i))}scale(e,r,o){const n=e;let s=r,i=o;return typeof s>"u"&&(s=e),typeof i>"u"&&(i=1),B(this,We(n,s,i))}rotate(e,r,o){let n=e,s=r||0,i=o||0;return typeof e=="number"&&typeof r>"u"&&typeof o>"u"&&(i=n,n=0,s=0),B(this,Je(n,s,i))}rotateAxisAngle(e,r,o,n){if([e,r,o,n].some(s=>Number.isNaN(+s)))throw new TypeError("CSSMatrix: expecting 4 values");return B(this,Ke(e,r,o,n))}skewX(e){return B(this,Xe(e))}skewY(e){return B(this,Ye(e))}skew(e,r){return B(this,ye(e,r))}transformPoint(e){const r=this.m11*e.x+this.m21*e.y+this.m31*e.z+this.m41*e.w,o=this.m12*e.x+this.m22*e.y+this.m32*e.z+this.m42*e.w,n=this.m13*e.x+this.m23*e.y+this.m33*e.z+this.m43*e.w,s=this.m14*e.x+this.m24*e.y+this.m34*e.z+this.m44*e.w;return e instanceof DOMPoint?new DOMPoint(r,o,n,s):{x:r,y:o,z:n,w:s}}}I(S,"Translate",Ge),I(S,"Rotate",Je),I(S,"RotateAxisAngle",Ke),I(S,"Scale",We),I(S,"SkewX",Xe),I(S,"SkewY",Ye),I(S,"Skew",ye),I(S,"Multiply",B),I(S,"fromArray",re),I(S,"fromMatrix",Fe),I(S,"fromString",Ue),I(S,"toArray",Se),I(S,"isCompatibleArray",Be),I(S,"isCompatibleObject",He);const D=(t,e,r)=>{const[o,n]=t,[s,i]=e;return[o+(s-o)*r,n+(i-n)*r]},de=(t,e)=>Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])),te=(t,e,r,o)=>de([t,e],[r,o]),ke=(t,e,r,o,n)=>{let s={x:t,y:e};if(typeof n=="number"){const i=de([t,e],[r,o]);if(n<=0)s={x:t,y:e};else if(n>=i)s={x:r,y:o};else{const[a,c]=D([t,e],[r,o],n/i);s={x:a,y:c}}}return s},we=(t,e,r,o)=>{const{min:n,max:s}=Math;return[n(t,r),n(e,o),s(t,r),s(e,o)]},jt=Object.freeze(Object.defineProperty({__proto__:null,getLineBBox:we,getLineLength:te,getPointAtLineLength:ke},Symbol.toStringTag,{value:"Module"})),Ie=(t,e,r)=>{const o=r/2,n=Math.sin(o),s=Math.cos(o),i=t**2*n**2,a=e**2*s**2,c=Math.sqrt(i+a)*r;return Math.abs(c)},J=(t,e,r,o,n,s)=>{const{sin:i,cos:a}=Math,c=a(n),l=i(n),u=r*a(s),h=o*i(s);return[t+c*u-l*h,e+l*u+c*h]},Te=(t,e)=>{const{x:r,y:o}=t,{x:n,y:s}=e,i=r*n+o*s,a=Math.sqrt((r**2+o**2)*(n**2+s**2));return(r*s-o*n<0?-1:1)*Math.acos(i/a)},ge=(t,e,r,o,n,s,i,a,c)=>{const{abs:l,sin:u,cos:h,sqrt:f,PI:y}=Math;let m=l(r),d=l(o);const b=(n%360+360)%360*(y/180);if(t===a&&e===c)return{rx:m,ry:d,startAngle:0,endAngle:0,center:{x:a,y:c}};if(m===0||d===0)return{rx:m,ry:d,startAngle:0,endAngle:0,center:{x:(a+t)/2,y:(c+e)/2}};const M=(t-a)/2,g=(e-c)/2,x={x:h(b)*M+u(b)*g,y:-u(b)*M+h(b)*g},A=x.x**2/m**2+x.y**2/d**2;A>1&&(m*=f(A),d*=f(A));const P=m**2*d**2-m**2*x.y**2-d**2*x.x**2,z=m**2*x.y**2+d**2*x.x**2;let q=P/z;q=q<0?0:q;const L=(s!==i?1:-1)*f(q),w={x:L*(m*x.y/d),y:L*(-(d*x.x)/m)},E={x:h(b)*w.x-u(b)*w.y+(t+a)/2,y:u(b)*w.x+h(b)*w.y+(e+c)/2},U={x:(x.x-w.x)/m,y:(x.y-w.y)/d},$=Te({x:1,y:0},U),C={x:(-x.x-w.x)/m,y:(-x.y-w.y)/d};let j=Te(U,C);!i&&j>0?j-=2*y:i&&j<0&&(j+=2*y),j%=2*y;const O=$+j;return{center:E,startAngle:$,endAngle:O,rx:m,ry:d}},Ve=(t,e,r,o,n,s,i,a,c)=>{const{rx:l,ry:u,startAngle:h,endAngle:f}=ge(t,e,r,o,n,s,i,a,c);return Ie(l,u,f-h)},et=(t,e,r,o,n,s,i,a,c,l)=>{let u={x:t,y:e};const{center:h,rx:f,ry:y,startAngle:m,endAngle:d}=ge(t,e,r,o,n,s,i,a,c);if(typeof l=="number"){const p=Ie(f,y,d-m);if(l<=0)u={x:t,y:e};else if(l>=p)u={x:a,y:c};else{if(t===a&&e===c)return{x:a,y:c};if(f===0||y===0)return ke(t,e,a,c,l);const{PI:b,cos:M,sin:g}=Math,x=d-m,P=(n%360+360)%360*(b/180),z=m+x*(l/p),q=f*M(z),L=y*g(z);u={x:M(P)*q-g(P)*L+h.x,y:g(P)*q+M(P)*L+h.y}}}return u},tt=(t,e,r,o,n,s,i,a,c)=>{const{center:l,rx:u,ry:h,startAngle:f,endAngle:y}=ge(t,e,r,o,n,s,i,a,c),m=y-f,{min:d,max:p,tan:b,atan2:M,PI:g}=Math,{x,y:A}=l,P=n*g/180,z=b(P),q=M(-h*z,u),L=q,w=q+g,E=M(h,u*z),U=E+g,$=[a],C=[c];let j=d(t,a),O=p(t,a),V=d(e,c),Z=p(e,c);const K=y-m*1e-5,G=J(x,A,u,h,P,K),T=y-m*.99999,k=J(x,A,u,h,P,T);if(G[0]>O||k[0]>O){const N=J(x,A,u,h,P,L);$.push(N[0]),C.push(N[1])}if(G[0]<j||k[0]<j){const N=J(x,A,u,h,P,w);$.push(N[0]),C.push(N[1])}if(G[1]<V||k[1]<V){const N=J(x,A,u,h,P,U);$.push(N[0]),C.push(N[1])}if(G[1]>Z||k[1]>Z){const N=J(x,A,u,h,P,E);$.push(N[0]),C.push(N[1])}return j=d.apply([],$),V=d.apply([],C),O=p.apply([],$),Z=p.apply([],C),[j,V,O,Z]},kt=Object.freeze(Object.defineProperty({__proto__:null,angleBetween:Te,arcLength:Ie,arcPoint:J,getArcBBox:tt,getArcLength:Ve,getArcProps:ge,getPointAtArcLength:et},Symbol.toStringTag,{value:"Module"})),Le=[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],nt=[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],rt=t=>{const e=[];for(let r=t,o=r.length,n=o-1;o>1;o-=1,n-=1){const s=[];for(let i=0;i<n;i+=1)s.push({x:n*(r[i+1].x-r[i].x),y:n*(r[i+1].y-r[i].y),t:0});e.push(s),r=s}return e},ot=(t,e)=>{if(e===0)return t[0].t=0,t[0];const r=t.length-1;if(e===1)return t[r].t=1,t[r];const o=1-e;let n=t;if(r===0)return t[0].t=e,t[0];if(r===1)return{x:o*n[0].x+e*n[1].x,y:o*n[0].y+e*n[1].y,t:e};const s=o*o,i=e*e;let a=0,c=0,l=0,u=0;return r===2?(n=[n[0],n[1],n[2],{x:0,y:0}],a=s,c=o*e*2,l=i):r===3&&(a=s*o,c=s*e*3,l=o*i*3,u=e*i),{x:a*n[0].x+c*n[1].x+l*n[2].x+u*n[3].x,y:a*n[0].y+c*n[1].y+l*n[2].y+u*n[3].y,t:e}},st=(t,e)=>{const r=t(e),o=r.x*r.x+r.y*r.y;return Math.sqrt(o)},it=t=>{const r=Le.length;let o=0;for(let n=0,s;n<r;n++)s=.5*Le[n]+.5,o+=nt[n]*st(t,s);return .5*o},oe=t=>{const e=[];for(let o=0,n=t.length,s=2;o<n;o+=s)e.push({x:t[o],y:t[o+1]});const r=rt(e);return it(o=>ot(r[0],o))},ct=1e-8,le=([t,e,r])=>{const o=Math.min(t,r),n=Math.max(t,r);if(e>=t?r>=e:r<=e)return[o,n];const s=(t*r-e*e)/(t-2*e+r);return s<o?[s,n]:[o,s]},Ne=([t,e,r,o])=>{const n=t-3*e+3*r-o;if(Math.abs(n)<ct)return t===o&&t===e?[t,o]:le([t,-.5*t+1.5*e,t-3*e+3*r]);const s=-t*r+t*o-e*r-e*o+e*e+r*r;if(s<=0)return[Math.min(t,o),Math.max(t,o)];const i=Math.sqrt(s);let a=Math.min(t,o),c=Math.max(t,o);const l=t-2*e+r;for(let u=(l+i)/n,h=1;h<=2;u=(l-i)/n,h++)if(u>0&&u<1){const f=t*(1-u)*(1-u)*(1-u)+e*3*(1-u)*(1-u)*u+r*3*(1-u)*u*u+o*u*u*u;f<a&&(a=f),f>c&&(c=f)}return[a,c]},It=Object.freeze(Object.defineProperty({__proto__:null,CBEZIER_MINMAX_EPSILON:ct,Cvalues:nt,Tvalues:Le,bezierLength:it,calculateBezier:st,computeBezier:ot,deriveBezier:rt,getBezierLength:oe,minmaxC:Ne,minmaxQ:le},Symbol.toStringTag,{value:"Module"})),at=([t,e,r,o,n,s,i,a],c)=>{const l=1-c;return{x:l**3*t+3*l**2*c*r+3*l*c**2*n+c**3*i,y:l**3*e+3*l**2*c*o+3*l*c**2*s+c**3*a}},me=(t,e,r,o,n,s,i,a)=>oe([t,e,r,o,n,s,i,a]),lt=(t,e,r,o,n,s,i,a,c)=>{const l=typeof c=="number";let u={x:t,y:e};if(l){const h=oe([t,e,r,o,n,s,i,a]);c<=0||(c>=h?u={x:i,y:a}:u=at([t,e,r,o,n,s,i,a],c/h))}return u},ve=(t,e,r,o,n,s,i,a)=>{const c=Ne([t,r,n,i]),l=Ne([e,o,s,a]);return[c[0],l[0],c[1],l[1]]},Vt=Object.freeze(Object.defineProperty({__proto__:null,getCubicBBox:ve,getCubicLength:me,getPointAtCubicLength:lt,getPointAtCubicSegmentLength:at},Symbol.toStringTag,{value:"Module"})),mt=([t,e,r,o,n,s],i)=>{const a=1-i;return{x:a**2*t+2*a*i*r+i**2*n,y:a**2*e+2*a*i*o+i**2*s}},ue=(t,e,r,o,n,s)=>oe([t,e,r,o,n,s]),ut=(t,e,r,o,n,s,i)=>{const a=typeof i=="number";let c={x:t,y:e};if(a){const l=oe([t,e,r,o,n,s]);i<=0||(i>=l?c={x:n,y:s}:c=mt([t,e,r,o,n,s],i/l))}return c},ze=(t,e,r,o,n,s)=>{const i=le([t,r,n]),a=le([e,o,s]);return[i[0],a[0],i[1],a[1]]},Rt=Object.freeze(Object.defineProperty({__proto__:null,getPointAtQuadLength:ut,getPointAtQuadSegmentLength:mt,getQuadBBox:ze,getQuadLength:ue},Symbol.toStringTag,{value:"Module"})),Et=t=>{const e=t.length;let r=-1,o,n=t[e-1],s=0;for(;++r<e;)o=n,n=t[r],s+=o[1]*n[0]-o[0]*n[1];return s/2},Ot=t=>t.reduce((e,r,o)=>o?e+de(t[o-1],r):0,0),_t=Object.freeze(Object.defineProperty({__proto__:null,polygonArea:Et,polygonLength:Ot},Symbol.toStringTag,{value:"Module"})),W={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},qe=t=>{let e=t.pathValue[t.segmentStart],r=e.toLowerCase();const{data:o}=t;for(;o.length>=W[r]&&(r==="m"&&o.length>2?(t.segments.push([e].concat(o.splice(0,2))),r="l",e=e==="m"?"l":"L"):t.segments.push([e].concat(o.splice(0,W[r]))),!!W[r]););},_="SVGPathCommander Error",ht=t=>{const{index:e,pathValue:r}=t,o=r.charCodeAt(e);if(o===48){t.param=0,t.index+=1;return}if(o===49){t.param=1,t.index+=1;return}t.err=`${_}: invalid Arc flag "${r[e]}", expecting 0 or 1 at index ${e}`},H=t=>t>=48&&t<=57,F="Invalid path value",ft=t=>{const{max:e,pathValue:r,index:o}=t;let n=o,s=!1,i=!1,a=!1,c=!1,l;if(n>=e){t.err=`${_}: ${F} at index ${n}, "pathValue" is missing param`;return}if(l=r.charCodeAt(n),(l===43||l===45)&&(n+=1,l=r.charCodeAt(n)),!H(l)&&l!==46){t.err=`${_}: ${F} at index ${n}, "${r[n]}" is not a number`;return}if(l!==46){if(s=l===48,n+=1,l=r.charCodeAt(n),s&&n<e&&l&&H(l)){t.err=`${_}: ${F} at index ${o}, "${r[o]}" illegal number`;return}for(;n<e&&H(r.charCodeAt(n));)n+=1,i=!0;l=r.charCodeAt(n)}if(l===46){for(c=!0,n+=1;H(r.charCodeAt(n));)n+=1,a=!0;l=r.charCodeAt(n)}if(l===101||l===69){if(c&&!i&&!a){t.err=`${_}: ${F} at index ${n}, "${r[n]}" invalid float exponent`;return}if(n+=1,l=r.charCodeAt(n),(l===43||l===45)&&(n+=1),n<e&&H(r.charCodeAt(n)))for(;n<e&&H(r.charCodeAt(n));)n+=1;else{t.err=`${_}: ${F} at index ${n}, "${r[n]}" invalid integer exponent`;return}}t.index=n,t.param=+t.pathValue.slice(o,n)},yt=t=>[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279,10,13,8232,8233,32,9,11,12,160].includes(t),X=t=>{const{pathValue:e,max:r}=t;for(;t.index<r&&yt(e.charCodeAt(t.index));)t.index+=1},dt=t=>{switch(t|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}},gt=t=>H(t)||t===43||t===45||t===46,xt=t=>(t|32)===97,pt=t=>{switch(t|32){case 109:case 77:return!0;default:return!1}},Re=t=>{var c;const{max:e,pathValue:r,index:o,segments:n}=t,s=r.charCodeAt(o),i=W[r[o].toLowerCase()];if(t.segmentStart=o,!dt(s)){t.err=`${_}: ${F} "${r[o]}" is not a path command at index ${o}`;return}const a=n[n.length-1];if(!pt(s)&&((c=a==null?void 0:a[0])==null?void 0:c.toLocaleLowerCase())==="z"){t.err=`${_}: ${F} "${r[o]}" is not a MoveTo path command at index ${o}`;return}if(t.index+=1,X(t),t.data=[],!i){qe(t);return}for(;;){for(let l=i;l>0;l-=1){if(xt(s)&&(l===3||l===4)?ht(t):ft(t),t.err.length)return;t.data.push(t.param),X(t),t.index<e&&r.charCodeAt(t.index)===44&&(t.index+=1,X(t))}if(t.index>=t.max||!gt(r.charCodeAt(t.index)))break}qe(t)};class Ee{constructor(e){this.segments=[],this.pathValue=e,this.max=e.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}}const Q=t=>{if(typeof t!="string")return t.slice(0);const e=new Ee(t);for(X(e);e.index<e.max&&!e.err.length;)Re(e);if(!e.err.length)e.segments.length&&(e.segments[0][0]="M");else throw TypeError(e.err);return e.segments},se=(t,e,r,o)=>{const[n]=t,s=n.toUpperCase();if(e===0||s===n)return t;if(s==="A")return[s,t[1],t[2],t[3],t[4],t[5],t[6]+r,t[7]+o];if(s==="V")return[s,t[1]+o];if(s==="H")return[s,t[1]+r];if(s==="L")return[s,t[1]+r,t[2]+o];{const a=[],c=t.length;for(let l=1;l<c;l+=1)a.push(t[l]+(l%2?r:o));return[s].concat(a)}},R=(t,e)=>{let r=t.length,o,n="M",s="M",i=!1,a=0,c=0,l=0,u=0,h=0;for(let f=0;f<r;f+=1){o=t[f],[n]=o,h=o.length,s=n.toUpperCase(),i=s!==n;const y=e(o,f,a,c);if(y===!1)break;s==="Z"?(a=l,c=u):s==="H"?a=o[1]+(i?a:0):s==="V"?c=o[1]+(i?c:0):(a=o[h-2]+(i?a:0),c=o[h-1]+(i?c:0),s==="M"&&(l=a,u=c)),y&&(t[f]=y,y[0]==="C"&&(r=t.length))}return t},Oe=t=>{const e=Q(t);return R(e,se)},_e=(t,e,r,o)=>{const[n]=t,s=n.toLowerCase();if(e===0||n===s)return t;if(s==="a")return[s,t[1],t[2],t[3],t[4],t[5],t[6]-r,t[7]-o];if(s==="v")return[s,t[1]-o];if(s==="h")return[s,t[1]-r];if(s==="l")return[s,t[1]-r,t[2]-o];{const a=[],c=t.length;for(let l=1;l<c;l+=1)a.push(t[l]-(l%2?r:o));return[s].concat(a)}},Qt=t=>{const e=Q(t);return R(e,_e)},Y=(t,e,r)=>{const{sin:o,cos:n}=Math,s=t*n(r)-e*o(r),i=t*o(r)+e*n(r);return{x:s,y:i}},xe=(t,e,r,o,n,s,i,a,c,l)=>{let u=t,h=e,f=r,y=o,m=a,d=c;const p=Math.PI*120/180,b=Math.PI/180*(+n||0);let M=[],g,x,A,P,z;if(l)[x,A,P,z]=l;else{g=Y(u,h,-b),u=g.x,h=g.y,g=Y(m,d,-b),m=g.x,d=g.y;const T=(u-m)/2,k=(h-d)/2;let N=T*T/(f*f)+k*k/(y*y);N>1&&(N=Math.sqrt(N),f*=N,y*=N);const Ce=f*f,Pe=y*y,Ze=(s===i?-1:1)*Math.sqrt(Math.abs((Ce*Pe-Ce*k*k-Pe*T*T)/(Ce*k*k+Pe*T*T)));P=Ze*f*k/y+(u+m)/2,z=Ze*-y*T/f+(h+d)/2,x=Math.asin(((h-z)/y*10**9>>0)/10**9),A=Math.asin(((d-z)/y*10**9>>0)/10**9),x=u<P?Math.PI-x:x,A=m<P?Math.PI-A:A,x<0&&(x=Math.PI*2+x),A<0&&(A=Math.PI*2+A),i&&x>A&&(x-=Math.PI*2),!i&&A>x&&(A-=Math.PI*2)}let q=A-x;if(Math.abs(q)>p){const T=A,k=m,N=d;A=x+p*(i&&A>x?1:-1),m=P+f*Math.cos(A),d=z+y*Math.sin(A),M=xe(m,d,f,y,n,0,i,k,N,[A,T,P,z])}q=A-x;const L=Math.cos(x),w=Math.sin(x),E=Math.cos(A),U=Math.sin(A),$=Math.tan(q/4),C=4/3*f*$,j=4/3*y*$,O=[u,h],V=[u+C*w,h-j*L],Z=[m+C*U,d-j*E],K=[m,d];if(V[0]=2*O[0]-V[0],V[1]=2*O[1]-V[1],l)return[V[0],V[1],Z[0],Z[1],K[0],K[1]].concat(M);M=[V[0],V[1],Z[0],Z[1],K[0],K[1]].concat(M);const G=[];for(let T=0,k=M.length;T<k;T+=1)G[T]=T%2?Y(M[T-1],M[T],b).y:Y(M[T],M[T+1],b).x;return G},bt=(t,e,r,o,n,s)=>{const i=.3333333333333333,a=2/3;return[i*t+a*r,i*e+a*o,i*n+a*r,i*s+a*o,n,s]},$e=(t,e,r,o)=>{const n=D([t,e],[r,o],.3333333333333333),s=D([t,e],[r,o],2/3);return[n[0],n[1],s[0],s[1],r,o]},Mt=(t,e)=>{const[r]=t,o=t.slice(1).map(Number),[n,s]=o,{x1:i,y1:a,x:c,y:l}=e;return"TQ".includes(r)||(e.qx=null,e.qy=null),r==="M"?(e.x=n,e.y=s,t):r==="A"?["C"].concat(xe(i,a,o[0],o[1],o[2],o[3],o[4],o[5],o[6])):r==="Q"?(e.qx=n,e.qy=s,["C"].concat(bt(i,a,o[0],o[1],o[2],o[3]))):r==="L"?["C"].concat($e(i,a,n,s)):r==="Z"?["C"].concat($e(i,a,c,l)):t},pe=(t,e)=>{const[r]=t,o=r.toUpperCase(),n=r!==o,{x1:s,y1:i,x2:a,y2:c,x:l,y:u}=e,h=t.slice(1);let f=h.map((y,m)=>y+(n?m%2?u:l:0));if("TQ".includes(o)||(e.qx=null,e.qy=null),o==="A")return f=h.slice(0,-2).concat(h[5]+(n?l:0),h[6]+(n?u:0)),["A"].concat(f);if(o==="H")return["L",t[1]+(n?l:0),i];if(o==="V")return["L",s,t[1]+(n?u:0)];if(o==="L")return["L",t[1]+(n?l:0),t[2]+(n?u:0)];if(o==="M")return["M",t[1]+(n?l:0),t[2]+(n?u:0)];if(o==="C")return["C"].concat(f);if(o==="S"){const y=s*2-a,m=i*2-c;return e.x1=y,e.y1=m,["C",y,m].concat(f)}else if(o==="T"){const y=s*2-(e.qx?e.qx:0),m=i*2-(e.qy?e.qy:0);return e.qx=y,e.qy=m,["Q",y,m].concat(f)}else if(o==="Q"){const[y,m]=f;return e.qx=y,e.qy=m,["Q"].concat(f)}else if(o==="Z")return["Z"];return t},ie={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},Qe=t=>{const e={...ie},r=Q(t);return R(r,(o,n,s,i)=>{e.x=s,e.y=i;const a=pe(o,e);let c=Mt(a,e);c[0]==="C"&&c.length>7&&(r.splice(n+1,0,["C"].concat(c.slice(7))),c=c.slice(0,7));const u=c.length;return e.x1=+c[u-2],e.y1=+c[u-1],e.x2=+c[u-4]||e.x1,e.y2=+c[u-3]||e.y1,c})},ce={origin:[0,0,0],round:4},v=(t,e)=>{const r=e>=1?10**e:1;return e>0?Math.round(t*r)/r:Math.round(t)},At=(t,e)=>{const r=t.length;let{round:o}=ce,n=t[0],s="";o=e==="off"||typeof e=="number"&&e>=0?e:typeof o=="number"&&o>=0?o:"off";for(let i=0;i<r;i+=1){n=t[i];const[a]=n,c=n.slice(1);if(s+=a,o==="off")s+=c.join(" ");else{let l=0;const u=c.length;for(;l<u;)s+=v(c[l],o),l!==u-1&&(s+=" "),l+=1}}return s},he=1e-5,be=t=>{const e=Q(t),r={...ie};return R(e,(o,n,s,i)=>{r.x=s,r.y=i;const a=pe(o,r),c=a.length;return r.x1=+a[c-2],r.y1=+a[c-1],r.x2=+a[c-4]||r.x1,r.y2=+a[c-3]||r.y1,a})},ae=(t,e)=>{const r=be(t);let o=!1,n=[],s="M",i=0,a=0,[c,l]=r[0].slice(1);const u=typeof e=="number";let h={x:c,y:l},f=0,y=h,m=0;return!u||e<he?h:(R(r,(d,p,b,M)=>{if([s]=d,o=s==="M",n=o?n:[b,M].concat(d.slice(1)),o?([,c,l]=d,h={x:c,y:l},f=0):s==="L"?(h=ke(n[0],n[1],n[2],n[3],e-m),f=te(n[0],n[1],n[2],n[3])):s==="A"?(h=et(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],e-m),f=Ve(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])):s==="C"?(h=lt(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],e-m),f=me(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7])):s==="Q"?(h=ut(n[0],n[1],n[2],n[3],n[4],n[5],e-m),f=ue(n[0],n[1],n[2],n[3],n[4],n[5])):s==="Z"&&(n=[b,M,c,l],h={x:c,y:l},f=te(n[0],n[1],n[2],n[3])),[i,a]=n.slice(-2),m<e)y=h;else return!1;m+=f}),e>m-he?{x:i,y:a}:y)},ee=t=>{const e=Q(t);let r=0,o=0,n=0,s=0,i=0,a=0,c="M",l=0,u=0,h=0;return R(e,(f,y,m,d)=>{[c]=f;const p=c.toUpperCase(),M=p!==c?se(f,y,m,d):f.slice(0),g=p==="V"?["L",m,M[1]]:p==="H"?["L",M[1],d]:M;if([c]=g,"TQ".includes(p)||(i=0,a=0),c==="M")[,l,u]=g;else if(c==="L")h+=te(m,d,g[1],g[2]);else if(c==="A")h+=Ve(m,d,g[1],g[2],g[3],g[4],g[5],g[6],g[7]);else if(c==="S"){const x=r*2-n,A=o*2-s;h+=me(m,d,x,A,g[1],g[2],g[3],g[4])}else c==="C"?h+=me(m,d,g[1],g[2],g[3],g[4],g[5],g[6]):c==="T"?(i=r*2-i,a=o*2-a,h+=ue(m,d,i,a,g[1],g[2])):c==="Q"?(i=g[1],a=g[2],h+=ue(m,d,g[1],g[2],g[3],g[4])):c==="Z"&&(h+=te(m,d,l,u));[r,o]=c==="Z"?[l,u]:g.slice(-2),[n,s]=c==="C"?[g[3],g[4]]:c==="S"?[g[1],g[2]]:[r,o]}),h},De=(t,e)=>{const r=Q(t);let o=r.slice(0),n=ee(o),s=o.length-1,i=0,a=0,c=r[0];if(s<=0||!e||!Number.isFinite(e))return{segment:c,index:0,length:a,lengthAtSegment:i};if(e>=n)return o=r.slice(0,-1),i=ee(o),a=n-i,c=r[s],{segment:c,index:s,length:a,lengthAtSegment:i};const l=[];for(;s>0;)c=o[s],o=o.slice(0,-1),i=ee(o),a=n-i,n=i,l.push({segment:c,index:s,length:a,lengthAtSegment:i}),s-=1;return l.find(({lengthAtSegment:u})=>u<=e)},Me=(t,e)=>{const r=Q(t),o=be(r),n=ee(o),s=x=>{const A=x.x-e.x,P=x.y-e.y;return A*A+P*P};let i=8,a,c={x:0,y:0},l=0,u=0,h=1/0;for(let x=0;x<=n;x+=i)a=ae(o,x),l=s(a),l<h&&(c=a,u=x,h=l);i/=2;let f,y,m=0,d=0,p=0,b=0;for(;i>1e-6&&(m=u-i,f=ae(o,m),p=s(f),d=u+i,y=ae(o,d),b=s(y),m>=0&&p<h?(c=f,u=m,h=p):d<=n&&b<h?(c=y,u=d,h=b):i/=2,!(i<1e-5)););const M=De(r,u),g=Math.sqrt(h);return{closest:c,distance:g,segment:M}},Dt=(t,e)=>Me(t,e).closest,Zt=(t,e,r,o,n,s,i,a)=>3*((a-e)*(r+n)-(i-t)*(o+s)+o*(t-n)-r*(e-s)+a*(n+t/3)-i*(s+e/3))/20,Ct=t=>{let e=0,r=0,o=0;return Qe(t).map(n=>{switch(n[0]){case"M":return[,e,r]=n,0;default:return o=Zt(e,r,n[1],n[2],n[3],n[4],n[5],n[6]),[e,r]=n.slice(-2),o}}).reduce((n,s)=>n+s,0)},Bt=t=>Ct(Qe(t))>=0,Ht=t=>{if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0,cx:0,cy:0,cz:0};const e=Q(t);let r="M",o=0,n=0;const{max:s,min:i}=Math;let a=1/0,c=1/0,l=-1/0,u=-1/0,h=0,f=0,y=0,m=0,d=0,p=0,b=0,M=0,g=0,x=0;R(e,(z,q,L,w)=>{[r]=z;const E=r.toUpperCase(),$=E!==r?se(z,q,L,w):z.slice(0),C=E==="V"?["L",L,$[1]]:E==="H"?["L",$[1],w]:$;if([r]=C,"TQ".includes(E)||(g=0,x=0),r==="M")[,o,n]=C,h=o,f=n,y=o,m=n;else if(r==="L")[h,f,y,m]=we(L,w,C[1],C[2]);else if(r==="A")[h,f,y,m]=tt(L,w,C[1],C[2],C[3],C[4],C[5],C[6],C[7]);else if(r==="S"){const j=d*2-b,O=p*2-M;[h,f,y,m]=ve(L,w,j,O,C[1],C[2],C[3],C[4])}else r==="C"?[h,f,y,m]=ve(L,w,C[1],C[2],C[3],C[4],C[5],C[6]):r==="T"?(g=d*2-g,x=p*2-x,[h,f,y,m]=ze(L,w,g,x,C[1],C[2])):r==="Q"?(g=C[1],x=C[2],[h,f,y,m]=ze(L,w,C[1],C[2],C[3],C[4])):r==="Z"&&([h,f,y,m]=we(L,w,o,n));a=i(h,a),c=i(f,c),l=s(y,l),u=s(m,u),[d,p]=r==="Z"?[o,n]:C.slice(-2),[b,M]=r==="C"?[C[3],C[4]]:r==="S"?[C[1],C[2]]:[d,p]});const A=l-a,P=u-c;return{width:A,height:P,x:a,y:c,x2:l,y2:u,cx:a+A/2,cy:c+P/2,cz:Math.max(A,P)+Math.min(A,P)/2}},Ft=(t,e)=>De(t,e).segment,Ut=(t,e)=>Me(t,e).segment,Ae=t=>Array.isArray(t)&&t.every(e=>{const r=e[0].toLowerCase();return W[r]===e.length-1&&"achlmqstvz".includes(r)&&e.slice(1).every(Number.isFinite)})&&t.length>0,Pt=t=>Ae(t)&&t.every(([e])=>e===e.toUpperCase()),St=t=>Pt(t)&&t.every(([e])=>"ACLMQZ".includes(e)),Gt=t=>St(t)&&t.every(([e])=>"MC".includes(e)),Jt=(t,e)=>{const{distance:r}=Me(t,e);return Math.abs(r)<he},Kt=t=>Ae(t)&&t.slice(1).every(([e])=>e===e.toLowerCase()),wt=t=>{if(typeof t!="string"||!t.length)return!1;const e=new Ee(t);for(X(e);e.index<e.max&&!e.err.length;)Re(e);return!e.err.length&&"mM".includes(e.segments[0][0])},ne={line:["x1","y1","x2","y2"],circle:["cx","cy","r"],ellipse:["cx","cy","rx","ry"],rect:["width","height","x","y","rx","ry"],polygon:["points"],polyline:["points"],glyph:["d"]},Tt=t=>t!=null&&typeof t=="object"&&t.nodeType===1,Wt=t=>{let{x1:e,y1:r,x2:o,y2:n}=t;return[e,r,o,n]=[e,r,o,n].map(s=>+s),[["M",e,r],["L",o,n]]},Xt=t=>{const e=[],r=(t.points||"").trim().split(/[\s|,]/).map(n=>+n);let o=0;for(;o<r.length;)e.push([o?"L":"M",r[o],r[o+1]]),o+=2;return t.type==="polygon"?[...e,["z"]]:e},Yt=t=>{let{cx:e,cy:r,r:o}=t;return[e,r,o]=[e,r,o].map(n=>+n),[["M",e-o,r],["a",o,o,0,1,0,2*o,0],["a",o,o,0,1,0,-2*o,0]]},en=t=>{let{cx:e,cy:r}=t,o=t.rx||0,n=t.ry||o;return[e,r,o,n]=[e,r,o,n].map(s=>+s),[["M",e-o,r],["a",o,n,0,1,0,2*o,0],["a",o,n,0,1,0,-2*o,0]]},tn=t=>{const e=+t.x||0,r=+t.y||0,o=+t.width,n=+t.height;let s=+(t.rx||0),i=+(t.ry||s);return s||i?(s*2>o&&(s-=(s*2-o)/2),i*2>n&&(i-=(i*2-n)/2),[["M",e+s,r],["h",o-s*2],["s",s,0,s,i],["v",n-i*2],["s",0,i,-s,i],["h",-o+s*2],["s",-s,0,-s,-i],["v",-n+i*2],["s",0,-i,s,-i]]):[["M",e,r],["h",o],["v",n],["H",e],["Z"]]},Lt=t=>{const e=Object.keys(ne),r=Tt(t),o=r?t.tagName:null;if(o&&[...e,"path"].every(c=>o!==c))throw TypeError(`${_}: "${o}" is not SVGElement`);const n=r?o:t.type,s=ne[n],i={type:n};r?s.forEach(c=>{i[c]=t.getAttribute(c)}):Object.assign(i,t);let a=[];return n==="circle"?a=Yt(i):n==="ellipse"?a=en(i):["polyline","polygon"].includes(n)?a=Xt(i):n==="rect"?a=tn(i):n==="line"?a=Wt(i):["glyph","path"].includes(n)&&(a=Q(r?t.getAttribute("d")||"":t.d||"")),Ae(a)&&a.length?a:!1},nn=(t,e,r)=>{const o=r||document,n=Object.keys(ne),s=Tt(t),i=s?t.tagName:null;if(i==="path")throw TypeError(`${_}: "${i}" is already SVGPathElement`);if(i&&n.every(m=>i!==m))throw TypeError(`${_}: "${i}" is not SVGElement`);const a=o.createElementNS("http://www.w3.org/2000/svg","path"),c=s?i:t.type,l=ne[c],u={type:c},h=ce.round,f=Lt(t),y=f&&f.length?At(f,h):"";return s?(l.forEach(m=>{u[m]=t.getAttribute(m)}),Object.values(t.attributes).forEach(({name:m,value:d})=>{l.includes(m)||a.setAttribute(m,d)})):(Object.assign(u,t),Object.keys(u).forEach(m=>{!l.includes(m)&&m!=="type"&&a.setAttribute(m.replace(/[A-Z]/g,d=>`-${d.toLowerCase()}`),u[m])})),wt(y)?(a.setAttribute("d",y),e&&s&&(t.before(a,t),t.remove()),a):!1},Nt=t=>{let e=new S;const{origin:r}=t,[o,n]=r,{translate:s}=t,{rotate:i}=t,{skew:a}=t,{scale:c}=t;return Array.isArray(s)&&s.length>=2&&s.every(l=>!Number.isNaN(+l))&&s.some(l=>l!==0)?e=e.translate(...s):typeof s=="number"&&!Number.isNaN(s)&&(e=e.translate(s)),(i||a||c)&&(e=e.translate(o,n),Array.isArray(i)&&i.length>=2&&i.every(l=>!Number.isNaN(+l))&&i.some(l=>l!==0)?e=e.rotate(...i):typeof i=="number"&&!Number.isNaN(i)&&(e=e.rotate(i)),Array.isArray(a)&&a.length===2&&a.every(l=>!Number.isNaN(+l))&&a.some(l=>l!==0)?(e=a[0]?e.skewX(a[0]):e,e=a[1]?e.skewY(a[1]):e):typeof a=="number"&&!Number.isNaN(a)&&(e=e.skewX(a)),Array.isArray(c)&&c.length>=2&&c.every(l=>!Number.isNaN(+l))&&c.some(l=>l!==1)?e=e.scale(...c):typeof c=="number"&&!Number.isNaN(c)&&(e=e.scale(c)),e=e.translate(-o,-n)),e},vt=(t,e,r,o)=>{const[n]=t,{round:s}=ce,i=s,a=e.slice(1),{x1:c,y1:l,x2:u,y2:h,x:f,y}=r,[m,d]=a.slice(-2),p=t;if("TQ".includes(n)||(r.qx=null,r.qy=null),n==="L"){if(v(f,i)===v(m,i))return["V",d];if(v(y,i)===v(d,i))return["H",m]}else if(n==="C"){const[b,M]=a;if(r.x1=b,r.y1=M,"CS".includes(o)&&(v(b,i)===v(c*2-u,i)&&v(M,i)===v(l*2-h,i)||v(c,i)===v(u*2-f,i)&&v(l,i)===v(h*2-y,i)))return["S",a[2],a[3],a[4],a[5]]}else if(n==="Q"){const[b,M]=a;if(r.qx=b,r.qy=M,"QT".includes(o)&&v(b,i)===v(c*2-u,i)&&v(M,i)===v(l*2-h,i))return["T",a[2],a[3]]}return p},fe=(t,e)=>{const r=t.slice(1).map(o=>v(o,e));return[t[0]].concat(r)},rn=(t,e)=>{const r=Oe(t),o=typeof e=="number"&&e>=0?e:2,n={...ie},s=[];let i="M",a="Z";return R(r,(c,l,u,h)=>{n.x=u,n.y=h;const f=pe(c,n);let y=c;if([i]=c,s[l]=i,l){a=s[l-1];const d=vt(c,f,n,a),p=fe(d,o),b=p.join(""),M=_e(d,l,u,h),g=fe(M,o),x=g.join("");y=b.length<x.length?p:g}const m=f.length;return n.x1=+f[m-2],n.y1=+f[m-1],n.x2=+f[m-4]||n.x1,n.y2=+f[m-3]||n.y1,y})},on=(t,e)=>{let r=S.Translate(e[0],e[1],e[2]);return[,,,r.m44]=e,r=t.multiply(r),[r.m41,r.m42,r.m43,r.m44]},je=(t,e,r)=>{const[o,n,s]=r,[i,a,c]=on(t,[e[0],e[1],0,1]),l=i-o,u=a-n,h=c-s;return[l*(Math.abs(s)/Math.abs(h)||1)+o,u*(Math.abs(s)/Math.abs(h)||1)+n]},sn=t=>{const e=t.slice(1).map((r,o,n)=>o?n[o-1].slice(-2).concat(r.slice(1)):t[0].slice(1).concat(r.slice(1))).map(r=>r.map((o,n)=>r[r.length-n-2*(1-n%2)])).reverse();return[["M"].concat(e[0].slice(0,2))].concat(e.map(r=>["C"].concat(r.slice(2))))},cn=t=>{const e=Oe(t),r=be(e),o=e.length,n=e[o-1][0]==="Z",s=R(e,(i,a)=>{const c=r[a],l=a&&e[a-1],u=l&&l[0],h=e[a+1],f=h&&h[0],[y]=i,[m,d]=r[a?a-1:o-1].slice(-2);let p=i;switch(y){case"M":p=n?["Z"]:[y,m,d];break;case"A":p=[y,i[1],i[2],i[3],i[4],i[5]===1?0:1,m,d];break;case"C":h&&f==="S"?p=["S",i[1],i[2],m,d]:p=[y,i[3],i[4],i[1],i[2],m,d];break;case"S":u&&"CS".includes(u)&&(!h||f!=="S")?p=["C",c[3],c[4],c[1],c[2],m,d]:p=[y,c[1],c[2],m,d];break;case"Q":h&&f==="T"?p=["T",m,d]:p=[y,i[1],i[2],m,d];break;case"T":u&&"QT".includes(u)&&(!h||f!=="T")?p=["Q",c[1],c[2],m,d]:p=[y,m,d];break;case"Z":p=["M",m,d];break;case"H":p=[y,m];break;case"V":p=[y,d];break;default:p=[y].concat(i.slice(1,-2),m,d)}return p});return n?s.reverse():[s[0]].concat(s.slice(1).reverse())},an=(t,e)=>{let{round:r}=ce;return r=e==="off"||typeof e=="number"&&e>=0?e:typeof r=="number"&&r>=0?r:"off",r==="off"?t.slice(0):R(t,o=>fe(o,r))},ln=(t,e=.5)=>{const r=e,o=t.slice(0,2),n=t.slice(2,4),s=t.slice(4,6),i=t.slice(6,8),a=D(o,n,r),c=D(n,s,r),l=D(s,i,r),u=D(a,c,r),h=D(c,l,r),f=D(u,h,r);return[["C",a[0],a[1],u[0],u[1],f[0],f[1]],["C",h[0],h[1],l[0],l[1],i[0],i[1]]]},mn=t=>{const e=[];let r,o=-1,n=0,s=0,i=0,a=0;const c={...ie};return t.forEach(l=>{const[u]=l,h=u.toUpperCase(),f=u.toLowerCase(),y=u===f,m=l.slice(1);h==="M"?(o+=1,[n,s]=m,n+=y?c.x:0,s+=y?c.y:0,i=n,a=s,r=[y?[h,i,a]:l]):(h==="Z"?(n=i,s=a):h==="H"?([,n]=l,n+=y?c.x:0):h==="V"?([,s]=l,s+=y?c.y:0):([n,s]=l.slice(-2),n+=y?c.x:0,s+=y?c.y:0),r.push(l)),c.x=n,c.y=s,e[o]=r}),e},un=(t,e)=>{let r=0,o=0,n=0,s=0,i=0,a=0,c="M";const l=Q(t),u=e&&Object.keys(e);if(!e||u&&!u.length)return l.slice(0);e.origin||Object.assign(e,{origin:ce.origin});const h=e.origin,f=Nt(e);return f.isIdentity?l.slice(0):R(l,(y,m,d,p)=>{[c]=y;const b=c.toUpperCase(),g=b!==c?se(y,m,d,p):y.slice(0);let x=b==="A"?["C"].concat(xe(d,p,g[1],g[2],g[3],g[4],g[5],g[6],g[7])):b==="V"?["L",d,g[1]]:b==="H"?["L",g[1],p]:g;c=x[0];const A=c==="C"&&x.length>7,P=A?x.slice(0,7):x.slice(0);if(A&&(l.splice(m+1,0,["C"].concat(x.slice(7))),x=P),c==="L")[n,s]=je(f,[x[1],x[2]],h),r!==n&&o!==s?x=["L",n,s]:o===s?x=["H",n]:r===n&&(x=["V",s]);else for(i=1,a=x.length;i<a;i+=2)[n,s]=je(f,[+x[i],+x[i+1]],h),x[i]=n,x[i+1]=s;return r=n,o=s,x})};exports.CSSMatrix=S;exports.absolutizeSegment=se;exports.arcToCubic=xe;exports.arcTools=kt;exports.bezierTools=It;exports.cubicTools=Vt;exports.distanceEpsilon=he;exports.distanceSquareRoot=de;exports.finalizeSegment=qe;exports.getClosestPoint=Dt;exports.getDrawDirection=Bt;exports.getPathArea=Ct;exports.getPathBBox=Ht;exports.getPointAtLength=ae;exports.getPropertiesAtLength=De;exports.getPropertiesAtPoint=Me;exports.getSVGMatrix=Nt;exports.getSegmentAtLength=Ft;exports.getSegmentOfPoint=Ut;exports.getTotalLength=ee;exports.invalidPathValue=F;exports.isAbsoluteArray=Pt;exports.isArcCommand=xt;exports.isCurveArray=Gt;exports.isDigit=H;exports.isDigitStart=gt;exports.isMoveCommand=pt;exports.isNormalizedArray=St;exports.isPathArray=Ae;exports.isPathCommand=dt;exports.isPointInStroke=Jt;exports.isRelativeArray=Kt;exports.isSpace=yt;exports.isValidPath=wt;exports.iterate=R;exports.lineToCubic=$e;exports.lineTools=jt;exports.midPoint=D;exports.normalizePath=be;exports.normalizeSegment=pe;exports.optimizePath=rn;exports.paramsCount=W;exports.paramsParser=ie;exports.parsePathString=Q;exports.pathParser=Ee;exports.pathToAbsolute=Oe;exports.pathToCurve=Qe;exports.pathToRelative=Qt;exports.pathToString=At;exports.polygonTools=_t;exports.projection2d=je;exports.quadToCubic=bt;exports.quadTools=Rt;exports.relativizeSegment=_e;exports.reverseCurve=sn;exports.reversePath=cn;exports.rotateVector=Y;exports.roundPath=an;exports.roundSegment=fe;exports.roundTo=v;exports.scanFlag=ht;exports.scanParam=ft;exports.scanSegment=Re;exports.segmentToCubic=Mt;exports.shapeParams=ne;exports.shapeToPath=nn;exports.shapeToPathArray=Lt;exports.shortenSegment=vt;exports.skipSpaces=X;exports.splitCubic=ln;exports.splitPath=mn;exports.transformPath=un;
//# sourceMappingURL=util.cjs.map
