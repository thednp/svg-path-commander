"use strict";var SVGPathCommander=(()=>{var lt=Object.defineProperty;var or=Object.getOwnPropertyDescriptor;var ar=Object.getOwnPropertyNames;var mr=Object.prototype.hasOwnProperty;var te=(t,e)=>{for(var n in e)lt(t,n,{get:e[n],enumerable:!0})},sr=(t,e,n,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of ar(e))!mr.call(t,r)&&r!==n&&lt(t,r,{get:()=>e[r],enumerable:!(o=or(e,r))||o.enumerable});return t};var ir=t=>sr(lt({},"__esModule",{value:!0}),t);var On={};te(On,{default:()=>Vn});var Tt={};te(Tt,{CSSMatrix:()=>M,absolutizeSegment:()=>U,arcToCubic:()=>Ce,arcTools:()=>yt,bezierTools:()=>xt,cubicTools:()=>St,distanceEpsilon:()=>ge,distanceSquareRoot:()=>ce,finalizeSegment:()=>ze,getClosestPoint:()=>_t,getDrawDirection:()=>Ut,getPathArea:()=>Ke,getPathBBox:()=>We,getPointAtLength:()=>ae,getPropertiesAtLength:()=>Te,getPropertiesAtPoint:()=>me,getSVGMatrix:()=>nt,getSegmentAtLength:()=>Jt,getSegmentOfPoint:()=>Kt,getTotalLength:()=>W,invalidPathValue:()=>F,isAbsoluteArray:()=>Xe,isArcCommand:()=>Fe,isCurveArray:()=>Wt,isDigit:()=>H,isDigitStart:()=>He,isMoveCommand:()=>Ge,isNormalizedArray:()=>Ye,isPathArray:()=>se,isPathCommand:()=>Ze,isPointInStroke:()=>Xt,isRelativeArray:()=>Yt,isSpace:()=>Be,isValidPath:()=>et,iterate:()=>L,lineToCubic:()=>Re,lineTools:()=>ft,midPoint:()=>I,normalizePath:()=>K,normalizeSegment:()=>ne,optimizePath:()=>at,paramsCount:()=>G,paramsParser:()=>J,parsePathString:()=>T,pathParser:()=>ee,pathToAbsolute:()=>re,pathToCurve:()=>oe,pathToRelative:()=>_e,pathToString:()=>Me,polygonTools:()=>Mt,projection2d:()=>Ve,quadToCubic:()=>Ue,quadTools:()=>Ct,relativizeSegment:()=>Ae,reverseCurve:()=>tr,reversePath:()=>Le,rotateVector:()=>be,roundPath:()=>rr,roundSegment:()=>ye,roundTo:()=>v,scanFlag:()=>$e,scanParam:()=>je,scanSegment:()=>Se,segmentToCubic:()=>Je,shapeParams:()=>ie,shapeToPath:()=>er,shapeToPathArray:()=>rt,shortenSegment:()=>ot,skipSpaces:()=>_,splitCubic:()=>nr,splitPath:()=>mt,transformPath:()=>st});var ur=Object.defineProperty,lr=(t,e,n)=>e in t?ur(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,q=(t,e,n)=>lr(t,typeof e!="symbol"?e+"":e,n),cr={a:1,b:0,c:0,d:1,e:0,f:0,m11:1,m12:0,m13:0,m14:0,m21:0,m22:1,m23:0,m24:0,m31:0,m32:0,m33:1,m34:0,m41:0,m42:0,m43:0,m44:1,is2D:!0,isIdentity:!0},Nt=t=>(t instanceof Float64Array||t instanceof Float32Array||Array.isArray(t)&&t.every(e=>typeof e=="number"))&&[6,16].some(e=>t.length===e),wt=t=>t instanceof DOMMatrix||t instanceof M||typeof t=="object"&&Object.keys(cr).every(e=>t&&e in t),ve=t=>{let e=new M,n=Array.from(t);if(!Nt(n))throw TypeError(`CSSMatrix: "${n.join(",")}" must be an array with 6/16 numbers.`);if(n.length===16){let[o,r,a,m,i,s,u,l,f,p,h,c,b,d,x,P]=n;e.m11=o,e.a=o,e.m21=i,e.c=i,e.m31=f,e.m41=b,e.e=b,e.m12=r,e.b=r,e.m22=s,e.d=s,e.m32=p,e.m42=d,e.f=d,e.m13=a,e.m23=u,e.m33=h,e.m43=x,e.m14=m,e.m24=l,e.m34=c,e.m44=P}else if(n.length===6){let[o,r,a,m,i,s]=n;e.m11=o,e.a=o,e.m12=r,e.b=r,e.m21=a,e.c=a,e.m22=m,e.d=m,e.m41=i,e.e=i,e.m42=s,e.f=s}return e},kt=t=>{if(wt(t))return ve([t.m11,t.m12,t.m13,t.m14,t.m21,t.m22,t.m23,t.m24,t.m31,t.m32,t.m33,t.m34,t.m41,t.m42,t.m43,t.m44]);throw TypeError(`CSSMatrix: "${JSON.stringify(t)}" is not a DOMMatrix / CSSMatrix / JSON compatible object.`)},zt=t=>{if(typeof t!="string")throw TypeError(`CSSMatrix: "${JSON.stringify(t)}" is not a string.`);let e=String(t).replace(/\s/g,""),n=new M,o=`CSSMatrix: invalid transform string "${t}"`;return e.split(")").filter(r=>r).forEach(r=>{let[a,m]=r.split("(");if(!m)throw TypeError(o);let i=m.split(",").map(c=>c.includes("rad")?parseFloat(c)*(180/Math.PI):parseFloat(c)),[s,u,l,f]=i,p=[s,u,l],h=[s,u,l,f];if(a==="perspective"&&s&&[u,l].every(c=>c===void 0))n.m34=-1/s;else if(a.includes("matrix")&&[6,16].includes(i.length)&&i.every(c=>!Number.isNaN(+c))){let c=i.map(b=>Math.abs(b)<1e-6?0:b);n=n.multiply(ve(c))}else if(a==="translate3d"&&p.every(c=>!Number.isNaN(+c)))n=n.translate(s,u,l);else if(a==="translate"&&s&&l===void 0)n=n.translate(s,u||0,0);else if(a==="rotate3d"&&h.every(c=>!Number.isNaN(+c))&&f)n=n.rotateAxisAngle(s,u,l,f);else if(a==="rotate"&&s&&[u,l].every(c=>c===void 0))n=n.rotate(0,0,s);else if(a==="scale3d"&&p.every(c=>!Number.isNaN(+c))&&p.some(c=>c!==1))n=n.scale(s,u,l);else if(a==="scale"&&!Number.isNaN(s)&&(s!==1||u!==1)&&l===void 0){let c=Number.isNaN(+u)?s:u;n=n.scale(s,c,1)}else if(a==="skew"&&(s||!Number.isNaN(s)&&u)&&l===void 0)n=n.skew(s,u||0);else if(["translate","rotate","scale","skew"].some(c=>a.includes(c))&&/[XYZ]/.test(a)&&s&&[u,l].every(c=>c===void 0))if(a==="skewX"||a==="skewY")n=n[a](s);else{let c=a.replace(/[XYZ]/,""),b=a.replace(c,""),d=["X","Y","Z"].indexOf(b),x=c==="scale"?1:0,P=[d===0?s:x,d===1?s:x,d===2?s:x];n=n[c](...P)}else throw TypeError(o)}),n},ct=(t,e)=>e?[t.a,t.b,t.c,t.d,t.e,t.f]:[t.m11,t.m12,t.m13,t.m14,t.m21,t.m22,t.m23,t.m24,t.m31,t.m32,t.m33,t.m34,t.m41,t.m42,t.m43,t.m44],Rt=(t,e,n)=>{let o=new M;return o.m41=t,o.e=t,o.m42=e,o.f=e,o.m43=n,o},Vt=(t,e,n)=>{let o=new M,r=Math.PI/180,a=t*r,m=e*r,i=n*r,s=Math.cos(a),u=-Math.sin(a),l=Math.cos(m),f=-Math.sin(m),p=Math.cos(i),h=-Math.sin(i),c=l*p,b=-l*h;o.m11=c,o.a=c,o.m12=b,o.b=b,o.m13=f;let d=u*f*p+s*h;o.m21=d,o.c=d;let x=s*p-u*f*h;return o.m22=x,o.d=x,o.m23=-u*l,o.m31=u*h-s*f*p,o.m32=u*p+s*f*h,o.m33=s*l,o},Ot=(t,e,n,o)=>{let r=new M,a=Math.sqrt(t*t+e*e+n*n);if(a===0)return r;let m=t/a,i=e/a,s=n/a,u=o*(Math.PI/360),l=Math.sin(u),f=Math.cos(u),p=l*l,h=m*m,c=i*i,b=s*s,d=1-2*(c+b)*p;r.m11=d,r.a=d;let x=2*(m*i*p+s*l*f);r.m12=x,r.b=x,r.m13=2*(m*s*p-i*l*f);let P=2*(i*m*p-s*l*f);r.m21=P,r.c=P;let g=1-2*(b+h)*p;return r.m22=g,r.d=g,r.m23=2*(i*s*p+m*l*f),r.m31=2*(s*m*p+i*l*f),r.m32=2*(s*i*p-m*l*f),r.m33=1-2*(h+c)*p,r},Dt=(t,e,n)=>{let o=new M;return o.m11=t,o.a=t,o.m22=e,o.d=e,o.m33=n,o},Oe=(t,e)=>{let n=new M;if(t){let o=t*Math.PI/180,r=Math.tan(o);n.m21=r,n.c=r}if(e){let o=e*Math.PI/180,r=Math.tan(o);n.m12=r,n.b=r}return n},Et=t=>Oe(t,0),Qt=t=>Oe(0,t),Y=(t,e)=>{let n=e.m11*t.m11+e.m12*t.m21+e.m13*t.m31+e.m14*t.m41,o=e.m11*t.m12+e.m12*t.m22+e.m13*t.m32+e.m14*t.m42,r=e.m11*t.m13+e.m12*t.m23+e.m13*t.m33+e.m14*t.m43,a=e.m11*t.m14+e.m12*t.m24+e.m13*t.m34+e.m14*t.m44,m=e.m21*t.m11+e.m22*t.m21+e.m23*t.m31+e.m24*t.m41,i=e.m21*t.m12+e.m22*t.m22+e.m23*t.m32+e.m24*t.m42,s=e.m21*t.m13+e.m22*t.m23+e.m23*t.m33+e.m24*t.m43,u=e.m21*t.m14+e.m22*t.m24+e.m23*t.m34+e.m24*t.m44,l=e.m31*t.m11+e.m32*t.m21+e.m33*t.m31+e.m34*t.m41,f=e.m31*t.m12+e.m32*t.m22+e.m33*t.m32+e.m34*t.m42,p=e.m31*t.m13+e.m32*t.m23+e.m33*t.m33+e.m34*t.m43,h=e.m31*t.m14+e.m32*t.m24+e.m33*t.m34+e.m34*t.m44,c=e.m41*t.m11+e.m42*t.m21+e.m43*t.m31+e.m44*t.m41,b=e.m41*t.m12+e.m42*t.m22+e.m43*t.m32+e.m44*t.m42,d=e.m41*t.m13+e.m42*t.m23+e.m43*t.m33+e.m44*t.m43,x=e.m41*t.m14+e.m42*t.m24+e.m43*t.m34+e.m44*t.m44;return ve([n,o,r,a,m,i,s,u,l,f,p,h,c,b,d,x])},M=class{constructor(e){return this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this.m11=1,this.m12=0,this.m13=0,this.m14=0,this.m21=0,this.m22=1,this.m23=0,this.m24=0,this.m31=0,this.m32=0,this.m33=1,this.m34=0,this.m41=0,this.m42=0,this.m43=0,this.m44=1,e?this.setMatrixValue(e):this}get isIdentity(){return this.m11===1&&this.m12===0&&this.m13===0&&this.m14===0&&this.m21===0&&this.m22===1&&this.m23===0&&this.m24===0&&this.m31===0&&this.m32===0&&this.m33===1&&this.m34===0&&this.m41===0&&this.m42===0&&this.m43===0&&this.m44===1}get is2D(){return this.m31===0&&this.m32===0&&this.m33===1&&this.m34===0&&this.m43===0&&this.m44===1}setMatrixValue(e){return typeof e=="string"&&e.length&&e!=="none"?zt(e):Array.isArray(e)||e instanceof Float64Array||e instanceof Float32Array?ve(e):typeof e=="object"?kt(e):this}toFloat32Array(e){return Float32Array.from(ct(this,e))}toFloat64Array(e){return Float64Array.from(ct(this,e))}toString(){let{is2D:e}=this,n=this.toFloat64Array(e).join(", ");return`${e?"matrix":"matrix3d"}(${n})`}toJSON(){let{is2D:e,isIdentity:n}=this;return{...this,is2D:e,isIdentity:n}}multiply(e){return Y(this,e)}translate(e,n,o){let r=e,a=n,m=o;return typeof a>"u"&&(a=0),typeof m>"u"&&(m=0),Y(this,Rt(r,a,m))}scale(e,n,o){let r=e,a=n,m=o;return typeof a>"u"&&(a=e),typeof m>"u"&&(m=1),Y(this,Dt(r,a,m))}rotate(e,n,o){let r=e,a=n||0,m=o||0;return typeof e=="number"&&typeof n>"u"&&typeof o>"u"&&(m=r,r=0,a=0),Y(this,Vt(r,a,m))}rotateAxisAngle(e,n,o,r){if([e,n,o,r].some(a=>Number.isNaN(+a)))throw new TypeError("CSSMatrix: expecting 4 values");return Y(this,Ot(e,n,o,r))}skewX(e){return Y(this,Et(e))}skewY(e){return Y(this,Qt(e))}skew(e,n){return Y(this,Oe(e,n))}transformPoint(e){let n=this.m11*e.x+this.m21*e.y+this.m31*e.z+this.m41*e.w,o=this.m12*e.x+this.m22*e.y+this.m32*e.z+this.m42*e.w,r=this.m13*e.x+this.m23*e.y+this.m33*e.z+this.m43*e.w,a=this.m14*e.x+this.m24*e.y+this.m34*e.z+this.m44*e.w;return e instanceof DOMPoint?new DOMPoint(n,o,r,a):{x:n,y:o,z:r,w:a}}};q(M,"Translate",Rt),q(M,"Rotate",Vt),q(M,"RotateAxisAngle",Ot),q(M,"Scale",Dt),q(M,"SkewX",Et),q(M,"SkewY",Qt),q(M,"Skew",Oe),q(M,"Multiply",Y),q(M,"fromArray",ve),q(M,"fromMatrix",kt),q(M,"fromString",zt),q(M,"toArray",ct),q(M,"isCompatibleArray",Nt),q(M,"isCompatibleObject",wt);var yt={};te(yt,{angleBetween:()=>pt,arcLength:()=>ht,arcPoint:()=>pe,getArcBBox:()=>gt,getArcLength:()=>we,getArcProps:()=>Ee,getPointAtArcLength:()=>bt});var ft={};te(ft,{getLineBBox:()=>De,getLineLength:()=>fe,getPointAtLineLength:()=>Ne});var fr=(t,e,n)=>{let[o,r]=t,[a,m]=e;return[o+(a-o)*n,r+(m-r)*n]},I=fr;var pr=(t,e)=>Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])),ce=pr;var fe=(t,e,n,o)=>ce([t,e],[n,o]),Ne=(t,e,n,o,r)=>{let a={x:t,y:e};if(typeof r=="number"){let m=ce([t,e],[n,o]);if(r<=0)a={x:t,y:e};else if(r>=m)a={x:n,y:o};else{let[i,s]=I([t,e],[n,o],r/m);a={x:i,y:s}}}return a},De=(t,e,n,o)=>{let{min:r,max:a}=Math;return[r(t,n),r(e,o),a(t,n),a(e,o)]};var ht=(t,e,n)=>{let o=n/2,r=Math.sin(o),a=Math.cos(o),m=t**2*r**2,i=e**2*a**2,s=Math.sqrt(m+i)*n;return Math.abs(s)},pe=(t,e,n,o,r,a)=>{let{sin:m,cos:i}=Math,s=i(r),u=m(r),l=n*i(a),f=o*m(a);return[t+s*l-u*f,e+u*l+s*f]},pt=(t,e)=>{let{x:n,y:o}=t,{x:r,y:a}=e,m=n*r+o*a,i=Math.sqrt((n**2+o**2)*(r**2+a**2));return(n*a-o*r<0?-1:1)*Math.acos(m/i)},Ee=(t,e,n,o,r,a,m,i,s)=>{let{abs:u,sin:l,cos:f,sqrt:p,PI:h}=Math,c=u(n),b=u(o),x=(r%360+360)%360*(h/180);if(t===i&&e===s)return{rx:c,ry:b,startAngle:0,endAngle:0,center:{x:i,y:s}};if(c===0||b===0)return{rx:c,ry:b,startAngle:0,endAngle:0,center:{x:(i+t)/2,y:(s+e)/2}};let P=(t-i)/2,g=(e-s)/2,y={x:f(x)*P+l(x)*g,y:-l(x)*P+f(x)*g},S=y.x**2/c**2+y.y**2/b**2;S>1&&(c*=p(S),b*=p(S));let C=c**2*b**2-c**2*y.y**2-b**2*y.x**2,R=c**2*y.y**2+b**2*y.x**2,O=C/R;O=O<0?0:O;let k=(a!==m?1:-1)*p(O),N={x:k*(c*y.y/b),y:k*(-(b*y.x)/c)},B={x:f(x)*N.x-l(x)*N.y+(t+i)/2,y:l(x)*N.x+f(x)*N.y+(e+s)/2},ue={x:(y.x-N.x)/c,y:(y.y-N.y)/b},D=pt({x:1,y:0},ue),A={x:(-y.x-N.x)/c,y:(-y.y-N.y)/b},E=pt(ue,A);!m&&E>0?E-=2*h:m&&E<0&&(E+=2*h),E%=2*h;let Z=D+E;return{center:B,startAngle:D,endAngle:Z,rx:c,ry:b}},we=(t,e,n,o,r,a,m,i,s)=>{let{rx:u,ry:l,startAngle:f,endAngle:p}=Ee(t,e,n,o,r,a,m,i,s);return ht(u,l,p-f)},bt=(t,e,n,o,r,a,m,i,s,u)=>{let l={x:t,y:e},{center:f,rx:p,ry:h,startAngle:c,endAngle:b}=Ee(t,e,n,o,r,a,m,i,s);if(typeof u=="number"){let d=ht(p,h,b-c);if(u<=0)l={x:t,y:e};else if(u>=d)l={x:i,y:s};else{if(t===i&&e===s)return{x:i,y:s};if(p===0||h===0)return Ne(t,e,i,s,u);let{PI:x,cos:P,sin:g}=Math,y=b-c,C=(r%360+360)%360*(x/180),R=c+y*(u/d),O=p*P(R),k=h*g(R);l={x:P(C)*O-g(C)*k+f.x,y:g(C)*O+P(C)*k+f.y}}}return l},gt=(t,e,n,o,r,a,m,i,s)=>{let{center:u,rx:l,ry:f,startAngle:p,endAngle:h}=Ee(t,e,n,o,r,a,m,i,s),c=h-p,{min:b,max:d,tan:x,atan2:P,PI:g}=Math,{x:y,y:S}=u,C=r*g/180,R=x(C),O=P(-f*R,l),k=O,N=O+g,B=P(f,l*R),ue=B+g,D=[i],A=[s],E=b(t,i),Z=d(t,i),$=b(e,s),X=d(e,s),de=h-c*1e-5,le=pe(y,S,l,f,C,de),w=h-c*.99999,Q=pe(y,S,l,f,C,w);if(le[0]>Z||Q[0]>Z){let z=pe(y,S,l,f,C,k);D.push(z[0]),A.push(z[1])}if(le[0]<E||Q[0]<E){let z=pe(y,S,l,f,C,N);D.push(z[0]),A.push(z[1])}if(le[1]<$||Q[1]<$){let z=pe(y,S,l,f,C,ue);D.push(z[0]),A.push(z[1])}if(le[1]>X||Q[1]>X){let z=pe(y,S,l,f,C,B);D.push(z[0]),A.push(z[1])}return E=b.apply([],D),$=b.apply([],A),Z=d.apply([],D),X=d.apply([],A),[E,$,Z,X]};var xt={};te(xt,{CBEZIER_MINMAX_EPSILON:()=>Zt,Cvalues:()=>qt,Tvalues:()=>dt,bezierLength:()=>Bt,calculateBezier:()=>jt,computeBezier:()=>$t,deriveBezier:()=>It,getBezierLength:()=>he,minmaxC:()=>Qe,minmaxQ:()=>ke});var dt=[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],qt=[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],It=t=>{let e=[];for(let n=t,o=n.length,r=o-1;o>1;o-=1,r-=1){let a=[];for(let m=0;m<r;m+=1)a.push({x:r*(n[m+1].x-n[m].x),y:r*(n[m+1].y-n[m].y),t:0});e.push(a),n=a}return e},$t=(t,e)=>{if(e===0)return t[0].t=0,t[0];let n=t.length-1;if(e===1)return t[n].t=1,t[n];let o=1-e,r=t;if(n===0)return t[0].t=e,t[0];if(n===1)return{x:o*r[0].x+e*r[1].x,y:o*r[0].y+e*r[1].y,t:e};let a=o*o,m=e*e,i=0,s=0,u=0,l=0;return n===2?(r=[r[0],r[1],r[2],{x:0,y:0}],i=a,s=o*e*2,u=m):n===3&&(i=a*o,s=a*e*3,u=o*m*3,l=e*m),{x:i*r[0].x+s*r[1].x+u*r[2].x+l*r[3].x,y:i*r[0].y+s*r[1].y+u*r[2].y+l*r[3].y,t:e}},jt=(t,e)=>{let n=t(e),o=n.x*n.x+n.y*n.y;return Math.sqrt(o)},Bt=t=>{let n=dt.length,o=0;for(let r=0,a;r<n;r++)a=.5*dt[r]+.5,o+=qt[r]*jt(t,a);return .5*o},he=t=>{let e=[];for(let o=0,r=t.length,a=2;o<r;o+=a)e.push({x:t[o],y:t[o+1]});let n=It(e);return Bt(o=>$t(n[0],o))},Zt=1e-8,ke=([t,e,n])=>{let o=Math.min(t,n),r=Math.max(t,n);if(e>=t?n>=e:n<=e)return[o,r];let a=(t*n-e*e)/(t-2*e+n);return a<o?[a,r]:[o,a]},Qe=([t,e,n,o])=>{let r=t-3*e+3*n-o;if(Math.abs(r)<Zt)return t===o&&t===e?[t,o]:ke([t,-.5*t+1.5*e,t-3*e+3*n]);let a=-t*n+t*o-e*n-e*o+e*e+n*n;if(a<=0)return[Math.min(t,o),Math.max(t,o)];let m=Math.sqrt(a),i=Math.min(t,o),s=Math.max(t,o),u=t-2*e+n;for(let l=(u+m)/r,f=1;f<=2;l=(u-m)/r,f++){if(l>0&&l<1){let p=t*(1-l)*(1-l)*(1-l)+e*3*(1-l)*(1-l)*l+n*3*(1-l)*l*l+o*l*l*l;p<i&&(i=p),p>s&&(s=p)}}return[i,s]};var St={};te(St,{getCubicBBox:()=>qe,getCubicLength:()=>xe,getPointAtCubicLength:()=>Pt,getPointAtCubicSegmentLength:()=>Ht});var Ht=([t,e,n,o,r,a,m,i],s)=>{let u=1-s;return{x:u**3*t+3*u**2*s*n+3*u*s**2*r+s**3*m,y:u**3*e+3*u**2*s*o+3*u*s**2*a+s**3*i}},xe=(t,e,n,o,r,a,m,i)=>he([t,e,n,o,r,a,m,i]),Pt=(t,e,n,o,r,a,m,i,s)=>{let u=typeof s=="number",l={x:t,y:e};if(u){let f=he([t,e,n,o,r,a,m,i]);s<=0||(s>=f?l={x:m,y:i}:l=Ht([t,e,n,o,r,a,m,i],s/f))}return l},qe=(t,e,n,o,r,a,m,i)=>{let s=Qe([t,n,r,m]),u=Qe([e,o,a,i]);return[s[0],u[0],s[1],u[1]]};var Ct={};te(Ct,{getPointAtQuadLength:()=>At,getPointAtQuadSegmentLength:()=>Ft,getQuadBBox:()=>Ie,getQuadLength:()=>Pe});var Ft=([t,e,n,o,r,a],m)=>{let i=1-m;return{x:i**2*t+2*i*m*n+m**2*r,y:i**2*e+2*i*m*o+m**2*a}},Pe=(t,e,n,o,r,a)=>he([t,e,n,o,r,a]),At=(t,e,n,o,r,a,m)=>{let i=typeof m=="number",s={x:t,y:e};if(i){let u=he([t,e,n,o,r,a]);m<=0||(m>=u?s={x:r,y:a}:s=Ft([t,e,n,o,r,a],m/u))}return s},Ie=(t,e,n,o,r,a)=>{let m=ke([t,n,r]),i=ke([e,o,a]);return[m[0],i[0],m[1],i[1]]};var Mt={};te(Mt,{polygonArea:()=>hr,polygonLength:()=>br});var hr=t=>{let e=t.length,n=-1,o,r=t[e-1],a=0;for(;++n<e;)o=r,r=t[n],a+=o[1]*r[0]-o[0]*r[1];return a/2},br=t=>t.reduce((e,n,o)=>o?e+ce(t[o-1],n):0,0);var gr={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},G=gr;var yr=t=>{let e=t.pathValue[t.segmentStart],n=e.toLowerCase(),{data:o}=t;for(;o.length>=G[n]&&(n==="m"&&o.length>2?(t.segments.push([e].concat(o.splice(0,2))),n="l",e=e==="m"?"l":"L"):t.segments.push([e].concat(o.splice(0,G[n]))),!!G[n]););},ze=yr;var dr="SVGPathCommander Error",V=dr;var xr=t=>{let{index:e,pathValue:n}=t,o=n.charCodeAt(e);if(o===48){t.param=0,t.index+=1;return}if(o===49){t.param=1,t.index+=1;return}t.err=`${V}: invalid Arc flag "${n[e]}", expecting 0 or 1 at index ${e}`},$e=xr;var Pr=t=>t>=48&&t<=57,H=Pr;var Sr="Invalid path value",F=Sr;var Ar=t=>{let{max:e,pathValue:n,index:o}=t,r=o,a=!1,m=!1,i=!1,s=!1,u;if(r>=e){t.err=`${V}: ${F} at index ${r}, "pathValue" is missing param`;return}if(u=n.charCodeAt(r),(u===43||u===45)&&(r+=1,u=n.charCodeAt(r)),!H(u)&&u!==46){t.err=`${V}: ${F} at index ${r}, "${n[r]}" is not a number`;return}if(u!==46){if(a=u===48,r+=1,u=n.charCodeAt(r),a&&r<e&&u&&H(u)){t.err=`${V}: ${F} at index ${o}, "${n[o]}" illegal number`;return}for(;r<e&&H(n.charCodeAt(r));)r+=1,m=!0;u=n.charCodeAt(r)}if(u===46){for(s=!0,r+=1;H(n.charCodeAt(r));)r+=1,i=!0;u=n.charCodeAt(r)}if(u===101||u===69){if(s&&!m&&!i){t.err=`${V}: ${F} at index ${r}, "${n[r]}" invalid float exponent`;return}if(r+=1,u=n.charCodeAt(r),(u===43||u===45)&&(r+=1),r<e&&H(n.charCodeAt(r)))for(;r<e&&H(n.charCodeAt(r));)r+=1;else{t.err=`${V}: ${F} at index ${r}, "${n[r]}" invalid integer exponent`;return}}t.index=r,t.param=+t.pathValue.slice(o,r)},je=Ar;var Cr=t=>[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279,10,13,8232,8233,32,9,11,12,160].includes(t),Be=Cr;var Mr=t=>{let{pathValue:e,max:n}=t;for(;t.index<n&&Be(e.charCodeAt(t.index));)t.index+=1},_=Mr;var Tr=t=>{switch(t|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}},Ze=Tr;var Lr=t=>H(t)||t===43||t===45||t===46,He=Lr;var vr=t=>(t|32)===97,Fe=vr;var Nr=t=>{switch(t|32){case 109:case 77:return!0;default:return!1}},Ge=Nr;var wr=t=>{let{max:e,pathValue:n,index:o,segments:r}=t,a=n.charCodeAt(o),m=G[n[o].toLowerCase()];if(t.segmentStart=o,!Ze(a)){t.err=`${V}: ${F} "${n[o]}" is not a path command at index ${o}`;return}let i=r[r.length-1];if(!Ge(a)&&i?.[0]?.toLocaleLowerCase()==="z"){t.err=`${V}: ${F} "${n[o]}" is not a MoveTo path command at index ${o}`;return}if(t.index+=1,_(t),t.data=[],!m){ze(t);return}for(;;){for(let s=m;s>0;s-=1){if(Fe(a)&&(s===3||s===4)?$e(t):je(t),t.err.length)return;t.data.push(t.param),_(t),t.index<e&&n.charCodeAt(t.index)===44&&(t.index+=1,_(t))}if(t.index>=t.max||!He(n.charCodeAt(t.index)))break}ze(t)},Se=wr;var ee=class{constructor(e){this.segments=[],this.pathValue=e,this.max=e.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}};var kr=t=>{if(typeof t!="string")return t.slice(0);let e=new ee(t);for(_(e);e.index<e.max&&!e.err.length;)Se(e);if(!e.err.length)e.segments.length&&(e.segments[0][0]="M");else throw TypeError(e.err);return e.segments},T=kr;var zr=(t,e,n,o)=>{let[r]=t,a=r.toUpperCase(),m=a===r;if(e===0||m)return t;if(a==="A")return[a,t[1],t[2],t[3],t[4],t[5],t[6]+n,t[7]+o];if(a==="V")return[a,t[1]+o];if(a==="H")return[a,t[1]+n];if(a==="L")return[a,t[1]+n,t[2]+o];{let i=[],s=t.length;for(let u=1;u<s;u+=1)i.push(t[u]+(u%2?n:o));return[a].concat(i)}},U=zr;var Rr=(t,e)=>{let n=t.length,o,r="M",a="M",m=!1,i=0,s=0,u=0,l=0,f=0;for(let p=0;p<n;p+=1){o=t[p],[r]=o,f=o.length,a=r.toUpperCase(),m=a!==r;let h=e(o,p,i,s);if(h===!1)break;a==="Z"?(i=u,s=l):a==="H"?i=o[1]+(m?i:0):a==="V"?s=o[1]+(m?s:0):(i=o[f-2]+(m?i:0),s=o[f-1]+(m?s:0),a==="M"&&(u=i,l=s)),h&&(t[p]=h,h[0]==="C"&&(n=t.length))}return t},L=Rr;var Vr=t=>{let e=T(t);return L(e,U)},re=Vr;var Or=(t,e,n,o)=>{let[r]=t,a=r.toLowerCase(),m=r===a;if(e===0||m)return t;if(a==="a")return[a,t[1],t[2],t[3],t[4],t[5],t[6]-n,t[7]-o];if(a==="v")return[a,t[1]-o];if(a==="h")return[a,t[1]-n];if(a==="l")return[a,t[1]-n,t[2]-o];{let i=[],s=t.length;for(let u=1;u<s;u+=1)i.push(t[u]-(u%2?n:o));return[a].concat(i)}},Ae=Or;var Dr=t=>{let e=T(t);return L(e,Ae)},_e=Dr;var Er=(t,e,n)=>{let{sin:o,cos:r}=Math,a=t*r(n)-e*o(n),m=t*o(n)+e*r(n);return{x:a,y:m}},be=Er;var Gt=(t,e,n,o,r,a,m,i,s,u)=>{let l=t,f=e,p=n,h=o,c=i,b=s,d=Math.PI*120/180,x=Math.PI/180*(+r||0),P=[],g,y,S,C,R;if(u)[y,S,C,R]=u;else{g=be(l,f,-x),l=g.x,f=g.y,g=be(c,b,-x),c=g.x,b=g.y;let w=(l-c)/2,Q=(f-b)/2,z=w*w/(p*p)+Q*Q/(h*h);z>1&&(z=Math.sqrt(z),p*=z,h*=z);let it=p*p,ut=h*h,vt=(a===m?-1:1)*Math.sqrt(Math.abs((it*ut-it*Q*Q-ut*w*w)/(it*Q*Q+ut*w*w)));C=vt*p*Q/h+(l+c)/2,R=vt*-h*w/p+(f+b)/2,y=Math.asin(((f-R)/h*10**9>>0)/10**9),S=Math.asin(((b-R)/h*10**9>>0)/10**9),y=l<C?Math.PI-y:y,S=c<C?Math.PI-S:S,y<0&&(y=Math.PI*2+y),S<0&&(S=Math.PI*2+S),m&&y>S&&(y-=Math.PI*2),!m&&S>y&&(S-=Math.PI*2)}let O=S-y;if(Math.abs(O)>d){let w=S,Q=c,z=b;S=y+d*(m&&S>y?1:-1),c=C+p*Math.cos(S),b=R+h*Math.sin(S),P=Gt(c,b,p,h,r,0,m,Q,z,[S,w,C,R])}O=S-y;let k=Math.cos(y),N=Math.sin(y),B=Math.cos(S),ue=Math.sin(S),D=Math.tan(O/4),A=4/3*p*D,E=4/3*h*D,Z=[l,f],$=[l+A*N,f-E*k],X=[c+A*ue,b-E*B],de=[c,b];if($[0]=2*Z[0]-$[0],$[1]=2*Z[1]-$[1],u)return[$[0],$[1],X[0],X[1],de[0],de[1]].concat(P);P=[$[0],$[1],X[0],X[1],de[0],de[1]].concat(P);let le=[];for(let w=0,Q=P.length;w<Q;w+=1)le[w]=w%2?be(P[w-1],P[w],x).y:be(P[w],P[w+1],x).x;return le},Ce=Gt;var Qr=(t,e,n,o,r,a)=>{let m=.3333333333333333,i=2/3;return[m*t+i*n,m*e+i*o,m*r+i*n,m*a+i*o,r,a]},Ue=Qr;var qr=(t,e,n,o)=>{let r=I([t,e],[n,o],.3333333333333333),a=I([t,e],[n,o],2/3);return[r[0],r[1],a[0],a[1],n,o]},Re=qr;var Ir=(t,e)=>{let[n]=t,o=t.slice(1).map(Number),[r,a]=o,{x1:m,y1:i,x:s,y:u}=e;return"TQ".includes(n)||(e.qx=null,e.qy=null),n==="M"?(e.x=r,e.y=a,t):n==="A"?["C"].concat(Ce(m,i,o[0],o[1],o[2],o[3],o[4],o[5],o[6])):n==="Q"?(e.qx=r,e.qy=a,["C"].concat(Ue(m,i,o[0],o[1],o[2],o[3]))):n==="L"?["C"].concat(Re(m,i,r,a)):n==="Z"?["C"].concat(Re(m,i,s,u)):t},Je=Ir;var $r=(t,e)=>{let[n]=t,o=n.toUpperCase(),r=n!==o,{x1:a,y1:m,x2:i,y2:s,x:u,y:l}=e,f=t.slice(1),p=f.map((h,c)=>h+(r?c%2?l:u:0));"TQ".includes(o)||(e.qx=null,e.qy=null);if(o==="A")return p=f.slice(0,-2).concat(f[5]+(r?u:0),f[6]+(r?l:0)),["A"].concat(p);if(o==="H")return["L",t[1]+(r?u:0),m];if(o==="V")return["L",a,t[1]+(r?l:0)];if(o==="L")return["L",t[1]+(r?u:0),t[2]+(r?l:0)];if(o==="M")return["M",t[1]+(r?u:0),t[2]+(r?l:0)];if(o==="C")return["C"].concat(p);if(o==="S"){let h=a*2-i,c=m*2-s;return e.x1=h,e.y1=c,["C",h,c].concat(p)}else if(o==="T"){let h=a*2-(e.qx?e.qx:0),c=m*2-(e.qy?e.qy:0);return e.qx=h,e.qy=c,["Q",h,c].concat(p)}else if(o==="Q"){let[h,c]=p;return e.qx=h,e.qy=c,["Q"].concat(p)}else if(o==="Z")return["Z"];return t},ne=$r;var jr={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},J=jr;var Br=t=>{let e={...J},n=T(t);return L(n,(o,r,a,m)=>{e.x=a,e.y=m;let i=ne(o,e),s=Je(i,e);s[0]==="C"&&s.length>7&&(n.splice(r+1,0,["C"].concat(s.slice(7))),s=s.slice(0,7));let l=s.length;return e.x1=+s[l-2],e.y1=+s[l-1],e.x2=+s[l-4]||e.x1,e.y2=+s[l-3]||e.y1,s})},oe=Br;var Zr={origin:[0,0,0],round:4},j=Zr;var Hr=(t,e)=>{let n=e>=1?10**e:1;return e>0?Math.round(t*n)/n:Math.round(t)},v=Hr;var Fr=(t,e)=>{let n=t.length,{round:o}=j,r=t[0],a="";o=e==="off"||typeof e=="number"&&e>=0?e:typeof o=="number"&&o>=0?o:"off";for(let m=0;m<n;m+=1){r=t[m];let[i]=r,s=r.slice(1);if(a+=i,o==="off")a+=s.join(" ");else{let u=0,l=s.length;for(;u<l;)a+=v(s[u],o),u!==l-1&&(a+=" "),u+=1}}return a},Me=Fr;var ge=1e-5;var Gr=t=>{let e=T(t),n={...J};return L(e,(o,r,a,m)=>{n.x=a,n.y=m;let i=ne(o,n),s=i.length;return n.x1=+i[s-2],n.y1=+i[s-1],n.x2=+i[s-4]||n.x1,n.y2=+i[s-3]||n.y1,i})},K=Gr;var _r=(t,e)=>{let n=K(t),o=!1,r=[],a="M",m=0,i=0,[s,u]=n[0].slice(1),l=typeof e=="number",f={x:s,y:u},p=0,h=f,c=0;return!l||e<ge?f:(L(n,(b,d,x,P)=>{[a]=b,o=a==="M",r=o?r:[x,P].concat(b.slice(1));if(o?([,s,u]=b,f={x:s,y:u},p=0):a==="L"?(f=Ne(r[0],r[1],r[2],r[3],e-c),p=fe(r[0],r[1],r[2],r[3])):a==="A"?(f=bt(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],e-c),p=we(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8])):a==="C"?(f=Pt(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],e-c),p=xe(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7])):a==="Q"?(f=At(r[0],r[1],r[2],r[3],r[4],r[5],e-c),p=Pe(r[0],r[1],r[2],r[3],r[4],r[5])):a==="Z"&&(r=[x,P,s,u],f={x:s,y:u},p=fe(r[0],r[1],r[2],r[3])),[m,i]=r.slice(-2),c<e)h=f;else return!1;c+=p}),e>c-ge?{x:m,y:i}:h)},ae=_r;var Ur=t=>{let e=T(t),n=0,o=0,r=0,a=0,m=0,i=0,s="M",u=0,l=0,f=0;return L(e,(p,h,c,b)=>{[s]=p;let d=s.toUpperCase(),P=d!==s?U(p,h,c,b):p.slice(0),g=d==="V"?["L",c,P[1]]:d==="H"?["L",P[1],b]:P;[s]=g,"TQ".includes(d)||(m=0,i=0);if(s==="M")[,u,l]=g;else if(s==="L")f+=fe(c,b,g[1],g[2]);else if(s==="A")f+=we(c,b,g[1],g[2],g[3],g[4],g[5],g[6],g[7]);else if(s==="S"){let y=n*2-r,S=o*2-a;f+=xe(c,b,y,S,g[1],g[2],g[3],g[4])}else s==="C"?f+=xe(c,b,g[1],g[2],g[3],g[4],g[5],g[6]):s==="T"?(m=n*2-m,i=o*2-i,f+=Pe(c,b,m,i,g[1],g[2])):s==="Q"?(m=g[1],i=g[2],f+=Pe(c,b,g[1],g[2],g[3],g[4])):s==="Z"&&(f+=fe(c,b,u,l));[n,o]=s==="Z"?[u,l]:g.slice(-2),[r,a]=s==="C"?[g[3],g[4]]:s==="S"?[g[1],g[2]]:[n,o]}),f},W=Ur;var Jr=(t,e)=>{let n=T(t),o=n.slice(0),r=W(o),a=o.length-1,m=0,i=0,s=n[0];if(a<=0||!e||!Number.isFinite(e))return{segment:s,index:0,length:i,lengthAtSegment:m};if(e>=r)return o=n.slice(0,-1),m=W(o),i=r-m,s=n[a],{segment:s,index:a,length:i,lengthAtSegment:m};let u=[];for(;a>0;)s=o[a],o=o.slice(0,-1),m=W(o),i=r-m,r=m,u.push({segment:s,index:a,length:i,lengthAtSegment:m}),a-=1;return u.find(({lengthAtSegment:l})=>l<=e)},Te=Jr;var Kr=(t,e)=>{let n=T(t),o=K(n),r=W(o),a=y=>{let S=y.x-e.x,C=y.y-e.y;return S*S+C*C},m=8,i,s={x:0,y:0},u=0,l=0,f=1/0;for(let y=0;y<=r;y+=m)i=ae(o,y),u=a(i),u<f&&(s=i,l=y,f=u);m/=2;let p,h,c=0,b=0,d=0,x=0;for(;m>1e-6&&(c=l-m,p=ae(o,c),d=a(p),b=l+m,h=ae(o,b),x=a(h),c>=0&&d<f?(s=p,l=c,f=d):b<=r&&x<f?(s=h,l=b,f=x):m/=2,!(m<1e-5)););let P=Te(n,l),g=Math.sqrt(f);return{closest:s,distance:g,segment:P}},me=Kr;var Wr=(t,e)=>me(t,e).closest,_t=Wr;var Xr=(t,e,n,o,r,a,m,i)=>3*((i-e)*(n+r)-(m-t)*(o+a)+o*(t-r)-n*(e-a)+i*(r+t/3)-m*(a+e/3))/20,Yr=t=>{let e=0,n=0,o=0;return oe(t).map(r=>{switch(r[0]){case"M":return[,e,n]=r,0;default:return o=Xr(e,n,r[1],r[2],r[3],r[4],r[5],r[6]),[e,n]=r.slice(-2),o}}).reduce((r,a)=>r+a,0)},Ke=Yr;var en=t=>Ke(oe(t))>=0,Ut=en;var tn=t=>{if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0,cx:0,cy:0,cz:0};let e=T(t),n="M",o=0,r=0,{max:a,min:m}=Math,i=1/0,s=1/0,u=-1/0,l=-1/0,f=0,p=0,h=0,c=0,b=0,d=0,x=0,P=0,g=0,y=0;L(e,(R,O,k,N)=>{[n]=R;let B=n.toUpperCase(),D=B!==n?U(R,O,k,N):R.slice(0),A=B==="V"?["L",k,D[1]]:B==="H"?["L",D[1],N]:D;[n]=A,"TQ".includes(B)||(g=0,y=0);if(n==="M")[,o,r]=A,f=o,p=r,h=o,c=r;else if(n==="L")[f,p,h,c]=De(k,N,A[1],A[2]);else if(n==="A")[f,p,h,c]=gt(k,N,A[1],A[2],A[3],A[4],A[5],A[6],A[7]);else if(n==="S"){let E=b*2-x,Z=d*2-P;[f,p,h,c]=qe(k,N,E,Z,A[1],A[2],A[3],A[4])}else n==="C"?[f,p,h,c]=qe(k,N,A[1],A[2],A[3],A[4],A[5],A[6]):n==="T"?(g=b*2-g,y=d*2-y,[f,p,h,c]=Ie(k,N,g,y,A[1],A[2])):n==="Q"?(g=A[1],y=A[2],[f,p,h,c]=Ie(k,N,A[1],A[2],A[3],A[4])):n==="Z"&&([f,p,h,c]=De(k,N,o,r));i=m(f,i),s=m(p,s),u=a(h,u),l=a(c,l),[b,d]=n==="Z"?[o,r]:A.slice(-2),[x,P]=n==="C"?[A[3],A[4]]:n==="S"?[A[1],A[2]]:[b,d]});let S=u-i,C=l-s;return{width:S,height:C,x:i,y:s,x2:u,y2:l,cx:i+S/2,cy:s+C/2,cz:Math.max(S,C)+Math.min(S,C)/2}},We=tn;var rn=(t,e)=>Te(t,e).segment,Jt=rn;var nn=(t,e)=>me(t,e).segment,Kt=nn;var on=t=>Array.isArray(t)&&t.every(e=>{let n=e[0].toLowerCase();return G[n]===e.length-1&&"achlmqstvz".includes(n)&&e.slice(1).every(Number.isFinite)})&&t.length>0,se=on;var an=t=>se(t)&&t.every(([e])=>e===e.toUpperCase()),Xe=an;var mn=t=>Xe(t)&&t.every(([e])=>"ACLMQZ".includes(e)),Ye=mn;var sn=t=>Ye(t)&&t.every(([e])=>"MC".includes(e)),Wt=sn;var un=(t,e)=>{let{distance:n}=me(t,e);return Math.abs(n)<ge},Xt=un;var ln=t=>se(t)&&t.slice(1).every(([e])=>e===e.toLowerCase()),Yt=ln;var cn=t=>{if(typeof t!="string"||!t.length)return!1;let e=new ee(t);for(_(e);e.index<e.max&&!e.err.length;)Se(e);return!e.err.length&&"mM".includes(e.segments[0][0])},et=cn;var fn={line:["x1","y1","x2","y2"],circle:["cx","cy","r"],ellipse:["cx","cy","rx","ry"],rect:["width","height","x","y","rx","ry"],polygon:["points"],polyline:["points"],glyph:["d"]},ie=fn;var pn=t=>t!=null&&typeof t=="object"&&t.nodeType===1,tt=pn;var hn=t=>{let{x1:e,y1:n,x2:o,y2:r}=t;return[e,n,o,r]=[e,n,o,r].map(a=>+a),[["M",e,n],["L",o,r]]},bn=t=>{let e=[],n=(t.points||"").trim().split(/[\s|,]/).map(r=>+r),o=0;for(;o<n.length;)e.push([o?"L":"M",n[o],n[o+1]]),o+=2;return t.type==="polygon"?[...e,["z"]]:e},gn=t=>{let{cx:e,cy:n,r:o}=t;return[e,n,o]=[e,n,o].map(r=>+r),[["M",e-o,n],["a",o,o,0,1,0,2*o,0],["a",o,o,0,1,0,-2*o,0]]},yn=t=>{let{cx:e,cy:n}=t,o=t.rx||0,r=t.ry||o;return[e,n,o,r]=[e,n,o,r].map(a=>+a),[["M",e-o,n],["a",o,r,0,1,0,2*o,0],["a",o,r,0,1,0,-2*o,0]]},dn=t=>{let e=+t.x||0,n=+t.y||0,o=+t.width,r=+t.height,a=+(t.rx||0),m=+(t.ry||a);if(a||m){a*2>o&&(a-=(a*2-o)/2);return m*2>r&&(m-=(m*2-r)/2),[["M",e+a,n],["h",o-a*2],["s",a,0,a,m],["v",r-m*2],["s",0,m,-a,m],["h",-o+a*2],["s",-a,0,-a,-m],["v",-r+m*2],["s",0,-m,a,-m]]}return[["M",e,n],["h",o],["v",r],["H",e],["Z"]]},xn=t=>{let e=Object.keys(ie),n=tt(t),o=n?t.tagName:null;if(o&&[...e,"path"].every(s=>o!==s))throw TypeError(`${V}: "${o}" is not SVGElement`);let r=n?o:t.type,a=ie[r],m={type:r};n?a.forEach(s=>{m[s]=t.getAttribute(s)}):Object.assign(m,t);let i=[];return r==="circle"?i=gn(m):r==="ellipse"?i=yn(m):["polyline","polygon"].includes(r)?i=bn(m):r==="rect"?i=dn(m):r==="line"?i=hn(m):["glyph","path"].includes(r)&&(i=T(n?t.getAttribute("d")||"":t.d||"")),se(i)&&i.length?i:!1},rt=xn;var Pn=(t,e,n)=>{let o=n||document,r=Object.keys(ie),a=tt(t),m=a?t.tagName:null;if(m==="path")throw TypeError(`${V}: "${m}" is already SVGPathElement`);if(m&&r.every(c=>m!==c))throw TypeError(`${V}: "${m}" is not SVGElement`);let i=o.createElementNS("http://www.w3.org/2000/svg","path"),s=a?m:t.type,u=ie[s],l={type:s},f=j.round,p=rt(t),h=p&&p.length?Me(p,f):"";return a?(u.forEach(c=>{l[c]=t.getAttribute(c)}),Object.values(t.attributes).forEach(({name:c,value:b})=>{u.includes(c)||i.setAttribute(c,b)})):(Object.assign(l,t),Object.keys(l).forEach(c=>{!u.includes(c)&&c!=="type"&&i.setAttribute(c.replace(/[A-Z]/g,b=>`-${b.toLowerCase()}`),l[c])})),et(h)?(i.setAttribute("d",h),e&&a&&(t.before(i,t),t.remove()),i):!1},er=Pn;var Sn=t=>{let e=new M,{origin:n}=t,[o,r]=n,{translate:a}=t,{rotate:m}=t,{skew:i}=t,{scale:s}=t;return Array.isArray(a)&&a.length>=2&&a.every(u=>!Number.isNaN(+u))&&a.some(u=>u!==0)?e=e.translate(...a):typeof a=="number"&&!Number.isNaN(a)&&(e=e.translate(a)),(m||i||s)&&(e=e.translate(o,r),Array.isArray(m)&&m.length>=2&&m.every(u=>!Number.isNaN(+u))&&m.some(u=>u!==0)?e=e.rotate(...m):typeof m=="number"&&!Number.isNaN(m)&&(e=e.rotate(m)),Array.isArray(i)&&i.length===2&&i.every(u=>!Number.isNaN(+u))&&i.some(u=>u!==0)?(e=i[0]?e.skewX(i[0]):e,e=i[1]?e.skewY(i[1]):e):typeof i=="number"&&!Number.isNaN(i)&&(e=e.skewX(i)),Array.isArray(s)&&s.length>=2&&s.every(u=>!Number.isNaN(+u))&&s.some(u=>u!==1)?e=e.scale(...s):typeof s=="number"&&!Number.isNaN(s)&&(e=e.scale(s)),e=e.translate(-o,-r)),e},nt=Sn;var An=(t,e,n,o)=>{let[r]=t,{round:a}=j,m=typeof a=="number"?a:4,i=e.slice(1),{x1:s,y1:u,x2:l,y2:f,x:p,y:h}=n,[c,b]=i.slice(-2),d=t;if("TQ".includes(r)||(n.qx=null,n.qy=null),r==="L"){if(v(p,m)===v(c,m))return["V",b];if(v(h,m)===v(b,m))return["H",c]}else if(r==="C"){let[x,P]=i;if(n.x1=x,n.y1=P,"CS".includes(o)&&(v(x,m)===v(s*2-l,m)&&v(P,m)===v(u*2-f,m)||v(s,m)===v(l*2-p,m)&&v(u,m)===v(f*2-h,m)))return["S",i[2],i[3],i[4],i[5]]}else if(r==="Q"){let[x,P]=i;if(n.qx=x,n.qy=P,"QT".includes(o)&&v(x,m)===v(s*2-l,m)&&v(P,m)===v(u*2-f,m))return["T",i[2],i[3]]}return d},ot=An;var Cn=(t,e)=>{let n=t.slice(1).map(o=>v(o,e));return[t[0]].concat(n)},ye=Cn;var Mn=(t,e)=>{let n=re(t),o=typeof e=="number"&&e>=0?e:2,r={...J},a=[],m="M",i="Z";return L(n,(s,u,l,f)=>{r.x=l,r.y=f;let p=ne(s,r),h=s;if([m]=s,a[u]=m,u){i=a[u-1];let b=ot(s,p,r,i),d=ye(b,o),x=d.join(""),P=Ae(b,u,l,f),g=ye(P,o),y=g.join("");h=x.length<y.length?d:g}let c=p.length;return r.x1=+p[c-2],r.y1=+p[c-1],r.x2=+p[c-4]||r.x1,r.y2=+p[c-3]||r.y1,h})},at=Mn;var Tn=(t,e)=>{let n=M.Translate(e[0],e[1],e[2]);return[,,,n.m44]=e,n=t.multiply(n),[n.m41,n.m42,n.m43,n.m44]},Ln=(t,e,n)=>{let[o,r,a]=n,[m,i,s]=Tn(t,[e[0],e[1],0,1]),u=m-o,l=i-r,f=s-a;return[u*(Math.abs(a)/Math.abs(f)||1)+o,l*(Math.abs(a)/Math.abs(f)||1)+r]},Ve=Ln;var vn=t=>{let e=t.slice(1).map((n,o,r)=>o?r[o-1].slice(-2).concat(n.slice(1)):t[0].slice(1).concat(n.slice(1))).map(n=>n.map((o,r)=>n[n.length-r-2*(1-r%2)])).reverse();return[["M"].concat(e[0].slice(0,2))].concat(e.map(n=>["C"].concat(n.slice(2))))},tr=vn;var Nn=t=>{let e=re(t),n=K(e),o=e.length,r=e[o-1][0]==="Z",a=L(e,(m,i)=>{let s=n[i],u=i&&e[i-1],l=u&&u[0],f=e[i+1],p=f&&f[0],[h]=m,[c,b]=n[i?i-1:o-1].slice(-2),d=m;switch(h){case"M":d=r?["Z"]:[h,c,b];break;case"A":d=[h,m[1],m[2],m[3],m[4],m[5]===1?0:1,c,b];break;case"C":f&&p==="S"?d=["S",m[1],m[2],c,b]:d=[h,m[3],m[4],m[1],m[2],c,b];break;case"S":l&&"CS".includes(l)&&(!f||p!=="S")?d=["C",s[3],s[4],s[1],s[2],c,b]:d=[h,s[1],s[2],c,b];break;case"Q":f&&p==="T"?d=["T",c,b]:d=[h,m[1],m[2],c,b];break;case"T":l&&"QT".includes(l)&&(!f||p!=="T")?d=["Q",s[1],s[2],c,b]:d=[h,c,b];break;case"Z":d=["M",c,b];break;case"H":d=[h,c];break;case"V":d=[h,b];break;default:d=[h].concat(m.slice(1,-2),c,b)}return d});return r?a.reverse():[a[0]].concat(a.slice(1).reverse())},Le=Nn;var wn=(t,e)=>{let{round:n}=j;n=e==="off"||typeof e=="number"&&e>=0?e:typeof n=="number"&&n>=0?n:"off";return n==="off"?t.slice(0):L(t,o=>ye(o,n))},rr=wn;var kn=(t,e=.5)=>{let n=e,o=t.slice(0,2),r=t.slice(2,4),a=t.slice(4,6),m=t.slice(6,8),i=I(o,r,n),s=I(r,a,n),u=I(a,m,n),l=I(i,s,n),f=I(s,u,n),p=I(l,f,n);return[["C",i[0],i[1],l[0],l[1],p[0],p[1]],["C",f[0],f[1],u[0],u[1],m[0],m[1]]]},nr=kn;var zn=t=>{let e=[],n,o=-1,r=0,a=0,m=0,i=0,s={...J};return t.forEach(u=>{let[l]=u,f=l.toUpperCase(),p=l.toLowerCase(),h=l===p,c=u.slice(1);f==="M"?(o+=1,[r,a]=c,r+=h?s.x:0,a+=h?s.y:0,m=r,i=a,n=[h?[f,m,i]:u]):(f==="Z"?(r=m,a=i):f==="H"?([,r]=u,r+=h?s.x:0):f==="V"?([,a]=u,a+=h?s.y:0):([r,a]=u.slice(-2),r+=h?s.x:0,a+=h?s.y:0),n.push(u)),s.x=r,s.y=a,e[o]=n}),e},mt=zn;var Rn=(t,e)=>{let n=0,o=0,r=0,a=0,m=0,i=0,s="M",u=T(t),l=e&&Object.keys(e);if(!e||l&&!l.length)return u.slice(0);e.origin||Object.assign(e,{origin:j.origin});let f=e.origin,p=nt(e);return p.isIdentity?u.slice(0):L(u,(h,c,b,d)=>{[s]=h;let x=s.toUpperCase(),g=x!==s?U(h,c,b,d):h.slice(0),y=x==="A"?["C"].concat(Ce(b,d,g[1],g[2],g[3],g[4],g[5],g[6],g[7])):x==="V"?["L",b,g[1]]:x==="H"?["L",g[1],d]:g;s=y[0];let S=s==="C"&&y.length>7,C=S?y.slice(0,7):y.slice(0);if(S&&(u.splice(c+1,0,["C"].concat(y.slice(7))),y=C),s==="L"){[r,a]=Ve(p,[y[1],y[2]],f);n!==r&&o!==a?y=["L",r,a]:o===a?y=["H",r]:n===r&&(y=["V",a])}else for(m=1,i=y.length;m<i;m+=2)[r,a]=Ve(p,[+y[m],+y[m+1]],f),y[m]=r,y[m+1]=a;return n=r,o=a,y})},st=Rn;var Lt=class{constructor(e,n){let o=n||{},r=typeof e>"u";if(r||!e.length)throw TypeError(`${V}: "pathValue" is ${r?"undefined":"empty"}`);this.segments=T(e);let{round:a,origin:m}=o,i;Number.isInteger(a)||a==="off"?i=a:i=j.round;let s=j.origin;if(Array.isArray(m)&&m.length>=2){let[u,l,f]=m.map(Number);s=[Number.isNaN(u)?0:u,Number.isNaN(l)?0:l,Number.isNaN(f)?0:f]}return this.round=i,this.origin=s,this}get bbox(){return We(this.segments)}get length(){return W(this.segments)}getBBox(){return this.bbox}getTotalLength(){return this.length}getPointAtLength(e){return ae(this.segments,e)}toAbsolute(){let{segments:e}=this;return this.segments=re(e),this}toRelative(){let{segments:e}=this;return this.segments=_e(e),this}toCurve(){let{segments:e}=this;return this.segments=oe(e),this}reverse(e){let{segments:n}=this,o=mt(n),r=o.length>1?o:!1,a=r?r.map((i,s)=>e?s?Le(i):i.slice(0):Le(i)):n.slice(0),m=[];return r?m=a.flat(1):m=e?n:Le(n),this.segments=m.slice(0),this}normalize(){let{segments:e}=this;return this.segments=K(e),this}optimize(){let{segments:e}=this,n=this.round==="off"?2:this.round;return this.segments=at(e,n),this}transform(e){if(!e||typeof e!="object"||typeof e=="object"&&!["translate","rotate","skew","scale"].some(s=>s in e))return this;let{segments:n,origin:[o,r,a]}=this,m={};for(let[s,u]of Object.entries(e)){s==="skew"&&Array.isArray(u)||(s==="rotate"||s==="translate"||s==="origin"||s==="scale")&&Array.isArray(u)?m[s]=u.map(Number):s!=="origin"&&typeof Number(u)=="number"&&(m[s]=Number(u))}let{origin:i}=m;if(Array.isArray(i)&&i.length>=2){let[s,u,l]=i.map(Number);m.origin=[Number.isNaN(s)?o:s,Number.isNaN(u)?r:u,l||a]}else m.origin=[o,r,a];return this.segments=st(n,m),this}flipX(){let{cx:e,cy:n}=this.bbox;return this.transform({rotate:[0,180,0],origin:[e,n,0]}),this}flipY(){let{cx:e,cy:n}=this.bbox;return this.transform({rotate:[180,0,0],origin:[e,n,0]}),this}toString(){return Me(this.segments,this.round)}dispose(){Object.keys(this).forEach(e=>delete this[e])}},Vn=Object.assign(Lt,Tt);return ir(On);})();
//# sourceMappingURL=svg-path-commander.js.map