var SVGPathCommander=function(b){"use strict";var tn=Object.defineProperty,en=(e,t,r)=>t in e?tn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,R=(e,t,r)=>en(e,typeof t!="symbol"?t+"":t,r);const nn={a:1,b:0,c:0,d:1,e:0,f:0,m11:1,m12:0,m13:0,m14:0,m21:0,m22:1,m23:0,m24:0,m31:0,m32:0,m33:1,m34:0,m41:0,m42:0,m43:0,m44:1,is2D:!0,isIdentity:!0},fe=e=>(e instanceof Float64Array||e instanceof Float32Array||Array.isArray(e)&&e.every(t=>typeof t=="number"))&&[6,16].some(t=>e.length===t),ge=e=>e instanceof DOMMatrix||e instanceof T||typeof e=="object"&&Object.keys(nn).every(t=>e&&t in e),ct=e=>{const t=new T,r=Array.from(e);if(!fe(r))throw TypeError(`CSSMatrix: "${r.join(",")}" must be an array with 6/16 numbers.`);if(r.length===16){const[s,n,i,o,c,a,l,m,h,f,g,u,y,p,x,C]=r;t.m11=s,t.a=s,t.m21=c,t.c=c,t.m31=h,t.m41=y,t.e=y,t.m12=n,t.b=n,t.m22=a,t.d=a,t.m32=f,t.m42=p,t.f=p,t.m13=i,t.m23=l,t.m33=g,t.m43=x,t.m14=o,t.m24=m,t.m34=u,t.m44=C}else if(r.length===6){const[s,n,i,o,c,a]=r;t.m11=s,t.a=s,t.m12=n,t.b=n,t.m21=i,t.c=i,t.m22=o,t.d=o,t.m41=c,t.e=c,t.m42=a,t.f=a}return t},ye=e=>{if(ge(e))return ct([e.m11,e.m12,e.m13,e.m14,e.m21,e.m22,e.m23,e.m24,e.m31,e.m32,e.m33,e.m34,e.m41,e.m42,e.m43,e.m44]);throw TypeError(`CSSMatrix: "${JSON.stringify(e)}" is not a DOMMatrix / CSSMatrix / JSON compatible object.`)},de=e=>{if(typeof e!="string")throw TypeError(`CSSMatrix: "${JSON.stringify(e)}" is not a string.`);const t=String(e).replace(/\s/g,"");let r=new T;const s=`CSSMatrix: invalid transform string "${e}"`;return t.split(")").filter(n=>n).forEach(n=>{const[i,o]=n.split("(");if(!o)throw TypeError(s);const c=o.split(",").map(u=>u.includes("rad")?parseFloat(u)*(180/Math.PI):parseFloat(u)),[a,l,m,h]=c,f=[a,l,m],g=[a,l,m,h];if(i==="perspective"&&a&&[l,m].every(u=>u===void 0))r.m34=-1/a;else if(i.includes("matrix")&&[6,16].includes(c.length)&&c.every(u=>!Number.isNaN(+u))){const u=c.map(y=>Math.abs(y)<1e-6?0:y);r=r.multiply(ct(u))}else if(i==="translate3d"&&f.every(u=>!Number.isNaN(+u)))r=r.translate(a,l,m);else if(i==="translate"&&a&&m===void 0)r=r.translate(a,l||0,0);else if(i==="rotate3d"&&g.every(u=>!Number.isNaN(+u))&&h)r=r.rotateAxisAngle(a,l,m,h);else if(i==="rotate"&&a&&[l,m].every(u=>u===void 0))r=r.rotate(0,0,a);else if(i==="scale3d"&&f.every(u=>!Number.isNaN(+u))&&f.some(u=>u!==1))r=r.scale(a,l,m);else if(i==="scale"&&!Number.isNaN(a)&&(a!==1||l!==1)&&m===void 0){const u=Number.isNaN(+l)?a:l;r=r.scale(a,u,1)}else if(i==="skew"&&(a||!Number.isNaN(a)&&l)&&m===void 0)r=r.skew(a,l||0);else if(["translate","rotate","scale","skew"].some(u=>i.includes(u))&&/[XYZ]/.test(i)&&a&&[l,m].every(u=>u===void 0))if(i==="skewX"||i==="skewY")r=r[i](a);else{const u=i.replace(/[XYZ]/,""),y=i.replace(u,""),p=["X","Y","Z"].indexOf(y),x=u==="scale"?1:0,C=[p===0?a:x,p===1?a:x,p===2?a:x];r=r[u](...C)}else throw TypeError(s)}),r},Vt=(e,t)=>t?[e.a,e.b,e.c,e.d,e.e,e.f]:[e.m11,e.m12,e.m13,e.m14,e.m21,e.m22,e.m23,e.m24,e.m31,e.m32,e.m33,e.m34,e.m41,e.m42,e.m43,e.m44],be=(e,t,r)=>{const s=new T;return s.m41=e,s.e=e,s.m42=t,s.f=t,s.m43=r,s},Ae=(e,t,r)=>{const s=new T,n=Math.PI/180,i=e*n,o=t*n,c=r*n,a=Math.cos(i),l=-Math.sin(i),m=Math.cos(o),h=-Math.sin(o),f=Math.cos(c),g=-Math.sin(c),u=m*f,y=-m*g;s.m11=u,s.a=u,s.m12=y,s.b=y,s.m13=h;const p=l*h*f+a*g;s.m21=p,s.c=p;const x=a*f-l*h*g;return s.m22=x,s.d=x,s.m23=-l*m,s.m31=l*g-a*h*f,s.m32=l*f+a*h*g,s.m33=a*m,s},pe=(e,t,r,s)=>{const n=new T,i=Math.sqrt(e*e+t*t+r*r);if(i===0)return n;const o=e/i,c=t/i,a=r/i,l=s*(Math.PI/360),m=Math.sin(l),h=Math.cos(l),f=m*m,g=o*o,u=c*c,y=a*a,p=1-2*(u+y)*f;n.m11=p,n.a=p;const x=2*(o*c*f+a*m*h);n.m12=x,n.b=x,n.m13=2*(o*a*f-c*m*h);const C=2*(c*o*f-a*m*h);n.m21=C,n.c=C;const d=1-2*(y+g)*f;return n.m22=d,n.d=d,n.m23=2*(c*a*f+o*m*h),n.m31=2*(a*o*f+c*m*h),n.m32=2*(a*c*f-o*m*h),n.m33=1-2*(g+u)*f,n},xe=(e,t,r)=>{const s=new T;return s.m11=e,s.a=e,s.m22=t,s.d=t,s.m33=r,s},Ct=(e,t)=>{const r=new T;if(e){const s=e*Math.PI/180,n=Math.tan(s);r.m21=n,r.c=n}if(t){const s=t*Math.PI/180,n=Math.tan(s);r.m12=n,r.b=n}return r},Ce=e=>Ct(e,0),Me=e=>Ct(0,e),H=(e,t)=>{const r=t.m11*e.m11+t.m12*e.m21+t.m13*e.m31+t.m14*e.m41,s=t.m11*e.m12+t.m12*e.m22+t.m13*e.m32+t.m14*e.m42,n=t.m11*e.m13+t.m12*e.m23+t.m13*e.m33+t.m14*e.m43,i=t.m11*e.m14+t.m12*e.m24+t.m13*e.m34+t.m14*e.m44,o=t.m21*e.m11+t.m22*e.m21+t.m23*e.m31+t.m24*e.m41,c=t.m21*e.m12+t.m22*e.m22+t.m23*e.m32+t.m24*e.m42,a=t.m21*e.m13+t.m22*e.m23+t.m23*e.m33+t.m24*e.m43,l=t.m21*e.m14+t.m22*e.m24+t.m23*e.m34+t.m24*e.m44,m=t.m31*e.m11+t.m32*e.m21+t.m33*e.m31+t.m34*e.m41,h=t.m31*e.m12+t.m32*e.m22+t.m33*e.m32+t.m34*e.m42,f=t.m31*e.m13+t.m32*e.m23+t.m33*e.m33+t.m34*e.m43,g=t.m31*e.m14+t.m32*e.m24+t.m33*e.m34+t.m34*e.m44,u=t.m41*e.m11+t.m42*e.m21+t.m43*e.m31+t.m44*e.m41,y=t.m41*e.m12+t.m42*e.m22+t.m43*e.m32+t.m44*e.m42,p=t.m41*e.m13+t.m42*e.m23+t.m43*e.m33+t.m44*e.m43,x=t.m41*e.m14+t.m42*e.m24+t.m43*e.m34+t.m44*e.m44;return ct([r,s,n,i,o,c,a,l,m,h,f,g,u,y,p,x])};class T{constructor(t){return this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this.m11=1,this.m12=0,this.m13=0,this.m14=0,this.m21=0,this.m22=1,this.m23=0,this.m24=0,this.m31=0,this.m32=0,this.m33=1,this.m34=0,this.m41=0,this.m42=0,this.m43=0,this.m44=1,t?this.setMatrixValue(t):this}get isIdentity(){return this.m11===1&&this.m12===0&&this.m13===0&&this.m14===0&&this.m21===0&&this.m22===1&&this.m23===0&&this.m24===0&&this.m31===0&&this.m32===0&&this.m33===1&&this.m34===0&&this.m41===0&&this.m42===0&&this.m43===0&&this.m44===1}get is2D(){return this.m31===0&&this.m32===0&&this.m33===1&&this.m34===0&&this.m43===0&&this.m44===1}setMatrixValue(t){return typeof t=="string"&&t.length&&t!=="none"?de(t):Array.isArray(t)||t instanceof Float64Array||t instanceof Float32Array?ct(t):typeof t=="object"?ye(t):this}toFloat32Array(t){return Float32Array.from(Vt(this,t))}toFloat64Array(t){return Float64Array.from(Vt(this,t))}toString(){const{is2D:t}=this,r=this.toFloat64Array(t).join(", ");return`${t?"matrix":"matrix3d"}(${r})`}toJSON(){const{is2D:t,isIdentity:r}=this;return{...this,is2D:t,isIdentity:r}}multiply(t){return H(this,t)}translate(t,r,s){const n=t;let i=r,o=s;return typeof i>"u"&&(i=0),typeof o>"u"&&(o=0),H(this,be(n,i,o))}scale(t,r,s){const n=t;let i=r,o=s;return typeof i>"u"&&(i=t),typeof o>"u"&&(o=1),H(this,xe(n,i,o))}rotate(t,r,s){let n=t,i=r||0,o=s||0;return typeof t=="number"&&typeof r>"u"&&typeof s>"u"&&(o=n,n=0,i=0),H(this,Ae(n,i,o))}rotateAxisAngle(t,r,s,n){if([t,r,s,n].some(i=>Number.isNaN(+i)))throw new TypeError("CSSMatrix: expecting 4 values");return H(this,pe(t,r,s,n))}skewX(t){return H(this,Ce(t))}skewY(t){return H(this,Me(t))}skew(t,r){return H(this,Ct(t,r))}transformPoint(t){const r=this.m11*t.x+this.m21*t.y+this.m31*t.z+this.m41*t.w,s=this.m12*t.x+this.m22*t.y+this.m32*t.z+this.m42*t.w,n=this.m13*t.x+this.m23*t.y+this.m33*t.z+this.m43*t.w,i=this.m14*t.x+this.m24*t.y+this.m34*t.z+this.m44*t.w;return t instanceof DOMPoint?new DOMPoint(r,s,n,i):{x:r,y:s,z:n,w:i}}}R(T,"Translate",be),R(T,"Rotate",Ae),R(T,"RotateAxisAngle",pe),R(T,"Scale",xe),R(T,"SkewX",Ce),R(T,"SkewY",Me),R(T,"Skew",Ct),R(T,"Multiply",H),R(T,"fromArray",ct),R(T,"fromMatrix",ye),R(T,"fromString",de),R(T,"toArray",Vt),R(T,"isCompatibleArray",fe),R(T,"isCompatibleObject",ge);const Z=(e,t,r)=>{const[s,n]=e,[i,o]=t;return[s+(i-s)*r,n+(o-n)*r]},lt=(e,t)=>Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])),mt=(e,t,r,s)=>lt([e,t],[r,s]),It=(e,t,r,s,n)=>{let i={x:e,y:t};if(typeof n=="number"){const o=lt([e,t],[r,s]);if(n<=0)i={x:e,y:t};else if(n>=o)i={x:r,y:s};else{const[c,a]=Z([e,t],[r,s],n/o);i={x:c,y:a}}}return i},Rt=(e,t,r,s)=>{const{min:n,max:i}=Math;return[n(e,r),n(t,s),i(e,r),i(t,s)]},Pe={getLineBBox:Rt,getLineLength:mt,getPointAtLineLength:It},Et=(e,t,r)=>{const s=r/2,n=Math.sin(s),i=Math.cos(s),o=e**2*n**2,c=t**2*i**2,a=Math.sqrt(o+c)*r;return Math.abs(a)},_=(e,t,r,s,n,i)=>{const{sin:o,cos:c}=Math,a=c(n),l=o(n),m=r*c(i),h=s*o(i);return[e+a*m-l*h,t+l*m+a*h]},jt=(e,t)=>{const{x:r,y:s}=e,{x:n,y:i}=t,o=r*n+s*i,c=Math.sqrt((r**2+s**2)*(n**2+i**2));return(r*i-s*n<0?-1:1)*Math.acos(o/c)},Mt=(e,t,r,s,n,i,o,c,a)=>{const{abs:l,sin:m,cos:h,sqrt:f,PI:g}=Math;let u=l(r),y=l(s);const x=(n%360+360)%360*(g/180);if(e===c&&t===a)return{rx:u,ry:y,startAngle:0,endAngle:0,center:{x:c,y:a}};if(u===0||y===0)return{rx:u,ry:y,startAngle:0,endAngle:0,center:{x:(c+e)/2,y:(a+t)/2}};const C=(e-c)/2,d=(t-a)/2,A={x:h(x)*C+m(x)*d,y:-m(x)*C+h(x)*d},M=A.x**2/u**2+A.y**2/y**2;M>1&&(u*=f(M),y*=f(M));const S=u**2*y**2-u**2*A.y**2-y**2*A.x**2,q=u**2*A.y**2+y**2*A.x**2;let $=S/q;$=$<0?0:$;const v=(i!==o?1:-1)*f($),N={x:v*(u*A.y/y),y:v*(-(y*A.x)/u)},O={x:h(x)*N.x-m(x)*N.y+(e+c)/2,y:m(x)*N.x+h(x)*N.y+(t+a)/2},Y={x:(A.x-N.x)/u,y:(A.y-N.y)/y},k=jt({x:1,y:0},Y),P={x:(-A.x-N.x)/u,y:(-A.y-N.y)/y};let V=jt(Y,P);!o&&V>0?V-=2*g:o&&V<0&&(V+=2*g),V%=2*g;const B=k+V;return{center:O,startAngle:k,endAngle:B,rx:u,ry:y}},Dt=(e,t,r,s,n,i,o,c,a)=>{const{rx:l,ry:m,startAngle:h,endAngle:f}=Mt(e,t,r,s,n,i,o,c,a);return Et(l,m,f-h)},Se=(e,t,r,s,n,i,o,c,a,l)=>{let m={x:e,y:t};const{center:h,rx:f,ry:g,startAngle:u,endAngle:y}=Mt(e,t,r,s,n,i,o,c,a);if(typeof l=="number"){const p=Et(f,g,y-u);if(l<=0)m={x:e,y:t};else if(l>=p)m={x:c,y:a};else{if(e===c&&t===a)return{x:c,y:a};if(f===0||g===0)return It(e,t,c,a,l);const{PI:x,cos:C,sin:d}=Math,A=y-u,S=(n%360+360)%360*(x/180),q=u+A*(l/p),$=f*C(q),v=g*d(q);m={x:C(S)*$-d(S)*v+h.x,y:d(S)*$+C(S)*v+h.y}}}return m},Te=(e,t,r,s,n,i,o,c,a)=>{const{center:l,rx:m,ry:h,startAngle:f,endAngle:g}=Mt(e,t,r,s,n,i,o,c,a),u=g-f,{min:y,max:p,tan:x,atan2:C,PI:d}=Math,{x:A,y:M}=l,S=n*d/180,q=x(S),$=C(-h*q,m),v=$,N=$+d,O=C(h,m*q),Y=O+d,k=[c],P=[a];let V=y(e,c),B=p(e,c),D=y(t,a),U=p(t,a);const at=g-u*1e-5,tt=_(A,M,m,h,S,at),L=g-u*.99999,I=_(A,M,m,h,S,L);if(tt[0]>B||I[0]>B){const z=_(A,M,m,h,S,v);k.push(z[0]),P.push(z[1])}if(tt[0]<V||I[0]<V){const z=_(A,M,m,h,S,N);k.push(z[0]),P.push(z[1])}if(tt[1]<D||I[1]<D){const z=_(A,M,m,h,S,Y);k.push(z[0]),P.push(z[1])}if(tt[1]>U||I[1]>U){const z=_(A,M,m,h,S,O);k.push(z[0]),P.push(z[1])}return V=y.apply([],k),D=y.apply([],P),B=p.apply([],k),U=p.apply([],P),[V,D,B,U]},Ne={angleBetween:jt,arcLength:Et,arcPoint:_,getArcBBox:Te,getArcLength:Dt,getArcProps:Mt,getPointAtArcLength:Se},Qt=[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],we=[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],Le=e=>{const t=[];for(let r=e,s=r.length,n=s-1;s>1;s-=1,n-=1){const i=[];for(let o=0;o<n;o+=1)i.push({x:n*(r[o+1].x-r[o].x),y:n*(r[o+1].y-r[o].y),t:0});t.push(i),r=i}return t},ve=(e,t)=>{if(t===0)return e[0].t=0,e[0];const r=e.length-1;if(t===1)return e[r].t=1,e[r];const s=1-t;let n=e;if(r===0)return e[0].t=t,e[0];if(r===1)return{x:s*n[0].x+t*n[1].x,y:s*n[0].y+t*n[1].y,t};const i=s*s,o=t*t;let c=0,a=0,l=0,m=0;return r===2?(n=[n[0],n[1],n[2],{x:0,y:0}],c=i,a=s*t*2,l=o):r===3&&(c=i*s,a=i*t*3,l=s*o*3,m=t*o),{x:c*n[0].x+a*n[1].x+l*n[2].x+m*n[3].x,y:c*n[0].y+a*n[1].y+l*n[2].y+m*n[3].y,t}},ze=(e,t)=>{const r=e(t),s=r.x*r.x+r.y*r.y;return Math.sqrt(s)},qe=e=>{const r=Qt.length;let s=0;for(let n=0,i;n<r;n++)i=.5*Qt[n]+.5,s+=we[n]*ze(e,i);return .5*s},ut=e=>{const t=[];for(let s=0,n=e.length,i=2;s<n;s+=i)t.push({x:e[s],y:e[s+1]});const r=Le(t);return qe(s=>ve(r[0],s))},$e=1e-8,Pt=([e,t,r])=>{const s=Math.min(e,r),n=Math.max(e,r);if(t>=e?r>=t:r<=t)return[s,n];const i=(e*r-t*t)/(e-2*t+r);return i<s?[i,n]:[s,i]},Zt=([e,t,r,s])=>{const n=e-3*t+3*r-s;if(Math.abs(n)<$e)return e===s&&e===t?[e,s]:Pt([e,-.5*e+1.5*t,e-3*t+3*r]);const i=-e*r+e*s-t*r-t*s+t*t+r*r;if(i<=0)return[Math.min(e,s),Math.max(e,s)];const o=Math.sqrt(i);let c=Math.min(e,s),a=Math.max(e,s);const l=e-2*t+r;for(let m=(l+o)/n,h=1;h<=2;m=(l-o)/n,h++)if(m>0&&m<1){const f=e*(1-m)*(1-m)*(1-m)+t*3*(1-m)*(1-m)*m+r*3*(1-m)*m*m+s*m*m*m;f<c&&(c=f),f>a&&(a=f)}return[c,a]},ke={bezierLength:qe,calculateBezier:ze,CBEZIER_MINMAX_EPSILON:$e,computeBezier:ve,Cvalues:we,deriveBezier:Le,getBezierLength:ut,minmaxC:Zt,minmaxQ:Pt,Tvalues:Qt},Ve=([e,t,r,s,n,i,o,c],a)=>{const l=1-a;return{x:l**3*e+3*l**2*a*r+3*l*a**2*n+a**3*o,y:l**3*t+3*l**2*a*s+3*l*a**2*i+a**3*c}},St=(e,t,r,s,n,i,o,c)=>ut([e,t,r,s,n,i,o,c]),Ie=(e,t,r,s,n,i,o,c,a)=>{const l=typeof a=="number";let m={x:e,y:t};if(l){const h=ut([e,t,r,s,n,i,o,c]);a<=0||(a>=h?m={x:o,y:c}:m=Ve([e,t,r,s,n,i,o,c],a/h))}return m},Ot=(e,t,r,s,n,i,o,c)=>{const a=Zt([e,r,n,o]),l=Zt([t,s,i,c]);return[a[0],l[0],a[1],l[1]]},Re={getCubicBBox:Ot,getCubicLength:St,getPointAtCubicLength:Ie,getPointAtCubicSegmentLength:Ve},Ee=([e,t,r,s,n,i],o)=>{const c=1-o;return{x:c**2*e+2*c*o*r+o**2*n,y:c**2*t+2*c*o*s+o**2*i}},Tt=(e,t,r,s,n,i)=>ut([e,t,r,s,n,i]),je=(e,t,r,s,n,i,o)=>{const c=typeof o=="number";let a={x:e,y:t};if(c){const l=ut([e,t,r,s,n,i]);o<=0||(o>=l?a={x:n,y:i}:a=Ee([e,t,r,s,n,i],o/l))}return a},Bt=(e,t,r,s,n,i)=>{const o=Pt([e,r,n]),c=Pt([t,s,i]);return[o[0],c[0],o[1],c[1]]},De={getPointAtQuadLength:je,getPointAtQuadSegmentLength:Ee,getQuadBBox:Bt,getQuadLength:Tt},Qe={polygonArea:e=>{const t=e.length;let r=-1,s,n=e[t-1],i=0;for(;++r<t;)s=n,n=e[r],i+=s[1]*n[0]-s[0]*n[1];return i/2},polygonLength:e=>e.reduce((t,r,s)=>s?t+lt(e[s-1],r):0,0)},et=(e,t,r)=>{const{sin:s,cos:n}=Math,i=e*n(r)-t*s(r),o=e*s(r)+t*n(r);return{x:i,y:o}},w=(e,t)=>{const r=t>=1?10**t:1;return t>0?Math.round(e*r)/r:Math.round(e)},J={origin:[0,0,0],round:4},K={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},Nt=e=>{let t=e.pathValue[e.segmentStart],r=t.toLowerCase();const{data:s}=e;for(;s.length>=K[r]&&(r==="m"&&s.length>2?(e.segments.push([t].concat(s.splice(0,2))),r="l",t=t==="m"?"l":"L"):e.segments.push([t].concat(s.splice(0,K[r]))),!!K[r]););},Q="SVGPathCommander Error",Ht=e=>{const{index:t,pathValue:r}=e,s=r.charCodeAt(t);if(s===48){e.param=0,e.index+=1;return}if(s===49){e.param=1,e.index+=1;return}e.err=`${Q}: invalid Arc flag "${r[t]}", expecting 0 or 1 at index ${t}`},F=e=>e>=48&&e<=57,G="Invalid path value",Ft=e=>{const{max:t,pathValue:r,index:s}=e;let n=s,i=!1,o=!1,c=!1,a=!1,l;if(n>=t){e.err=`${Q}: ${G} at index ${n}, "pathValue" is missing param`;return}if(l=r.charCodeAt(n),(l===43||l===45)&&(n+=1,l=r.charCodeAt(n)),!F(l)&&l!==46){e.err=`${Q}: ${G} at index ${n}, "${r[n]}" is not a number`;return}if(l!==46){if(i=l===48,n+=1,l=r.charCodeAt(n),i&&n<t&&l&&F(l)){e.err=`${Q}: ${G} at index ${s}, "${r[s]}" illegal number`;return}for(;n<t&&F(r.charCodeAt(n));)n+=1,o=!0;l=r.charCodeAt(n)}if(l===46){for(a=!0,n+=1;F(r.charCodeAt(n));)n+=1,c=!0;l=r.charCodeAt(n)}if(l===101||l===69){if(a&&!o&&!c){e.err=`${Q}: ${G} at index ${n}, "${r[n]}" invalid float exponent`;return}if(n+=1,l=r.charCodeAt(n),(l===43||l===45)&&(n+=1),n<t&&F(r.charCodeAt(n)))for(;n<t&&F(r.charCodeAt(n));)n+=1;else{e.err=`${Q}: ${G} at index ${n}, "${r[n]}" invalid integer exponent`;return}}e.index=n,e.param=+e.pathValue.slice(s,n)},Gt=e=>[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279,10,13,8232,8233,32,9,11,12,160].includes(e),W=e=>{const{pathValue:t,max:r}=e;for(;e.index<r&&Gt(t.charCodeAt(e.index));)e.index+=1},Ut=e=>{switch(e|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}},_t=e=>F(e)||e===43||e===45||e===46,Jt=e=>(e|32)===97,Kt=e=>{switch(e|32){case 109:case 77:return!0;default:return!1}},wt=e=>{var a;const{max:t,pathValue:r,index:s,segments:n}=e,i=r.charCodeAt(s),o=K[r[s].toLowerCase()];if(e.segmentStart=s,!Ut(i)){e.err=`${Q}: ${G} "${r[s]}" is not a path command at index ${s}`;return}const c=n[n.length-1];if(!Kt(i)&&((a=c==null?void 0:c[0])==null?void 0:a.toLocaleLowerCase())==="z"){e.err=`${Q}: ${G} "${r[s]}" is not a MoveTo path command at index ${s}`;return}if(e.index+=1,W(e),e.data=[],!o){Nt(e);return}for(;;){for(let l=o;l>0;l-=1){if(Jt(i)&&(l===3||l===4)?Ht(e):Ft(e),e.err.length)return;e.data.push(e.param),W(e),e.index<t&&r.charCodeAt(e.index)===44&&(e.index+=1,W(e))}if(e.index>=e.max||!_t(r.charCodeAt(e.index)))break}Nt(e)};class Lt{constructor(t){this.segments=[],this.pathValue=t,this.max=t.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}}const E=e=>{if(typeof e!="string")return e.slice(0);const t=new Lt(e);for(W(t);t.index<t.max&&!t.err.length;)wt(t);if(!t.err.length)t.segments.length&&(t.segments[0][0]="M");else throw TypeError(t.err);return t.segments},nt=(e,t,r,s)=>{const[n]=e,i=n.toUpperCase();if(t===0||i===n)return e;if(i==="A")return[i,e[1],e[2],e[3],e[4],e[5],e[6]+r,e[7]+s];if(i==="V")return[i,e[1]+s];if(i==="H")return[i,e[1]+r];if(i==="L")return[i,e[1]+r,e[2]+s];{const c=[],a=e.length;for(let l=1;l<a;l+=1)c.push(e[l]+(l%2?r:s));return[i].concat(c)}},j=(e,t)=>{let r=e.length,s,n="M",i="M",o=!1,c=0,a=0,l=0,m=0,h=0;for(let f=0;f<r;f+=1){s=e[f],[n]=s,h=s.length,i=n.toUpperCase(),o=i!==n;const g=t(s,f,c,a);if(g===!1)break;i==="Z"?(c=l,a=m):i==="H"?c=s[1]+(o?c:0):i==="V"?a=s[1]+(o?a:0):(c=s[h-2]+(o?c:0),a=s[h-1]+(o?a:0),i==="M"&&(l=c,m=a)),g&&(e[f]=g,g[0]==="C"&&(r=e.length))}return e},ht=e=>{const t=E(e);return j(t,nt)},vt=(e,t,r,s)=>{const[n]=e,i=n.toLowerCase();if(t===0||n===i)return e;if(i==="a")return[i,e[1],e[2],e[3],e[4],e[5],e[6]-r,e[7]-s];if(i==="v")return[i,e[1]-s];if(i==="h")return[i,e[1]-r];if(i==="l")return[i,e[1]-r,e[2]-s];{const c=[],a=e.length;for(let l=1;l<a;l+=1)c.push(e[l]-(l%2?r:s));return[i].concat(c)}},Wt=e=>{const t=E(e);return j(t,vt)},ft=(e,t,r,s,n,i,o,c,a,l)=>{let m=e,h=t,f=r,g=s,u=c,y=a;const p=Math.PI*120/180,x=Math.PI/180*(+n||0);let C=[],d,A,M,S,q;if(l)[A,M,S,q]=l;else{d=et(m,h,-x),m=d.x,h=d.y,d=et(u,y,-x),u=d.x,y=d.y;const L=(m-u)/2,I=(h-y)/2;let z=L*L/(f*f)+I*I/(g*g);z>1&&(z=Math.sqrt(z),f*=z,g*=z);const ue=f*f,he=g*g,Ye=(i===o?-1:1)*Math.sqrt(Math.abs((ue*he-ue*I*I-he*L*L)/(ue*I*I+he*L*L)));S=Ye*f*I/g+(m+u)/2,q=Ye*-g*L/f+(h+y)/2,A=Math.asin(((h-q)/g*10**9>>0)/10**9),M=Math.asin(((y-q)/g*10**9>>0)/10**9),A=m<S?Math.PI-A:A,M=u<S?Math.PI-M:M,A<0&&(A=Math.PI*2+A),M<0&&(M=Math.PI*2+M),o&&A>M&&(A-=Math.PI*2),!o&&M>A&&(M-=Math.PI*2)}let $=M-A;if(Math.abs($)>p){const L=M,I=u,z=y;M=A+p*(o&&M>A?1:-1),u=S+f*Math.cos(M),y=q+g*Math.sin(M),C=ft(u,y,f,g,n,0,o,I,z,[M,L,S,q])}$=M-A;const v=Math.cos(A),N=Math.sin(A),O=Math.cos(M),Y=Math.sin(M),k=Math.tan($/4),P=4/3*f*k,V=4/3*g*k,B=[m,h],D=[m+P*N,h-V*v],U=[u+P*Y,y-V*O],at=[u,y];if(D[0]=2*B[0]-D[0],D[1]=2*B[1]-D[1],l)return[D[0],D[1],U[0],U[1],at[0],at[1]].concat(C);C=[D[0],D[1],U[0],U[1],at[0],at[1]].concat(C);const tt=[];for(let L=0,I=C.length;L<I;L+=1)tt[L]=L%2?et(C[L-1],C[L],x).y:et(C[L],C[L+1],x).x;return tt},Xt=(e,t,r,s,n,i)=>{const o=.3333333333333333,c=2/3;return[o*e+c*r,o*t+c*s,o*n+c*r,o*i+c*s,n,i]},zt=(e,t,r,s)=>{const n=Z([e,t],[r,s],.3333333333333333),i=Z([e,t],[r,s],2/3);return[n[0],n[1],i[0],i[1],r,s]},Yt=(e,t)=>{const[r]=e,s=e.slice(1).map(Number),[n,i]=s,{x1:o,y1:c,x:a,y:l}=t;return"TQ".includes(r)||(t.qx=null,t.qy=null),r==="M"?(t.x=n,t.y=i,e):r==="A"?["C"].concat(ft(o,c,s[0],s[1],s[2],s[3],s[4],s[5],s[6])):r==="Q"?(t.qx=n,t.qy=i,["C"].concat(Xt(o,c,s[0],s[1],s[2],s[3]))):r==="L"?["C"].concat(zt(o,c,n,i)):r==="Z"?["C"].concat(zt(o,c,a,l)):e},gt=(e,t)=>{const[r]=e,s=r.toUpperCase(),n=r!==s,{x1:i,y1:o,x2:c,y2:a,x:l,y:m}=t,h=e.slice(1);let f=h.map((g,u)=>g+(n?u%2?m:l:0));if("TQ".includes(s)||(t.qx=null,t.qy=null),s==="A")return f=h.slice(0,-2).concat(h[5]+(n?l:0),h[6]+(n?m:0)),["A"].concat(f);if(s==="H")return["L",e[1]+(n?l:0),o];if(s==="V")return["L",i,e[1]+(n?m:0)];if(s==="L")return["L",e[1]+(n?l:0),e[2]+(n?m:0)];if(s==="M")return["M",e[1]+(n?l:0),e[2]+(n?m:0)];if(s==="C")return["C"].concat(f);if(s==="S"){const g=i*2-c,u=o*2-a;return t.x1=g,t.y1=u,["C",g,u].concat(f)}else if(s==="T"){const g=i*2-(t.qx?t.qx:0),u=o*2-(t.qy?t.qy:0);return t.qx=g,t.qy=u,["Q",g,u].concat(f)}else if(s==="Q"){const[g,u]=f;return t.qx=g,t.qy=u,["Q"].concat(f)}else if(s==="Z")return["Z"];return e},rt={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},yt=e=>{const t={...rt},r=E(e);return j(r,(s,n,i,o)=>{t.x=i,t.y=o;const c=gt(s,t);let a=Yt(c,t);a[0]==="C"&&a.length>7&&(r.splice(n+1,0,["C"].concat(a.slice(7))),a=a.slice(0,7));const m=a.length;return t.x1=+a[m-2],t.y1=+a[m-1],t.x2=+a[m-4]||t.x1,t.y2=+a[m-3]||t.y1,a})},qt=(e,t)=>{const r=e.length;let{round:s}=J,n=e[0],i="";s=t==="off"||typeof t=="number"&&t>=0?t:typeof s=="number"&&s>=0?s:"off";for(let o=0;o<r;o+=1){n=e[o];const[c]=n,a=n.slice(1);if(i+=c,s==="off")i+=a.join(" ");else{let l=0;const m=a.length;for(;l<m;)i+=w(a[l],s),l!==m-1&&(i+=" "),l+=1}}return i},te=e=>{if(!e)return{x:0,y:0,width:0,height:0,x2:0,y2:0,cx:0,cy:0,cz:0};const t=E(e);let r="M",s=0,n=0;const{max:i,min:o}=Math;let c=1/0,a=1/0,l=-1/0,m=-1/0,h=0,f=0,g=0,u=0,y=0,p=0,x=0,C=0,d=0,A=0;j(t,(q,$,v,N)=>{[r]=q;const O=r.toUpperCase(),k=O!==r?nt(q,$,v,N):q.slice(0),P=O==="V"?["L",v,k[1]]:O==="H"?["L",k[1],N]:k;if([r]=P,"TQ".includes(O)||(d=0,A=0),r==="M")[,s,n]=P,h=s,f=n,g=s,u=n;else if(r==="L")[h,f,g,u]=Rt(v,N,P[1],P[2]);else if(r==="A")[h,f,g,u]=Te(v,N,P[1],P[2],P[3],P[4],P[5],P[6],P[7]);else if(r==="S"){const V=y*2-x,B=p*2-C;[h,f,g,u]=Ot(v,N,V,B,P[1],P[2],P[3],P[4])}else r==="C"?[h,f,g,u]=Ot(v,N,P[1],P[2],P[3],P[4],P[5],P[6]):r==="T"?(d=y*2-d,A=p*2-A,[h,f,g,u]=Bt(v,N,d,A,P[1],P[2])):r==="Q"?(d=P[1],A=P[2],[h,f,g,u]=Bt(v,N,P[1],P[2],P[3],P[4])):r==="Z"&&([h,f,g,u]=Rt(v,N,s,n));c=o(h,c),a=o(f,a),l=i(g,l),m=i(u,m),[y,p]=r==="Z"?[s,n]:P.slice(-2),[x,C]=r==="C"?[P[3],P[4]]:r==="S"?[P[1],P[2]]:[y,p]});const M=l-c,S=m-a;return{width:M,height:S,x:c,y:a,x2:l,y2:m,cx:c+M/2,cy:a+S/2,cz:Math.max(M,S)+Math.min(M,S)/2}},X=e=>{const t=E(e);let r=0,s=0,n=0,i=0,o=0,c=0,a="M",l=0,m=0,h=0;return j(t,(f,g,u,y)=>{[a]=f;const p=a.toUpperCase(),C=p!==a?nt(f,g,u,y):f.slice(0),d=p==="V"?["L",u,C[1]]:p==="H"?["L",C[1],y]:C;if([a]=d,"TQ".includes(p)||(o=0,c=0),a==="M")[,l,m]=d;else if(a==="L")h+=mt(u,y,d[1],d[2]);else if(a==="A")h+=Dt(u,y,d[1],d[2],d[3],d[4],d[5],d[6],d[7]);else if(a==="S"){const A=r*2-n,M=s*2-i;h+=St(u,y,A,M,d[1],d[2],d[3],d[4])}else a==="C"?h+=St(u,y,d[1],d[2],d[3],d[4],d[5],d[6]):a==="T"?(o=r*2-o,c=s*2-c,h+=Tt(u,y,o,c,d[1],d[2])):a==="Q"?(o=d[1],c=d[2],h+=Tt(u,y,d[1],d[2],d[3],d[4])):a==="Z"&&(h+=mt(u,y,l,m));[r,s]=a==="Z"?[l,m]:d.slice(-2),[n,i]=a==="C"?[d[3],d[4]]:a==="S"?[d[1],d[2]]:[r,s]}),h},dt=1e-5,st=e=>{const t=E(e),r={...rt};return j(t,(s,n,i,o)=>{r.x=i,r.y=o;const c=gt(s,r),a=c.length;return r.x1=+c[a-2],r.y1=+c[a-1],r.x2=+c[a-4]||r.x1,r.y2=+c[a-3]||r.y1,c})},it=(e,t)=>{const r=st(e);let s=!1,n=[],i="M",o=0,c=0,[a,l]=r[0].slice(1);const m=typeof t=="number";let h={x:a,y:l},f=0,g=h,u=0;return!m||t<dt?h:(j(r,(y,p,x,C)=>{if([i]=y,s=i==="M",n=s?n:[x,C].concat(y.slice(1)),s?([,a,l]=y,h={x:a,y:l},f=0):i==="L"?(h=It(n[0],n[1],n[2],n[3],t-u),f=mt(n[0],n[1],n[2],n[3])):i==="A"?(h=Se(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],t-u),f=Dt(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])):i==="C"?(h=Ie(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],t-u),f=St(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7])):i==="Q"?(h=je(n[0],n[1],n[2],n[3],n[4],n[5],t-u),f=Tt(n[0],n[1],n[2],n[3],n[4],n[5])):i==="Z"&&(n=[x,C,a,l],h={x:a,y:l},f=mt(n[0],n[1],n[2],n[3])),[o,c]=n.slice(-2),u<t)g=h;else return!1;u+=f}),t>u-dt?{x:o,y:c}:g)},$t=(e,t)=>{const r=E(e);let s=r.slice(0),n=X(s),i=s.length-1,o=0,c=0,a=r[0];if(i<=0||!t||!Number.isFinite(t))return{segment:a,index:0,length:c,lengthAtSegment:o};if(t>=n)return s=r.slice(0,-1),o=X(s),c=n-o,a=r[i],{segment:a,index:i,length:c,lengthAtSegment:o};const l=[];for(;i>0;)a=s[i],s=s.slice(0,-1),o=X(s),c=n-o,n=o,l.push({segment:a,index:i,length:c,lengthAtSegment:o}),i-=1;return l.find(({lengthAtSegment:m})=>m<=t)},bt=(e,t)=>{const r=E(e),s=st(r),n=X(s),i=A=>{const M=A.x-t.x,S=A.y-t.y;return M*M+S*S};let o=8,c,a={x:0,y:0},l=0,m=0,h=1/0;for(let A=0;A<=n;A+=o)c=it(s,A),l=i(c),l<h&&(a=c,m=A,h=l);o/=2;let f,g,u=0,y=0,p=0,x=0;for(;o>1e-6&&(u=m-o,f=it(s,u),p=i(f),y=m+o,g=it(s,y),x=i(g),u>=0&&p<h?(a=f,m=u,h=p):y<=n&&x<h?(a=g,m=y,h=x):o/=2,!(o<1e-5)););const C=$t(r,m),d=Math.sqrt(h);return{closest:a,distance:d,segment:C}},Ze=(e,t)=>bt(e,t).closest,rn=(e,t,r,s,n,i,o,c)=>3*((c-t)*(r+n)-(o-e)*(s+i)+s*(e-n)-r*(t-i)+c*(n+e/3)-o*(i+t/3))/20,ee=e=>{let t=0,r=0,s=0;return yt(e).map(n=>{switch(n[0]){case"M":return[,t,r]=n,0;default:return s=rn(t,r,n[1],n[2],n[3],n[4],n[5],n[6]),[t,r]=n.slice(-2),s}}).reduce((n,i)=>n+i,0)},Oe=e=>ee(yt(e))>=0,Be=(e,t)=>$t(e,t).segment,He=(e,t)=>bt(e,t).segment,At=e=>Array.isArray(e)&&e.every(t=>{const r=t[0].toLowerCase();return K[r]===t.length-1&&"achlmqstvz".includes(r)&&t.slice(1).every(Number.isFinite)})&&e.length>0,ne=e=>At(e)&&e.every(([t])=>t===t.toUpperCase()),re=e=>ne(e)&&e.every(([t])=>"ACLMQZ".includes(t)),Fe=e=>re(e)&&e.every(([t])=>"MC".includes(t)),Ge=(e,t)=>{const{distance:r}=bt(e,t);return Math.abs(r)<dt},Ue=e=>At(e)&&e.slice(1).every(([t])=>t===t.toLowerCase()),se=e=>{if(typeof e!="string"||!e.length)return!1;const t=new Lt(e);for(W(t);t.index<t.max&&!t.err.length;)wt(t);return!t.err.length&&"mM".includes(t.segments[0][0])},ot={line:["x1","y1","x2","y2"],circle:["cx","cy","r"],ellipse:["cx","cy","rx","ry"],rect:["width","height","x","y","rx","ry"],polygon:["points"],polyline:["points"],glyph:["d"]},_e=e=>e!=null&&typeof e=="object"&&e.nodeType===1,sn=e=>{let{x1:t,y1:r,x2:s,y2:n}=e;return[t,r,s,n]=[t,r,s,n].map(i=>+i),[["M",t,r],["L",s,n]]},on=e=>{const t=[],r=(e.points||"").trim().split(/[\s|,]/).map(n=>+n);let s=0;for(;s<r.length;)t.push([s?"L":"M",r[s],r[s+1]]),s+=2;return e.type==="polygon"?[...t,["z"]]:t},an=e=>{let{cx:t,cy:r,r:s}=e;return[t,r,s]=[t,r,s].map(n=>+n),[["M",t-s,r],["a",s,s,0,1,0,2*s,0],["a",s,s,0,1,0,-2*s,0]]},cn=e=>{let{cx:t,cy:r}=e,s=e.rx||0,n=e.ry||s;return[t,r,s,n]=[t,r,s,n].map(i=>+i),[["M",t-s,r],["a",s,n,0,1,0,2*s,0],["a",s,n,0,1,0,-2*s,0]]},ln=e=>{const t=+e.x||0,r=+e.y||0,s=+e.width,n=+e.height;let i=+(e.rx||0),o=+(e.ry||i);return i||o?(i*2>s&&(i-=(i*2-s)/2),o*2>n&&(o-=(o*2-n)/2),[["M",t+i,r],["h",s-i*2],["s",i,0,i,o],["v",n-o*2],["s",0,o,-i,o],["h",-s+i*2],["s",-i,0,-i,-o],["v",-n+o*2],["s",0,-o,i,-o]]):[["M",t,r],["h",s],["v",n],["H",t],["Z"]]},ie=e=>{const t=Object.keys(ot),r=_e(e),s=r?e.tagName:null;if(s&&[...t,"path"].every(a=>s!==a))throw TypeError(`${Q}: "${s}" is not SVGElement`);const n=r?s:e.type,i=ot[n],o={type:n};r?i.forEach(a=>{o[a]=e.getAttribute(a)}):Object.assign(o,e);let c=[];return n==="circle"?c=an(o):n==="ellipse"?c=cn(o):["polyline","polygon"].includes(n)?c=on(o):n==="rect"?c=ln(o):n==="line"?c=sn(o):["glyph","path"].includes(n)&&(c=E(r?e.getAttribute("d")||"":e.d||"")),At(c)&&c.length?c:!1},Je=(e,t,r)=>{const s=r||document,n=Object.keys(ot),i=_e(e),o=i?e.tagName:null;if(o==="path")throw TypeError(`${Q}: "${o}" is already SVGPathElement`);if(o&&n.every(u=>o!==u))throw TypeError(`${Q}: "${o}" is not SVGElement`);const c=s.createElementNS("http://www.w3.org/2000/svg","path"),a=i?o:e.type,l=ot[a],m={type:a},h=J.round,f=ie(e),g=f&&f.length?qt(f,h):"";return i?(l.forEach(u=>{m[u]=e.getAttribute(u)}),Object.values(e.attributes).forEach(({name:u,value:y})=>{l.includes(u)||c.setAttribute(u,y)})):(Object.assign(m,e),Object.keys(m).forEach(u=>{!l.includes(u)&&u!=="type"&&c.setAttribute(u.replace(/[A-Z]/g,y=>`-${y.toLowerCase()}`),m[u])})),se(g)?(c.setAttribute("d",g),t&&i&&(e.before(c,e),e.remove()),c):!1},oe=(e,t,r,s)=>{const[n]=e,{round:i}=J,o=i,c=t.slice(1),{x1:a,y1:l,x2:m,y2:h,x:f,y:g}=r,[u,y]=c.slice(-2),p=e;if("TQ".includes(n)||(r.qx=null,r.qy=null),n==="L"){if(w(f,o)===w(u,o))return["V",y];if(w(g,o)===w(y,o))return["H",u]}else if(n==="C"){const[x,C]=c;if(r.x1=x,r.y1=C,"CS".includes(s)&&(w(x,o)===w(a*2-m,o)&&w(C,o)===w(l*2-h,o)||w(a,o)===w(m*2-f,o)&&w(l,o)===w(h*2-g,o)))return["S",c[2],c[3],c[4],c[5]]}else if(n==="Q"){const[x,C]=c;if(r.qx=x,r.qy=C,"QT".includes(s)&&w(x,o)===w(a*2-m,o)&&w(C,o)===w(l*2-h,o))return["T",c[2],c[3]]}return p},pt=(e,t)=>{const r=e.slice(1).map(s=>w(s,t));return[e[0]].concat(r)},ae=(e,t)=>{const r=ht(e),s=typeof t=="number"&&t>=0?t:2,n={...rt},i=[];let o="M",c="Z";return j(r,(a,l,m,h)=>{n.x=m,n.y=h;const f=gt(a,n);let g=a;if([o]=a,i[l]=o,l){c=i[l-1];const y=oe(a,f,n,c),p=pt(y,s),x=p.join(""),C=vt(y,l,m,h),d=pt(C,s),A=d.join("");g=x.length<A.length?p:d}const u=f.length;return n.x1=+f[u-2],n.y1=+f[u-1],n.x2=+f[u-4]||n.x1,n.y2=+f[u-3]||n.y1,g})},xt=e=>{const t=ht(e),r=st(t),s=t.length,n=t[s-1][0]==="Z",i=j(t,(o,c)=>{const a=r[c],l=c&&t[c-1],m=l&&l[0],h=t[c+1],f=h&&h[0],[g]=o,[u,y]=r[c?c-1:s-1].slice(-2);let p=o;switch(g){case"M":p=n?["Z"]:[g,u,y];break;case"A":p=[g,o[1],o[2],o[3],o[4],o[5]===1?0:1,u,y];break;case"C":h&&f==="S"?p=["S",o[1],o[2],u,y]:p=[g,o[3],o[4],o[1],o[2],u,y];break;case"S":m&&"CS".includes(m)&&(!h||f!=="S")?p=["C",a[3],a[4],a[1],a[2],u,y]:p=[g,a[1],a[2],u,y];break;case"Q":h&&f==="T"?p=["T",u,y]:p=[g,o[1],o[2],u,y];break;case"T":m&&"QT".includes(m)&&(!h||f!=="T")?p=["Q",a[1],a[2],u,y]:p=[g,u,y];break;case"Z":p=["M",u,y];break;case"H":p=[g,u];break;case"V":p=[g,y];break;default:p=[g].concat(o.slice(1,-2),u,y)}return p});return n?i.reverse():[i[0]].concat(i.slice(1).reverse())},ce=e=>{const t=[];let r,s=-1,n=0,i=0,o=0,c=0;const a={...rt};return e.forEach(l=>{const[m]=l,h=m.toUpperCase(),f=m.toLowerCase(),g=m===f,u=l.slice(1);h==="M"?(s+=1,[n,i]=u,n+=g?a.x:0,i+=g?a.y:0,o=n,c=i,r=[g?[h,o,c]:l]):(h==="Z"?(n=o,i=c):h==="H"?([,n]=l,n+=g?a.x:0):h==="V"?([,i]=l,i+=g?a.y:0):([n,i]=l.slice(-2),n+=g?a.x:0,i+=g?a.y:0),r.push(l)),a.x=n,a.y=i,t[s]=r}),t},le=e=>{let t=new T;const{origin:r}=e,[s,n]=r,{translate:i}=e,{rotate:o}=e,{skew:c}=e,{scale:a}=e;return Array.isArray(i)&&i.length>=2&&i.every(l=>!Number.isNaN(+l))&&i.some(l=>l!==0)?t=t.translate(...i):typeof i=="number"&&!Number.isNaN(i)&&(t=t.translate(i)),(o||c||a)&&(t=t.translate(s,n),Array.isArray(o)&&o.length>=2&&o.every(l=>!Number.isNaN(+l))&&o.some(l=>l!==0)?t=t.rotate(...o):typeof o=="number"&&!Number.isNaN(o)&&(t=t.rotate(o)),Array.isArray(c)&&c.length===2&&c.every(l=>!Number.isNaN(+l))&&c.some(l=>l!==0)?(t=c[0]?t.skewX(c[0]):t,t=c[1]?t.skewY(c[1]):t):typeof c=="number"&&!Number.isNaN(c)&&(t=t.skewX(c)),Array.isArray(a)&&a.length>=2&&a.every(l=>!Number.isNaN(+l))&&a.some(l=>l!==1)?t=t.scale(...a):typeof a=="number"&&!Number.isNaN(a)&&(t=t.scale(a)),t=t.translate(-s,-n)),t},mn=(e,t)=>{let r=T.Translate(t[0],t[1],t[2]);return[,,,r.m44]=t,r=e.multiply(r),[r.m41,r.m42,r.m43,r.m44]},kt=(e,t,r)=>{const[s,n,i]=r,[o,c,a]=mn(e,[t[0],t[1],0,1]),l=o-s,m=c-n,h=a-i;return[l*(Math.abs(i)/Math.abs(h)||1)+s,m*(Math.abs(i)/Math.abs(h)||1)+n]},me=(e,t)=>{let r=0,s=0,n=0,i=0,o=0,c=0,a="M";const l=E(e),m=t&&Object.keys(t);if(!t||m&&!m.length)return l.slice(0);t.origin||Object.assign(t,{origin:J.origin});const h=t.origin,f=le(t);return f.isIdentity?l.slice(0):j(l,(g,u,y,p)=>{[a]=g;const x=a.toUpperCase(),d=x!==a?nt(g,u,y,p):g.slice(0);let A=x==="A"?["C"].concat(ft(y,p,d[1],d[2],d[3],d[4],d[5],d[6],d[7])):x==="V"?["L",y,d[1]]:x==="H"?["L",d[1],p]:d;a=A[0];const M=a==="C"&&A.length>7,S=M?A.slice(0,7):A.slice(0);if(M&&(l.splice(u+1,0,["C"].concat(A.slice(7))),A=S),a==="L")[n,i]=kt(f,[A[1],A[2]],h),r!==n&&s!==i?A=["L",n,i]:s===i?A=["H",n]:r===n&&(A=["V",i]);else for(o=1,c=A.length;o<c;o+=2)[n,i]=kt(f,[+A[o],+A[o+1]],h),A[o]=n,A[o+1]=i;return r=n,s=i,A})},Ke=e=>{const t=e.slice(1).map((r,s,n)=>s?n[s-1].slice(-2).concat(r.slice(1)):e[0].slice(1).concat(r.slice(1))).map(r=>r.map((s,n)=>r[r.length-n-2*(1-n%2)])).reverse();return[["M"].concat(t[0].slice(0,2))].concat(t.map(r=>["C"].concat(r.slice(2))))},We=(e,t)=>{let{round:r}=J;return r=t==="off"||typeof t=="number"&&t>=0?t:typeof r=="number"&&r>=0?r:"off",r==="off"?e.slice(0):j(e,s=>pt(s,r))},Xe=(e,t=.5)=>{const r=t,s=e.slice(0,2),n=e.slice(2,4),i=e.slice(4,6),o=e.slice(6,8),c=Z(s,n,r),a=Z(n,i,r),l=Z(i,o,r),m=Z(c,a,r),h=Z(a,l,r),f=Z(m,h,r);return[["C",c[0],c[1],m[0],m[1],f[0],f[1]],["C",h[0],h[1],l[0],l[1],o[0],o[1]]]};class un{constructor(t,r){const s=r||{},n=typeof t>"u";if(n||!t.length)throw TypeError(`${Q}: "pathValue" is ${n?"undefined":"empty"}`);this.segments=E(t);const{round:i,origin:o}=s;let c;Number.isInteger(i)||i==="off"?c=i:c=J.round;let a=J.origin;if(Array.isArray(o)&&o.length>=2){const[l,m,h]=o.map(Number);a=[Number.isNaN(l)?0:l,Number.isNaN(m)?0:m,Number.isNaN(h)?0:h]}return this.round=c,this.origin=a,this}get bbox(){return te(this.segments)}get length(){return X(this.segments)}getBBox(){return this.bbox}getTotalLength(){return this.length}getPointAtLength(t){return it(this.segments,t)}toAbsolute(){const{segments:t}=this;return this.segments=ht(t),this}toRelative(){const{segments:t}=this;return this.segments=Wt(t),this}toCurve(){const{segments:t}=this;return this.segments=yt(t),this}reverse(t){const{segments:r}=this,s=ce(r),n=s.length>1?s:!1,i=n?n.map((c,a)=>t?a?xt(c):c.slice(0):xt(c)):r.slice(0);let o=[];return n?o=i.flat(1):o=t?r:xt(r),this.segments=o.slice(0),this}normalize(){const{segments:t}=this;return this.segments=st(t),this}optimize(){const{segments:t}=this,r=this.round==="off"?2:this.round;return this.segments=ae(t,r),this}transform(t){if(!t||typeof t!="object"||typeof t=="object"&&!["translate","rotate","skew","scale"].some(a=>a in t))return this;const{segments:r,origin:[s,n,i]}=this,o={};for(const[a,l]of Object.entries(t))a==="skew"&&Array.isArray(l)||(a==="rotate"||a==="translate"||a==="origin"||a==="scale")&&Array.isArray(l)?o[a]=l.map(Number):a!=="origin"&&typeof Number(l)=="number"&&(o[a]=Number(l));const{origin:c}=o;if(Array.isArray(c)&&c.length>=2){const[a,l,m]=c.map(Number);o.origin=[Number.isNaN(a)?s:a,Number.isNaN(l)?n:l,m||i]}else o.origin=[s,n,i];return this.segments=me(r,o),this}flipX(){const{cx:t,cy:r}=this.bbox;return this.transform({rotate:[0,180,0],origin:[t,r,0]}),this}flipY(){const{cx:t,cy:r}=this.bbox;return this.transform({rotate:[180,0,0],origin:[t,r,0]}),this}toString(){return qt(this.segments,this.round)}dispose(){Object.keys(this).forEach(t=>delete this[t])}static get CSSMatrix(){return T}static get arcTools(){return Ne}static get bezierTools(){return ke}static get cubicTools(){return Re}static get lineTools(){return Pe}static get polygonTools(){return Qe}static get quadTools(){return De}static get pathToAbsolute(){return ht}static get pathToRelative(){return Wt}static get pathToCurve(){return yt}static get pathToString(){return qt}static get distanceSquareRoot(){return lt}static get midPoint(){return Z}static get rotateVector(){return et}static get roundTo(){return w}static get parsePathString(){return E}static get finalizeSegment(){return Nt}static get invalidPathValue(){return G}static get isArcCommand(){return Jt}static get isDigit(){return F}static get isDigitStart(){return _t}static get isMoveCommand(){return Kt}static get isPathCommand(){return Ut}static get isSpace(){return Gt}static get paramsCount(){return K}static get paramsParser(){return rt}static get pathParser(){return Lt}static get scanFlag(){return Ht}static get scanParam(){return Ft}static get scanSegment(){return wt}static get skipSpaces(){return W}static get distanceEpsilon(){return dt}static get getClosestPoint(){return Ze}static get getDrawDirection(){return Oe}static get getPathArea(){return ee}static get getPathBBox(){return te}static get getPointAtLength(){return it}static get getPropertiesAtLength(){return $t}static get getPropertiesAtPoint(){return bt}static get getSegmentAtLength(){return Be}static get getSegmentOfPoint(){return He}static get getTotalLength(){return X}static get isAbsoluteArray(){return ne}static get isCurveArray(){return Fe}static get isNormalizedArray(){return re}static get isPathArray(){return At}static get isPointInStroke(){return Ge}static get isRelativeArray(){return Ue}static get isValidPath(){return se}static get shapeParams(){return ot}static get shapeToPath(){return Je}static get shapeToPathArray(){return ie}static get absolutizeSegment(){return nt}static get arcToCubic(){return ft}static get getSVGMatrix(){return le}static get iterate(){return j}static get lineToCubic(){return zt}static get normalizePath(){return st}static get normalizeSegment(){return gt}static get optimizePath(){return ae}static get projection2d(){return kt}static get quadToCubic(){return Xt}static get relativizeSegment(){return vt}static get reverseCurve(){return Ke}static get reversePath(){return xt}static get roundPath(){return We}static get roundSegment(){return pt}static get segmentToCubic(){return Yt}static get shortenSegment(){return oe}static get splitCubic(){return Xe}static get splitPath(){return ce}static get transformPath(){return me}}return b.CSSMatrix=T,b.absolutizeSegment=nt,b.arcToCubic=ft,b.arcTools=Ne,b.bezierTools=ke,b.cubicTools=Re,b.default=un,b.distanceEpsilon=dt,b.distanceSquareRoot=lt,b.finalizeSegment=Nt,b.getClosestPoint=Ze,b.getDrawDirection=Oe,b.getPathArea=ee,b.getPathBBox=te,b.getPointAtLength=it,b.getPropertiesAtLength=$t,b.getPropertiesAtPoint=bt,b.getSVGMatrix=le,b.getSegmentAtLength=Be,b.getSegmentOfPoint=He,b.getTotalLength=X,b.invalidPathValue=G,b.isAbsoluteArray=ne,b.isArcCommand=Jt,b.isCurveArray=Fe,b.isDigit=F,b.isDigitStart=_t,b.isMoveCommand=Kt,b.isNormalizedArray=re,b.isPathArray=At,b.isPathCommand=Ut,b.isPointInStroke=Ge,b.isRelativeArray=Ue,b.isSpace=Gt,b.isValidPath=se,b.iterate=j,b.lineToCubic=zt,b.lineTools=Pe,b.midPoint=Z,b.normalizePath=st,b.normalizeSegment=gt,b.optimizePath=ae,b.paramsCount=K,b.paramsParser=rt,b.parsePathString=E,b.pathParser=Lt,b.pathToAbsolute=ht,b.pathToCurve=yt,b.pathToRelative=Wt,b.pathToString=qt,b.polygonTools=Qe,b.projection2d=kt,b.quadToCubic=Xt,b.quadTools=De,b.relativizeSegment=vt,b.reverseCurve=Ke,b.reversePath=xt,b.rotateVector=et,b.roundPath=We,b.roundSegment=pt,b.roundTo=w,b.scanFlag=Ht,b.scanParam=Ft,b.scanSegment=wt,b.segmentToCubic=Yt,b.shapeParams=ot,b.shapeToPath=Je,b.shapeToPathArray=ie,b.shortenSegment=oe,b.skipSpaces=W,b.splitCubic=Xe,b.splitPath=ce,b.transformPath=me,Object.defineProperties(b,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}}),b}({});
//# sourceMappingURL=svg-path-commander.js.map
